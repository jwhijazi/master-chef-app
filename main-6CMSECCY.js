var W_=Object.defineProperty,Z_=Object.defineProperties;var Y_=Object.getOwnPropertyDescriptors;var da=Object.getOwnPropertySymbols,Q_=Object.getPrototypeOf,xp=Object.prototype.hasOwnProperty,Ap=Object.prototype.propertyIsEnumerable,K_=Reflect.get;var fu=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e);var Mp=(e,t,n)=>t in e?W_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||={})xp.call(t,n)&&Mp(e,n,t[n]);if(da)for(var n of da(t))Ap.call(t,n)&&Mp(e,n,t[n]);return e},p=(e,t)=>Z_(e,Y_(t));var ae=(e,t)=>{var n={};for(var r in e)xp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&da)for(var r of da(e))t.indexOf(r)<0&&Ap.call(e,r)&&(n[r]=e[r]);return n};var hu=(e,t,n)=>K_(Q_(e),n,t);var y=(e,t,n)=>new Promise((r,o)=>{var i=c=>{try{a(n.next(c))}catch(l){o(l)}},s=c=>{try{a(n.throw(c))}catch(l){o(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,s);a((n=n.apply(e,t)).next())}),ge=function(e,t){this[0]=e,this[1]=t},Mt=(e,t,n)=>{var r=(s,a,c,l)=>{try{var d=n[s](a),f=(a=d.value)instanceof ge,g=d.done;Promise.resolve(f?a[0]:a).then(h=>f?r(s==="return"?s:"next",a[1]?{done:h.done,value:h.value}:h,c,l):c({value:h,done:g})).catch(h=>r("throw",h,c,l))}catch(h){l(h)}},o=s=>i[s]=a=>new Promise((c,l)=>r(s,a,c,l)),i={};return n=n.apply(e,t),i[fu("asyncIterator")]=()=>i,o("next"),o("throw"),o("return"),i};var ce=(e,t,n)=>(t=e[fu("asyncIterator")])?t.call(e):(e=e[fu("iterator")](),t={},n=(r,o)=>(o=e[r])&&(t[r]=i=>new Promise((s,a,c)=>(i=o.call(e,i),c=i.done,Promise.resolve(i.value).then(l=>s({value:l,done:c}),a)))),n("next"),n("return"),t);function yu(e,t){return Object.is(e,t)}var me=null,fa=!1,vu=1,tt=Symbol("SIGNAL");function j(e){let t=me;return me=e,t}function wu(){return me}var Ii={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Si(e){if(fa)throw new Error("");if(me===null)return;me.consumerOnSignalRead(e);let t=me.nextProducerIndex++;if(ma(me),t<me.producerNode.length&&me.producerNode[t]!==e&&Ei(me)){let n=me.producerNode[t];ga(n,me.producerIndexOfThis[t])}me.producerNode[t]!==e&&(me.producerNode[t]=e,me.producerIndexOfThis[t]=Ei(me)?Rp(e,me,t):0),me.producerLastReadVersion[t]=e.version}function Tp(){vu++}function _u(e){if(!(Ei(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===vu)){if(!e.producerMustRecompute(e)&&!Eu(e)){mu(e);return}e.producerRecomputeValue(e),mu(e)}}function Du(e){if(e.liveConsumerNode===void 0)return;let t=fa;fa=!0;try{for(let n of e.liveConsumerNode)n.dirty||J_(n)}finally{fa=t}}function Cu(){return me?.consumerAllowSignalWrites!==!1}function J_(e){e.dirty=!0,Du(e),e.consumerMarkedDirty?.(e)}function mu(e){e.dirty=!1,e.lastCleanEpoch=vu}function pa(e){return e&&(e.nextProducerIndex=0),j(e)}function bu(e,t){if(j(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Ei(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)ga(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Eu(e){ma(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(_u(n),r!==n.version))return!0}return!1}function Iu(e){if(ma(e),Ei(e))for(let t=0;t<e.producerNode.length;t++)ga(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Rp(e,t,n){if(Np(e),e.liveConsumerNode.length===0&&Op(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Rp(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function ga(e,t){if(Np(e),e.liveConsumerNode.length===1&&Op(e))for(let r=0;r<e.producerNode.length;r++)ga(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];ma(o),o.producerIndexOfThis[r]=t}}function Ei(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ma(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Np(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Op(e){return e.producerNode!==void 0}function Su(e,t){let n=Object.create(X_);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(_u(n),Si(n),n.value===ha)throw n.error;return n.value};return r[tt]=n,r}var pu=Symbol("UNSET"),gu=Symbol("COMPUTING"),ha=Symbol("ERRORED"),X_=p(u({},Ii),{value:pu,dirty:!0,error:null,equal:yu,kind:"computed",producerMustRecompute(e){return e.value===pu||e.value===gu},producerRecomputeValue(e){if(e.value===gu)throw new Error("Detected cycle in computations.");let t=e.value;e.value=gu;let n=pa(e),r,o=!1;try{r=e.computation(),j(null),o=t!==pu&&t!==ha&&r!==ha&&e.equal(t,r)}catch(i){r=ha,e.error=i}finally{bu(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function eD(){throw new Error}var Pp=eD;function Fp(e){Pp(e)}function Mu(e){Pp=e}var tD=null;function xu(e,t){let n=Object.create(ya);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(Si(n),n.value);return r[tt]=n,r}function Mi(e,t){Cu()||Fp(e),e.equal(e.value,t)||(e.value=t,nD(e))}function Au(e,t){Cu()||Fp(e),Mi(e,t(e.value))}var ya=p(u({},Ii),{equal:yu,value:void 0,kind:"signal"});function nD(e){e.version++,Tp(),Du(e),tD?.()}function Tu(e){let t=j(null);try{return e()}finally{j(t)}}var Ru;function xi(){return Ru}function Kt(e){let t=Ru;return Ru=e,t}var va=Symbol("NotFound");function O(e){return typeof e=="function"}function Wr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var wa=Wr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ai(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var de=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(i){t=i instanceof wa?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{kp(i)}catch(s){t=t??[],s instanceof wa?t=[...t,...s.errors]:t.push(s)}}if(t)throw new wa(t)}}add(t){var n;if(t&&t!==this)if(this.closed)kp(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Ai(n,t)}remove(t){let{_finalizers:n}=this;n&&Ai(n,t),t instanceof e&&t._removeParent(this)}};de.EMPTY=(()=>{let e=new de;return e.closed=!0,e})();var Nu=de.EMPTY;function _a(e){return e instanceof de||e&&"closed"in e&&O(e.remove)&&O(e.add)&&O(e.unsubscribe)}function kp(e){O(e)?e():e.unsubscribe()}var ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zr={setTimeout(e,t,...n){let{delegate:r}=Zr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Zr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Da(e){Zr.setTimeout(()=>{let{onUnhandledError:t}=ft;if(t)t(e);else throw e})}function Ti(){}var Lp=Ou("C",void 0,void 0);function Vp(e){return Ou("E",void 0,e)}function jp(e){return Ou("N",e,void 0)}function Ou(e,t,n){return{kind:e,value:t,error:n}}var Qn=null;function Yr(e){if(ft.useDeprecatedSynchronousErrorHandling){let t=!Qn;if(t&&(Qn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Qn;if(Qn=null,n)throw r}}else e()}function Bp(e){ft.useDeprecatedSynchronousErrorHandling&&Qn&&(Qn.errorThrown=!0,Qn.error=e)}var Kn=class extends de{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,_a(t)&&t.add(this)):this.destination=cD}static create(t,n,r){return new Qr(t,n,r)}next(t){this.isStopped?Fu(jp(t),this):this._next(t)}error(t){this.isStopped?Fu(Vp(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Fu(Lp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},sD=Function.prototype.bind;function Pu(e,t){return sD.call(e,t)}var ku=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ca(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ca(r)}else Ca(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ca(n)}}},Qr=class extends Kn{constructor(t,n,r){super();let o;if(O(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&ft.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Pu(t.next,i),error:t.error&&Pu(t.error,i),complete:t.complete&&Pu(t.complete,i)}):o=t}this.destination=new ku(o)}};function Ca(e){ft.useDeprecatedSynchronousErrorHandling?Bp(e):Da(e)}function aD(e){throw e}function Fu(e,t){let{onStoppedNotification:n}=ft;n&&Zr.setTimeout(()=>n(e,t))}var cD={closed:!0,next:Ti,error:aD,complete:Ti};var Kr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ze(e){return e}function Lu(...e){return Vu(e)}function Vu(e){return e.length===0?ze:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var Y=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=uD(n)?n:new Qr(n,r,o);return Yr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=$p(r),new r((o,i)=>{let s=new Qr({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Kr](){return this}pipe(...n){return Vu(n)(this)}toPromise(n){return n=$p(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function $p(e){var t;return(t=e??ft.Promise)!==null&&t!==void 0?t:Promise}function lD(e){return e&&O(e.next)&&O(e.error)&&O(e.complete)}function uD(e){return e&&e instanceof Kn||lD(e)&&_a(e)}function ju(e){return O(e?.lift)}function q(e){return t=>{if(ju(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(e,t,n,r,o){return new Bu(e,t,n,r,o)}var Bu=class extends Kn{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Jr(){return q((e,t)=>{let n=null;e._refCount++;let r=H(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Xr=class extends Y{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ju(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new de;let n=this.getSubject();t.add(this.source.subscribe(H(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=de.EMPTY)}return t}refCount(){return Jr()(this)}};var Up=Wr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=(()=>{class e extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ba(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Up}next(n){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Nu:(this.currentObservers=null,i.push(n),new de(()=>{this.currentObservers=null,Ai(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new Y;return n.source=this,n}}return e.create=(t,n)=>new ba(t,n),e})(),ba=class extends fe{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Nu}};var Ae=class extends fe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Le=new Y(e=>e.complete());function Hp(e){return e&&O(e.schedule)}function zp(e){return e[e.length-1]}function Ea(e){return O(zp(e))?e.pop():void 0}function hn(e){return Hp(zp(e))?e.pop():void 0}function Gp(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?i(d.value):o(d.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function qp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jn(e){return this instanceof Jn?(this.v=e,this):new Jn(e)}function Wp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(h){return function(m){return Promise.resolve(m).then(h,f)}}function a(h,m){r[h]&&(o[h]=function(_){return new Promise(function(D,x){i.push([h,_,D,x])>1||c(h,_)})},m&&(o[h]=m(o[h])))}function c(h,m){try{l(r[h](m))}catch(_){g(i[0][3],_)}}function l(h){h.value instanceof Jn?Promise.resolve(h.value.v).then(d,f):g(i[0][2],h)}function d(h){c("next",h)}function f(h){c("throw",h)}function g(h,m){h(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Zp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof qp=="function"?qp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var Ia=e=>e&&typeof e.length=="number"&&typeof e!="function";function Sa(e){return O(e?.then)}function Ma(e){return O(e[Kr])}function xa(e){return Symbol.asyncIterator&&O(e?.[Symbol.asyncIterator])}function Aa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function dD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ta=dD();function Ra(e){return O(e?.[Ta])}function Na(e){return Wp(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield Jn(n.read());if(o)return yield Jn(void 0);yield yield Jn(r)}}finally{n.releaseLock()}})}function Oa(e){return O(e?.getReader)}function he(e){if(e instanceof Y)return e;if(e!=null){if(Ma(e))return fD(e);if(Ia(e))return hD(e);if(Sa(e))return pD(e);if(xa(e))return Yp(e);if(Ra(e))return gD(e);if(Oa(e))return mD(e)}throw Aa(e)}function fD(e){return new Y(t=>{let n=e[Kr]();if(O(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hD(e){return new Y(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function pD(e){return new Y(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Da)})}function gD(e){return new Y(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Yp(e){return new Y(t=>{yD(e,t).catch(n=>t.error(n))})}function mD(e){return Yp(Na(e))}function yD(e,t){var n,r,o,i;return Gp(this,void 0,void 0,function*(){try{for(n=Zp(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function Ve(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Pa(e,t=0){return q((n,r)=>{n.subscribe(H(r,o=>Ve(r,e,()=>r.next(o),t),()=>Ve(r,e,()=>r.complete(),t),o=>Ve(r,e,()=>r.error(o),t)))})}function Fa(e,t=0){return q((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Qp(e,t){return he(e).pipe(Fa(t),Pa(t))}function Kp(e,t){return he(e).pipe(Fa(t),Pa(t))}function Jp(e,t){return new Y(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Xp(e,t){return new Y(n=>{let r;return Ve(n,t,()=>{r=e[Ta](),Ve(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>O(r?.return)&&r.return()})}function ka(e,t){if(!e)throw new Error("Iterable cannot be null");return new Y(n=>{Ve(n,t,()=>{let r=e[Symbol.asyncIterator]();Ve(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function eg(e,t){return ka(Na(e),t)}function tg(e,t){if(e!=null){if(Ma(e))return Qp(e,t);if(Ia(e))return Jp(e,t);if(Sa(e))return Kp(e,t);if(xa(e))return ka(e,t);if(Ra(e))return Xp(e,t);if(Oa(e))return eg(e,t)}throw Aa(e)}function ne(e,t){return t?tg(e,t):he(e)}function A(...e){let t=hn(e);return ne(e,t)}function eo(e,t){let n=O(e)?e:()=>e,r=o=>o.error(n());return new Y(t?o=>t.schedule(r,0,o):r)}function $u(e){return!!e&&(e instanceof Y||O(e.lift)&&O(e.subscribe))}var Jt=Wr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function z(e,t){return q((n,r)=>{let o=0;n.subscribe(H(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:vD}=Array;function wD(e,t){return vD(t)?e(...t):e(t)}function La(e){return z(t=>wD(e,t))}var{isArray:_D}=Array,{getPrototypeOf:DD,prototype:CD,keys:bD}=Object;function Va(e){if(e.length===1){let t=e[0];if(_D(t))return{args:t,keys:null};if(ED(t)){let n=bD(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function ED(e){return e&&typeof e=="object"&&DD(e)===CD}function ja(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Ri(...e){let t=hn(e),n=Ea(e),{args:r,keys:o}=Va(e);if(r.length===0)return ne([],t);let i=new Y(ID(r,t,o?s=>ja(o,s):ze));return n?i.pipe(La(n)):i}function ID(e,t,n=ze){return r=>{ng(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)ng(t,()=>{let l=ne(e[c],t),d=!1;l.subscribe(H(r,f=>{i[c]=f,d||(d=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ng(e,t,n){e?Ve(n,e,t):t()}function rg(e,t,n,r,o,i,s,a){let c=[],l=0,d=0,f=!1,g=()=>{f&&!c.length&&!l&&t.complete()},h=_=>l<r?m(_):c.push(_),m=_=>{i&&t.next(_),l++;let D=!1;he(n(_,d++)).subscribe(H(t,x=>{o?.(x),i?h(x):t.next(x)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<r;){let x=c.shift();s?Ve(t,s,()=>m(x)):m(x)}g()}catch(x){t.error(x)}}))};return e.subscribe(H(t,h,()=>{f=!0,g()})),()=>{a?.()}}function le(e,t,n=1/0){return O(t)?le((r,o)=>z((i,s)=>t(r,i,o,s))(he(e(r,o))),n):(typeof t=="number"&&(n=t),q((r,o)=>rg(r,o,e,n)))}function to(e=1/0){return le(ze,e)}function og(){return to(1)}function no(...e){return og()(ne(e,hn(e)))}function Ba(e){return new Y(t=>{he(e()).subscribe(t)})}function Uu(...e){let t=Ea(e),{args:n,keys:r}=Va(e),o=new Y(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let f=!1;he(n[d]).subscribe(H(i,g=>{f||(f=!0,l--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(l||i.next(r?ja(r,a):a),i.complete())}))}});return t?o.pipe(La(t)):o}function qe(e,t){return q((n,r)=>{let o=0;n.subscribe(H(r,i=>e.call(t,i,o++)&&r.next(i)))})}function Xt(e){return q((t,n)=>{let r=null,o=!1,i;r=t.subscribe(H(n,void 0,void 0,s=>{i=he(e(s,Xt(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function ig(e,t,n,r,o){return(i,s)=>{let a=n,c=t,l=0;i.subscribe(H(s,d=>{let f=l++;c=a?e(c,d,f):(a=!0,d),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function pn(e,t){return O(t)?le(e,t,1):le(e,1)}function gn(e){return q((t,n)=>{let r=!1;t.subscribe(H(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function en(e){return e<=0?()=>Le:q((t,n)=>{let r=0;t.subscribe(H(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function $a(e=SD){return q((t,n)=>{let r=!1;t.subscribe(H(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function SD(){return new Jt}function Ni(e){return q((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function tn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?qe((o,i)=>e(o,i,r)):ze,en(1),n?gn(t):$a(()=>new Jt))}function ro(e){return e<=0?()=>Le:q((t,n)=>{let r=[];t.subscribe(H(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Hu(e,t){let n=arguments.length>=2;return r=>r.pipe(e?qe((o,i)=>e(o,i,r)):ze,ro(1),n?gn(t):$a(()=>new Jt))}function zu(e,t){return q(ig(e,t,arguments.length>=2,!0))}function qu(...e){let t=hn(e);return q((n,r)=>{(t?no(e,n,t):no(e,n)).subscribe(r)})}function nt(e,t){return q((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(H(r,c=>{o?.unsubscribe();let l=0,d=i++;he(e(c,d)).subscribe(o=H(r,f=>r.next(t?t(c,f,d,l++):f),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Gu(e){return q((t,n)=>{he(e).subscribe(H(n,()=>n.complete(),Ti)),!n.closed&&t.subscribe(n)})}function Te(e,t,n){let r=O(e)||t||n?{next:e,error:t,complete:n}:e;return r?q((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(H(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ze}var Wg="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",S=class extends Error{code;constructor(t,n){super(Zg(t,n)),this.code=t}};function MD(e){return`NG0${Math.abs(e)}`}function Zg(e,t){return`${MD(e)}${t?": "+t:""}`}var Yg=Symbol("InputSignalNode#UNSET"),xD=p(u({},ya),{transformFn:void 0,applyValueToInputSignal(e,t){Mi(e,t)}});function Qg(e,t){let n=Object.create(xD);n.value=e,n.transformFn=t?.transform;function r(){if(Si(n),n.value===Yg){let o=null;throw new S(-950,o)}return n.value}return r[tt]=n,r}function Dc(e){return{toString:e}.toString()}var ad=globalThis;function X(e){for(let t in e)if(e[t]===X)return t;throw Error("Could not find renamed property on target object.")}function AD(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function je(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(je).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function sg(e,t){return e?t?`${e} ${t}`:e:t||""}var TD=X({__forward_ref__:X});function Wi(e){return e.__forward_ref__=Wi,e.toString=function(){return je(this())},e}function Pe(e){return Kg(e)?e():e}function Kg(e){return typeof e=="function"&&e.hasOwnProperty(TD)&&e.__forward_ref__===Wi}function M(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function wn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Cc(e){return ag(e,Xg)||ag(e,em)}function Jg(e){return Cc(e)!==null}function ag(e,t){return e.hasOwnProperty(t)?e[t]:null}function RD(e){let t=e&&(e[Xg]||e[em]);return t||null}function cg(e){return e&&(e.hasOwnProperty(lg)||e.hasOwnProperty(ND))?e[lg]:null}var Xg=X({\u0275prov:X}),lg=X({\u0275inj:X}),em=X({ngInjectableDef:X}),ND=X({ngInjectorDef:X}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function tm(e){return e&&!!e.\u0275providers}var OD=X({\u0275cmp:X}),PD=X({\u0275dir:X}),FD=X({\u0275pipe:X}),kD=X({\u0275mod:X}),Ya=X({\u0275fac:X}),ki=X({__NG_ELEMENT_ID__:X}),ug=X({__NG_ENV_ID__:X});function bc(e){return typeof e=="string"?e:e==null?"":String(e)}function LD(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():bc(e)}function nm(e,t){throw new S(-200,e)}function Qd(e,t){throw new S(-201,!1)}var B=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(B||{}),cd;function rm(){return cd}function rt(e){let t=cd;return cd=e,t}function om(e,t,n){let r=Cc(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&B.Optional)return null;if(t!==void 0)return t;Qd(e,"Injector")}var VD={},Xn=VD,jD="__NG_DI_FLAG__",Qa=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?va:Xn,r)}},Ka="ngTempTokenPath",BD="ngTokenPath",$D=/\n/gm,UD="\u0275",dg="__source";function HD(e,t=B.Default){if(xi()===void 0)throw new S(-203,!1);if(xi()===null)return om(e,void 0,t);{let n=xi(),r;return n instanceof Qa?r=n.injector:r=n,r.get(e,t&B.Optional?null:void 0,t)}}function R(e,t=B.Default){return(rm()||HD)(Pe(e),t)}function v(e,t=B.Default){return R(e,Ec(t))}function Ec(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ld(e){let t=[];for(let n=0;n<e.length;n++){let r=Pe(e[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let o,i=B.Default;for(let s=0;s<r.length;s++){let a=r[s],c=zD(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(R(o,i))}else t.push(R(r))}return t}function zD(e){return e[jD]}function qD(e,t,n,r){let o=e[Ka];throw t[dg]&&o.unshift(t[dg]),e.message=GD(`
`+e.message,o,n,r),e[BD]=o,e[Ka]=null,e}function GD(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==UD?e.slice(2):e;let o=je(t);if(Array.isArray(t))o=t.map(je).join(" -> ");else if(typeof t=="object"){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):je(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace($D,`
  `)}`}function uo(e,t){let n=e.hasOwnProperty(Ya);return n?e[Ya]:null}function Kd(e,t){e.forEach(n=>Array.isArray(n)?Kd(n,t):t(n))}function im(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ja(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function WD(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function ZD(e,t,n){let r=Zi(e,t);return r>=0?e[r|1]=n:(r=~r,WD(e,r,t,n)),r}function Wu(e,t){let n=Zi(e,t);if(n>=0)return e[n|1]}function Zi(e,t){return YD(e,t,1)}function YD(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var tr={},ot=[],Li=new b(""),sm=new b("",-1),am=new b(""),Xa=class{get(t,n=Xn){if(n===Xn){let r=new Error(`NullInjectorError: No provider for ${je(t)}!`);throw r.name="NullInjectorError",r}return n}};function cm(e,t){let n=e[kD]||null;if(!n&&t===!0)throw new Error(`Type ${je(e)} does not have '\u0275mod' property.`);return n}function nr(e){return e[OD]||null}function QD(e){return e[PD]||null}function KD(e){return e[FD]||null}function Ic(e){return{\u0275providers:e}}function JD(...e){return{\u0275providers:lm(!0,e),\u0275fromNgModule:!0}}function lm(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return Kd(t,s=>{let a=s;ud(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&um(o,i),n}function um(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];Jd(o,i=>{t(i,r)})}}function ud(e,t,n,r){if(e=Pe(e),!e)return!1;let o=null,i=cg(e),s=!i&&nr(e);if(!i&&!s){let c=e.ngModule;if(i=cg(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ud(l,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{Kd(i.imports,d=>{ud(d,t,n,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&um(l,t)}if(!a){let l=uo(o)||(()=>new o);t({provide:o,useFactory:l,deps:ot},o),t({provide:am,useValue:o,multi:!0},o),t({provide:Li,useValue:()=>R(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=e;Jd(c,d=>{t(d,l)})}}else return!1;return o!==e&&e.providers!==void 0}function Jd(e,t){for(let n of e)tm(n)&&(n=n.\u0275providers),Array.isArray(n)?Jd(n,t):t(n)}var XD=X({provide:String,useValue:X});function dm(e){return e!==null&&typeof e=="object"&&XD in e}function eC(e){return!!(e&&e.useExisting)}function tC(e){return!!(e&&e.useFactory)}function fo(e){return typeof e=="function"}function nC(e){return!!e.useClass}var Sc=new b(""),za={},fg={},Zu;function Xd(){return Zu===void 0&&(Zu=new Xa),Zu}var Be=class{},Vi=class extends Be{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,fd(t,s=>this.processProvider(s)),this.records.set(sm,oo(void 0,this)),o.has("environment")&&this.records.set(Be,oo(void 0,this));let i=this.records.get(Sc);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(am,ot,B.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?va:Xn,r)}destroy(){Pi(this),this._destroyed=!0;let t=j(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),j(t)}}onDestroy(t){return Pi(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Pi(this);let n=Kt(this),r=rt(void 0),o;try{return t()}finally{Kt(n),rt(r)}}get(t,n=Xn,r=B.Default){if(Pi(this),t.hasOwnProperty(ug))return t[ug](this);r=Ec(r);let o,i=Kt(this),s=rt(void 0);try{if(!(r&B.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=aC(t)&&Cc(t);l&&this.injectableDefInScope(l)?c=oo(dd(t),za):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=r&B.Self?Xd():this.parent;return n=r&B.Optional&&n===Xn?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ka]=a[Ka]||[]).unshift(je(t)),i)throw a;return qD(a,t,"R3InjectorError",this.source)}else throw a}finally{rt(s),Kt(i)}}resolveInjectorInitializers(){let t=j(null),n=Kt(this),r=rt(void 0),o;try{let i=this.get(Li,ot,B.Self);for(let s of i)s()}finally{Kt(n),rt(r),j(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(je(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Pe(t);let n=fo(t)?t:Pe(t&&t.provide),r=oC(t);if(!fo(t)&&t.multi===!0){let o=this.records.get(n);o||(o=oo(void 0,za,!0),o.factory=()=>ld(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=j(null);try{return n.value===fg?nm(je(t)):n.value===za&&(n.value=fg,n.value=n.factory()),typeof n.value=="object"&&n.value&&sC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{j(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Pe(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function dd(e){let t=Cc(e),n=t!==null?t.factory:uo(e);if(n!==null)return n;if(e instanceof b)throw new S(204,!1);if(e instanceof Function)return rC(e);throw new S(204,!1)}function rC(e){if(e.length>0)throw new S(204,!1);let n=RD(e);return n!==null?()=>n.factory(e):()=>new e}function oC(e){if(dm(e))return oo(void 0,e.useValue);{let t=fm(e);return oo(t,za)}}function fm(e,t,n){let r;if(fo(e)){let o=Pe(e);return uo(o)||dd(o)}else if(dm(e))r=()=>Pe(e.useValue);else if(tC(e))r=()=>e.useFactory(...ld(e.deps||[]));else if(eC(e))r=()=>R(Pe(e.useExisting));else{let o=Pe(e&&(e.useClass||e.provide));if(iC(e))r=()=>new o(...ld(e.deps));else return uo(o)||dd(o)}return r}function Pi(e){if(e.destroyed)throw new S(205,!1)}function oo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function iC(e){return!!e.deps}function sC(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function aC(e){return typeof e=="function"||typeof e=="object"&&e instanceof b}function fd(e,t){for(let n of e)Array.isArray(n)?fd(n,t):n&&tm(n)?fd(n.\u0275providers,t):t(n)}function ct(e,t){let n;e instanceof Vi?(Pi(e),n=e):n=new Qa(e);let r,o=Kt(n),i=rt(void 0);try{return t()}finally{Kt(o),rt(i)}}function hm(){return rm()!==void 0||xi()!=null}function cC(e){if(!hm())throw new S(-203,!1)}function lC(e){return typeof e=="function"}var rn=0,$=1,P=2,ke=3,pt=4,mt=5,ji=6,ec=7,ye=8,ho=9,nn=10,ve=11,Bi=12,hg=13,Do=14,gt=15,po=16,io=17,go=18,Mc=19,pm=20,mn=21,Yu=22,tc=23,it=24,co=25,st=26,gm=1;var rr=7,nc=8,rc=9,Fe=10;function yn(e){return Array.isArray(e)&&typeof e[gm]=="object"}function on(e){return Array.isArray(e)&&e[gm]===!0}function mm(e){return(e.flags&4)!==0}function Co(e){return e.componentOffset>-1}function ef(e){return(e.flags&1)===1}function At(e){return!!e.template}function oc(e){return(e[P]&512)!==0}function Yi(e){return(e[P]&256)===256}var hd=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ym(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var lr=(()=>{let e=()=>vm;return e.ngInherit=!0,e})();function vm(e){return e.type.prototype.ngOnChanges&&(e.setInput=dC),uC}function uC(){let e=_m(this),t=e?.current;if(t){let n=e.previous;if(n===tr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function dC(e,t,n,r,o){let i=this.declaredInputs[r],s=_m(e)||fC(e,{previous:tr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new hd(l&&l.currentValue,n,c===tr),ym(e,t,o,n)}var wm="__ngSimpleChanges__";function _m(e){return e[wm]||null}function fC(e,t){return e[wm]=t}var pg=null;var K=function(e,t=null,n){pg?.(e,t,n)},Dm="svg",hC="math";function Tt(e){for(;Array.isArray(e);)e=e[rn];return e}function Cm(e,t){return Tt(t[e])}function Pt(e,t){return Tt(t[e.index])}function tf(e,t){return e.data[t]}function Rt(e,t){let n=t[e];return yn(n)?n:n[rn]}function nf(e){return(e[P]&128)===128}function pC(e){return on(e[ke])}function mo(e,t){return t==null?null:e[t]}function bm(e){e[io]=0}function Em(e){e[P]&1024||(e[P]|=1024,nf(e)&&Qi(e))}function gC(e,t){for(;e>0;)t=t[Do],e--;return t}function xc(e){return!!(e[P]&9216||e[it]?.dirty)}function pd(e){e[nn].changeDetectionScheduler?.notify(8),e[P]&64&&(e[P]|=1024),xc(e)&&Qi(e)}function Qi(e){e[nn].changeDetectionScheduler?.notify(0);let t=or(e);for(;t!==null&&!(t[P]&8192||(t[P]|=8192,!nf(t)));)t=or(t)}function Im(e,t){if(Yi(e))throw new S(911,!1);e[mn]===null&&(e[mn]=[]),e[mn].push(t)}function mC(e,t){if(e[mn]===null)return;let n=e[mn].indexOf(t);n!==-1&&e[mn].splice(n,1)}function or(e){let t=e[ke];return on(t)?t[ke]:t}function Sm(e){return e[ec]??=[]}function Mm(e){return e.cleanup??=[]}var U={lFrame:Fm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var gd=!1;function yC(){return U.lFrame.elementDepthCount}function vC(){U.lFrame.elementDepthCount++}function wC(){U.lFrame.elementDepthCount--}function xm(){return U.bindingsEnabled}function _C(){return U.skipHydrationRootTNode!==null}function DC(e){return U.skipHydrationRootTNode===e}function CC(){U.skipHydrationRootTNode=null}function Q(){return U.lFrame.lView}function $e(){return U.lFrame.tView}function rf(e){return U.lFrame.contextLView=e,e[ye]}function of(e){return U.lFrame.contextLView=null,e}function Ge(){let e=Am();for(;e!==null&&e.type===64;)e=e.parent;return e}function Am(){return U.lFrame.currentTNode}function bC(){let e=U.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Ki(e,t){let n=U.lFrame;n.currentTNode=e,n.isParent=t}function Tm(){return U.lFrame.isParent}function EC(){U.lFrame.isParent=!1}function Rm(){return gd}function gg(e){let t=gd;return gd=e,t}function IC(){let e=U.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function SC(e){return U.lFrame.bindingIndex=e}function bo(){return U.lFrame.bindingIndex++}function MC(e){let t=U.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function xC(){return U.lFrame.inI18n}function AC(e,t){let n=U.lFrame;n.bindingIndex=n.bindingRootIndex=e,md(t)}function TC(){return U.lFrame.currentDirectiveIndex}function md(e){U.lFrame.currentDirectiveIndex=e}function RC(e){let t=U.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Nm(e){U.lFrame.currentQueryIndex=e}function NC(e){let t=e[$];return t.type===2?t.declTNode:t.type===1?e[mt]:null}function Om(e,t,n){if(n&B.SkipSelf){let o=t,i=e;for(;o=o.parent,o===null&&!(n&B.Host);)if(o=NC(i),o===null||(i=i[Do],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=U.lFrame=Pm();return r.currentTNode=t,r.lView=e,!0}function sf(e){let t=Pm(),n=e[$];U.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Pm(){let e=U.lFrame,t=e===null?null:e.child;return t===null?Fm(e):t}function Fm(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function km(){let e=U.lFrame;return U.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Lm=km;function af(){let e=km();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function OC(e){return(U.lFrame.contextLView=gC(e,U.lFrame.contextLView))[ye]}function ur(){return U.lFrame.selectedIndex}function ir(e){U.lFrame.selectedIndex=e}function cf(){let e=U.lFrame;return tf(e.tView,e.selectedIndex)}function Vm(){U.lFrame.currentNamespace=Dm}function PC(){return U.lFrame.currentNamespace}var jm=!0;function lf(){return jm}function uf(e){jm=e}function FC(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=vm(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function Bm(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),d!=null&&(e.destroyHooks??=[]).push(n,d)}}function qa(e,t,n){$m(e,t,3,n)}function Ga(e,t,n,r){(e[P]&3)===n&&$m(e,t,n,r)}function Qu(e,t){let n=e[P];(n&3)===t&&(n&=16383,n+=1,e[P]=n)}function $m(e,t,n,r){let o=r!==void 0?e[io]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[io]+=65536),(a<i||i==-1)&&(kC(e,n,t,c),e[io]=(e[io]&4294901760)+c+2),c++}function mg(e,t){K(4,e,t);let n=j(null);try{t.call(e)}finally{j(n),K(5,e,t)}}function kC(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[P]>>14<e[io]>>16&&(e[P]&3)===t&&(e[P]+=16384,mg(a,i)):mg(a,i)}var lo=-1,sr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function LC(e){return(e.flags&8)!==0}function VC(e){return(e.flags&16)!==0}function jC(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];BC(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function Um(e){return e===3||e===4||e===6}function BC(e){return e.charCodeAt(0)===64}function $i(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?yg(e,n,o,null,t[++r]):yg(e,n,o,null,null))}}return e}function yg(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function Hm(e){return e!==lo}function ic(e){return e&32767}function $C(e){return e>>16}function sc(e,t){let n=$C(e),r=t;for(;n>0;)r=r[Do],n--;return r}var yd=!0;function vg(e){let t=yd;return yd=e,t}var UC=256,zm=UC-1,qm=5,HC=0,xt={};function zC(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ki)&&(r=n[ki]),r==null&&(r=n[ki]=HC++);let o=r&zm,i=1<<o;t.data[e+(o>>qm)]|=i}function ac(e,t){let n=Gm(e,t);if(n!==-1)return n;let r=t[$];r.firstCreatePass&&(e.injectorIndex=t.length,Ku(r.data,e),Ku(t,null),Ku(r.blueprint,null));let o=df(e,t),i=e.injectorIndex;if(Hm(o)){let s=ic(o),a=sc(o,t),c=a[$].data;for(let l=0;l<8;l++)t[i+l]=a[s+l]|c[s+l]}return t[i+8]=o,i}function Ku(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Gm(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function df(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=Km(o),r===null)return lo;if(n++,o=o[Do],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return lo}function vd(e,t,n){zC(e,t,n)}function qC(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(Um(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===t)return n[o+1];o=o+2}}}return null}function Wm(e,t,n){if(n&B.Optional||e!==void 0)return e;Qd(t,"NodeInjector")}function Zm(e,t,n,r){if(n&B.Optional&&r===void 0&&(r=null),(n&(B.Self|B.Host))===0){let o=e[ho],i=rt(void 0);try{return o?o.get(t,r,n&B.Optional):om(t,r,n&B.Optional)}finally{rt(i)}}return Wm(r,t,n)}function Ym(e,t,n,r=B.Default,o){if(e!==null){if(t[P]&2048&&!(r&B.Self)){let s=QC(e,t,n,r,xt);if(s!==xt)return s}let i=Qm(e,t,n,r,xt);if(i!==xt)return i}return Zm(t,n,r,o)}function Qm(e,t,n,r,o){let i=ZC(n);if(typeof i=="function"){if(!Om(t,e,r))return r&B.Host?Wm(o,n,r):Zm(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&B.Optional))Qd(n);else return s}finally{Lm()}}else if(typeof i=="number"){let s=null,a=Gm(e,t),c=lo,l=r&B.Host?t[gt][mt]:null;for((a===-1||r&B.SkipSelf)&&(c=a===-1?df(e,t):t[a+8],c===lo||!_g(r,!1)?a=-1:(s=t[$],a=ic(c),t=sc(c,t)));a!==-1;){let d=t[$];if(wg(i,a,d.data)){let f=GC(a,t,n,s,r,l);if(f!==xt)return f}c=t[a+8],c!==lo&&_g(r,t[$].data[a+8]===l)&&wg(i,a,t)?(s=d,a=ic(c),t=sc(c,t)):a=-1}}return o}function GC(e,t,n,r,o,i){let s=t[$],a=s.data[e+8],c=r==null?Co(a)&&yd:r!=s&&(a.type&3)!==0,l=o&B.Host&&i===a,d=WC(a,s,n,c,l);return d!==null?cc(t,s,d,a):xt}function WC(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,l=e.directiveEnd,d=i>>20,f=r?a:a+d,g=o?a+d:l;for(let h=f;h<g;h++){let m=s[h];if(h<c&&n===m||h>=c&&m.type===n)return h}if(o){let h=s[c];if(h&&At(h)&&h.type===n)return c}return null}function cc(e,t,n,r){let o=e[n],i=t.data;if(o instanceof sr){let s=o;s.resolving&&nm(LD(i[n]));let a=vg(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?rt(s.injectImpl):null,d=Om(e,r,B.Default);try{o=e[n]=s.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&FC(n,i[n],t)}finally{l!==null&&rt(l),vg(a),s.resolving=!1,Lm()}}return o}function ZC(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(ki)?e[ki]:void 0;return typeof t=="number"?t>=0?t&zm:YC:t}function wg(e,t,n){let r=1<<e;return!!(n[t+(e>>qm)]&r)}function _g(e,t){return!(e&B.Self)&&!(e&B.Host&&t)}var er=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ym(this._tNode,this._lView,t,Ec(r),n)}};function YC(){return new er(Ge(),Q())}function Ji(e){return Dc(()=>{let t=e.prototype.constructor,n=t[Ya]||wd(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Ya]||wd(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function wd(e){return Kg(e)?()=>{let t=wd(Pe(e));return t&&t()}:uo(e)}function QC(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[P]&2048&&!oc(s);){let a=Qm(i,s,n,r|B.Self,xt);if(a!==xt)return a;let c=i.parent;if(!c){let l=s[pm];if(l){let d=l.get(n,xt,r);if(d!==xt)return d}c=Km(s),s=s[Do]}i=c}return o}function Km(e){let t=e[$],n=t.type;return n===2?t.declTNode:n===1?e[mt]:null}function ff(e){return qC(Ge(),e)}function Dg(e,t=null,n=null,r){let o=Jm(e,t,n,r);return o.resolveInjectorInitializers(),o}function Jm(e,t=null,n=null,r,o=new Set){let i=[n||ot,JD(e)];return r=r||(typeof e=="object"?void 0:je(e)),new Vi(i,t||Xd(),r||null,o)}var at=class e{static THROW_IF_NOT_FOUND=Xn;static NULL=new Xa;static create(t,n){if(Array.isArray(t))return Dg({name:""},n,t,"");{let r=t.name??"";return Dg({name:r},t.parent,t.providers,r)}}static \u0275prov=M({token:e,providedIn:"any",factory:()=>R(sm)});static __NG_ELEMENT_ID__=-1};var KC=new b("");KC.__NG_ELEMENT_ID__=e=>{let t=Ge();if(t===null)throw new S(204,!1);if(t.type&2)return t.value;if(e&B.Optional)return null;throw new S(204,!1)};var Xm=!1,Xi=(()=>{class e{static __NG_ELEMENT_ID__=JC;static __NG_ENV_ID__=n=>n}return e})(),_d=class extends Xi{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return Im(this._lView,t),()=>mC(this._lView,t)}};function JC(){return new _d(Q())}var yo=class{},hf=new b("",{providedIn:"root",factory:()=>!1});var ey=new b(""),ty=new b(""),Eo=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ae(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})();var Dd=class extends fe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,hm()&&(this.destroyRef=v(Xi,{optional:!0})??void 0,this.pendingTasks=v(Eo,{optional:!0})??void 0)}emit(t){let n=j(null);try{super.next(t)}finally{j(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof de&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},be=Dd;function lc(...e){}function ny(e){let t,n;function r(){e=lc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Cg(e){return queueMicrotask(()=>e()),()=>{e=lc}}var pf="isAngularZone",uc=pf+"_ID",XC=0,ue=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new be(!1);onMicrotaskEmpty=new be(!1);onStable=new be(!1);onError=new be(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Xm}=t;if(typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,nb(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(pf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new S(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,eb,lc,lc);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},eb={};function gf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function tb(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){ny(()=>{e.callbackScheduled=!1,Cd(e),e.isCheckStableRunning=!0,gf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Cd(e)}function nb(e){let t=()=>{tb(e)},n=XC++;e._inner=e._inner.fork({name:"angular",properties:{[pf]:!0,[uc]:n,[uc+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(rb(c))return r.invokeTask(i,s,a,c);try{return bg(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Eg(e)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return bg(e),r.invoke(i,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!ob(c)&&t(),Eg(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Cd(e),gf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Cd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function bg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Eg(e){e._nesting--,gf(e)}var bd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new be;onMicrotaskEmpty=new be;onStable=new be;onError=new be;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function rb(e){return ry(e,"__ignore_ng_zone__")}function ob(e){return ry(e,"__scheduler_tick__")}function ry(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Nt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},ib=new b("",{providedIn:"root",factory:()=>{let e=v(ue),t=v(Nt);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Ig(e,t){return Qg(e,t)}function sb(e){return Qg(Yg,e)}var oy=(Ig.required=sb,Ig);function ab(){return mf(Ge(),Q())}function mf(e,t){return new _n(Pt(e,t))}var _n=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=ab}return e})();function cb(e){return typeof e=="function"&&e[tt]!==void 0}function sn(e,t){let n=xu(e,t?.equal),r=n[tt];return n.set=o=>Mi(r,o),n.update=o=>Au(r,o),n.asReadonly=lb.bind(n),n}function lb(){let e=this[tt];if(e.readonlyFn===void 0){let t=()=>this();t[tt]=e,e.readonlyFn=t}return e.readonlyFn}function iy(e){return cb(e)&&typeof e.set=="function"}function sy(e){return(e.flags&128)===128}var ay=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ay||{}),cy=new Map,ub=0;function db(){return ub++}function fb(e){cy.set(e[Mc],e)}function Ed(e){cy.delete(e[Mc])}var Sg="__ngContext__";function es(e,t){yn(t)?(e[Sg]=t[Mc],fb(t)):e[Sg]=t}function ly(e){return dy(e[Bi])}function uy(e){return dy(e[pt])}function dy(e){for(;e!==null&&!on(e);)e=e[pt];return e}var Id;function fy(e){Id=e}function hb(){if(Id!==void 0)return Id;if(typeof document<"u")return document;throw new S(210,!1)}var yf=new b("",{providedIn:"root",factory:()=>pb}),pb="ng",vf=new b(""),Io=new b("",{providedIn:"platform",factory:()=>"unknown"});var wf=new b("",{providedIn:"root",factory:()=>hb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var gb="h",mb="b";var hy=!1,yb=new b("",{providedIn:"root",factory:()=>hy});var _f=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(_f||{}),So=new b(""),Mg=new Set;function Dn(e){Mg.has(e)||(Mg.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var py=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=vb}return e})();function vb(){return new py(Q(),Ge())}var so=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(so||{}),gy=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})(),wb=[so.EarlyRead,so.Write,so.MixedReadWrite,so.Read],_b=(()=>{class e{ngZone=v(ue);scheduler=v(yo);errorHandler=v(Nt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){v(So,{optional:!0})}execute(){let n=this.sequences.size>0;n&&K(16),this.executing=!0;for(let r of wb)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&K(17)}register(n){let{view:r}=n;r!==void 0?((r[co]??=[]).push(n),Qi(r),r[P]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(_f.AFTER_NEXT_RENDER,n):n()}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})(),Sd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[co];t&&(this.view[co]=t.filter(n=>n!==this))}};function Df(e,t){!t?.injector&&cC(Df);let n=t?.injector??v(at);return Dn("NgAfterNextRender"),Cb(e,n,t,!0)}function Db(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function Cb(e,t,n,r){let o=t.get(gy);o.impl??=t.get(_b);let i=t.get(So,null,{optional:!0}),s=n?.phase??so.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(Xi):null,c=t.get(py,null,{optional:!0}),l=new Sd(o.impl,Db(e,s),c?.view,r,a,i?.snapshot(null));return o.impl.register(l),l}var bb=()=>null;function my(e,t,n=!1){return bb(e,t,n)}function yy(e,t){let n=e.contentQueries;if(n!==null){let r=j(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];Nm(i),a.contentQueries(2,t[s],s)}}}finally{j(r)}}}function Md(e,t,n){Nm(0);let r=j(null);try{t(e,n)}finally{j(r)}}function vy(e,t,n){if(mm(t)){let r=j(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{j(r)}}}var Ot=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ot||{});var Ua;function Eb(){if(Ua===void 0&&(Ua=null,ad.trustedTypes))try{Ua=ad.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ua}function xg(e){return Eb()?.createScriptURL(e)||e}var dc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wg})`}};function Ac(e){return e instanceof dc?e.changingThisBreaksApplicationSecurity:e}function wy(e,t){let n=Ib(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Wg})`)}return n===t}function Ib(e){return e instanceof dc&&e.getTypeName()||null}var Sb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mb(e){return e=String(e),e.match(Sb)?e:"unsafe:"+e}var Cf=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Cf||{});function xb(e){let t=Dy();return t?t.sanitize(Cf.URL,e)||"":wy(e,"URL")?Ac(e):Mb(bc(e))}function Ab(e){let t=Dy();if(t)return xg(t.sanitize(Cf.RESOURCE_URL,e)||"");if(wy(e,"ResourceURL"))return xg(Ac(e));throw new S(904,!1)}function Tb(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?Ab:xb}function _y(e,t,n){return Tb(t,n)(e)}function Dy(){let e=Q();return e&&e[nn].sanitizer}function Cy(e){return e instanceof Function?e():e}function Rb(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var by="ng-template";function Nb(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&Rb(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(bf(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function bf(e){return e.type===4&&e.value!==by}function Ob(e,t,n){let r=e.type===4&&!n?by:e.value;return t===r}function Pb(e,t,n){let r=4,o=e.attrs,i=o!==null?Lb(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!ht(r)&&!ht(c))return!1;if(s&&ht(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Ob(e,c,n)||c===""&&t.length===1){if(ht(r))return!1;s=!0}}else if(r&8){if(o===null||!Nb(e,o,c,n)){if(ht(r))return!1;s=!0}}else{let l=t[++a],d=Fb(c,o,bf(e),n);if(d===-1){if(ht(r))return!1;s=!0;continue}if(l!==""){let f;if(d>i?f="":f=o[d+1].toLowerCase(),r&2&&l!==f){if(ht(r))return!1;s=!0}}}}return ht(r)||s}function ht(e){return(e&1)===0}function Fb(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return Vb(t,e)}function kb(e,t,n=!1){for(let r=0;r<t.length;r++)if(Pb(e,t[r],n))return!0;return!1}function Lb(e){for(let t=0;t<e.length;t++){let n=e[t];if(Um(n))return t}return e.length}function Vb(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Ag(e,t){return e?":not("+t.trim()+")":t}function jb(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!ht(s)&&(t+=Ag(i,o),o=""),r=s,i=i||!ht(r);n++}return o!==""&&(t+=Ag(i,o)),t}function Bb(e){return e.map(jb).join(",")}function $b(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!ht(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var Cn={};function Ub(e,t){return e.createText(t)}function Hb(e,t,n){e.setValue(t,n)}function Ey(e,t,n){return e.createElement(t,n)}function fc(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Iy(e,t,n){e.appendChild(t,n)}function Tg(e,t,n,r,o){r!==null?fc(e,t,n,r,o):Iy(e,t,n)}function zb(e,t,n){e.removeChild(null,t,n)}function qb(e,t,n){e.setAttribute(t,"style",n)}function Gb(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Sy(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&jC(e,t,r),o!==null&&Gb(e,t,o),i!==null&&qb(e,t,i)}function Ef(e,t,n,r,o,i,s,a,c,l,d){let f=st+r,g=f+o,h=Wb(f,g),m=typeof l=="function"?l():l;return h[$]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:d}}function Wb(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Cn);return n}function Zb(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Ef(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function If(e,t,n,r,o,i,s,a,c,l,d){let f=t.blueprint.slice();return f[rn]=o,f[P]=r|4|128|8|64|1024,(l!==null||e&&e[P]&2048)&&(f[P]|=2048),bm(f),f[ke]=f[Do]=e,f[ye]=n,f[nn]=s||e&&e[nn],f[ve]=a||e&&e[ve],f[ho]=c||e&&e[ho]||null,f[mt]=i,f[Mc]=db(),f[ji]=d,f[pm]=l,f[gt]=t.type==2?e[gt]:f,f}function Yb(e,t,n){let r=Pt(t,e),o=Zb(n),i=e[nn].rendererFactory,s=Sf(e,If(e,o,null,My(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function My(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function xy(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Sf(e,t){return e[Bi]?e[hg][pt]=t:e[Bi]=t,e[hg]=t,t}function ie(e=1){Ay($e(),Q(),ur()+e,!1)}function Ay(e,t,n,r){if(!r)if((t[P]&3)===3){let i=e.preOrderCheckHooks;i!==null&&qa(t,i,n)}else{let i=e.preOrderHooks;i!==null&&Ga(t,i,0,n)}ir(n)}var Tc=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Tc||{});function xd(e,t,n,r){let o=j(null);try{let[i,s,a]=e.inputs[n],c=null;(s&Tc.SignalBased)!==0&&(c=t[i][tt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):ym(t,c,i,r)}finally{j(o)}}function Ty(e,t,n,r,o){let i=ur(),s=r&2;try{ir(-1),s&&t.length>st&&Ay(e,t,st,!1),K(s?2:0,o),n(r,o)}finally{ir(i),K(s?3:1,o)}}function Mf(e,t,n){tE(e,t,n),(n.flags&64)===64&&nE(e,t,n)}function Ry(e,t,n=Pt){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function Qb(e,t,n,r){let i=r.get(yb,hy)||n===Ot.ShadowDom,s=e.selectRootElement(t,i);return Kb(s),s}function Kb(e){Jb(e)}var Jb=()=>null;function Xb(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Ny(e,t,n,r,o,i,s,a){if(!a&&xf(t,e,n,r,o)){Co(t)&&eE(n,t.index);return}if(t.type&3){let c=Pt(t,n);r=Xb(r),o=s!=null?s(o,t.value||"",r):o,i.setProperty(c,r,o)}else t.type&12}function eE(e,t){let n=Rt(t,e);n[P]&16||(n[P]|=64)}function tE(e,t,n){let r=n.directiveStart,o=n.directiveEnd;Co(n)&&Yb(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||ac(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=cc(t,e,s,n);if(es(c,t),i!==null&&sE(t,s-r,c,a,n,i),At(a)){let l=Rt(n.index,t);l[ye]=cc(t,e,s,n)}}}function nE(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=TC();try{ir(i);for(let a=r;a<o;a++){let c=e.data[a],l=t[a];md(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&rE(c,l)}}finally{ir(-1),md(s)}}function rE(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Oy(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];kb(t,i.selectors,!1)&&(r??=[],At(i)?r.unshift(i):r.push(i))}return r}function oE(e,t,n,r,o,i){let s=Pt(e,t);iE(t[ve],s,i,e.value,n,r,o)}function iE(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?bc(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function sE(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];xd(r,n,c,l)}}function aE(e,t){let n=e[ho],r=n?n.get(Nt,null):null;r&&r.handleError(t)}function xf(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],d=s[c+1],f=t.data[l];xd(f,n[l],d,o),a=!0}if(i)for(let c of i){let l=n[c],d=t.data[c];xd(d,l,r,o),a=!0}return a}function cE(e,t){let n=Rt(t,e),r=n[$];lE(r,n);let o=n[rn];o!==null&&n[ji]===null&&(n[ji]=my(o,n[ho])),K(18),Af(r,n,n[ye]),K(19,n[ye])}function lE(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Af(e,t,n){sf(t);try{let r=e.viewQuery;r!==null&&Md(1,r,n);let o=e.template;o!==null&&Ty(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[go]?.finishViewCreation(e),e.staticContentQueries&&yy(e,t),e.staticViewQueries&&Md(2,e.viewQuery,n);let i=e.components;i!==null&&uE(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[P]&=-5,af()}}function uE(e,t){for(let n=0;n<t.length;n++)cE(e,t[n])}function Tf(e,t,n,r){let o=j(null);try{let i=t.tView,a=e[P]&4096?4096:16,c=If(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[po]=l;let d=e[go];return d!==null&&(c[go]=d.createEmbeddedView(i)),Af(i,c,n),c}finally{j(o)}}function Ui(e,t){return!t||t.firstChild===null||sy(e)}var dE;function Rf(e,t){return dE(e,t)}var vn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(vn||{});function Py(e){return(e.flags&32)===32}function ao(e,t,n,r,o){if(r!=null){let i,s=!1;on(r)?i=r:yn(r)&&(s=!0,r=r[rn]);let a=Tt(r);e===0&&n!==null?o==null?Iy(t,n,a):fc(t,n,a,o||null,!0):e===1&&n!==null?fc(t,n,a,o||null,!0):e===2?zb(t,a,s):e===3&&t.destroyNode(a),i!=null&&bE(t,e,i,n,o)}}function fE(e,t){Fy(e,t),t[rn]=null,t[mt]=null}function hE(e,t,n,r,o,i){r[rn]=o,r[mt]=t,Nc(e,r,n,1,o,i)}function Fy(e,t){t[nn].changeDetectionScheduler?.notify(9),Nc(e,t,t[ve],2,null,null)}function pE(e){let t=e[Bi];if(!t)return Ju(e[$],e);for(;t;){let n=null;if(yn(t))n=t[Bi];else{let r=t[Fe];r&&(n=r)}if(!n){for(;t&&!t[pt]&&t!==e;)yn(t)&&Ju(t[$],t),t=t[ke];t===null&&(t=e),yn(t)&&Ju(t[$],t),n=t&&t[pt]}t=n}}function Nf(e,t){let n=e[rc],r=n.indexOf(t);n.splice(r,1)}function Rc(e,t){if(Yi(t))return;let n=t[ve];n.destroyNode&&Nc(e,t,n,3,null,null),pE(t)}function Ju(e,t){if(Yi(t))return;let n=j(null);try{t[P]&=-129,t[P]|=256,t[it]&&Iu(t[it]),mE(e,t),gE(e,t),t[$].type===1&&t[ve].destroy();let r=t[po];if(r!==null&&on(t[ke])){r!==t[ke]&&Nf(r,t);let o=t[go];o!==null&&o.detachView(e)}Ed(t)}finally{j(n)}}function gE(e,t){let n=e.cleanup,r=t[ec];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[ec]=null);let o=t[mn];if(o!==null){t[mn]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[tc];if(i!==null){t[tc]=null;for(let s of i)s.destroy()}}function mE(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof sr)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];K(4,a,c);try{c.call(a)}finally{K(5,a,c)}}else{K(4,o,i);try{i.call(o)}finally{K(5,o,i)}}}}}function yE(e,t,n){return vE(e,t.parent,n)}function vE(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[rn];if(Co(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Ot.None||o===Ot.Emulated)return null}return Pt(r,n)}function wE(e,t,n){return DE(e,t,n)}function _E(e,t,n){return e.type&40?Pt(e,n):null}var DE=_E,Rg;function Of(e,t,n,r){let o=yE(e,r,t),i=t[ve],s=r.parent||t[mt],a=wE(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Tg(i,o,n[c],a,!1);else Tg(i,o,n,a,!1);Rg!==void 0&&Rg(i,r,t,n,o)}function Fi(e,t){if(t!==null){let n=t.type;if(n&3)return Pt(t,e);if(n&4)return Ad(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Fi(e,r);{let o=e[t.index];return on(o)?Ad(-1,o):Tt(o)}}else{if(n&128)return Fi(e,t.next);if(n&32)return Rf(t,e)()||Tt(e[t.index]);{let r=ky(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=or(e[gt]);return Fi(o,r)}else return Fi(e,t.next)}}}return null}function ky(e,t){if(t!==null){let r=e[gt][mt],o=t.projection;return r.projection[o]}return null}function Ad(e,t){let n=Fe+e+1;if(n<t.length){let r=t[n],o=r[$].firstChild;if(o!==null)return Fi(r,o)}return t[rr]}function Pf(e,t,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&es(Tt(a),r),n.flags|=2),!Py(n))if(c&8)Pf(e,t,n.child,r,o,i,!1),ao(t,e,o,a,i);else if(c&32){let l=Rf(n,r),d;for(;d=l();)ao(t,e,o,d,i);ao(t,e,o,a,i)}else c&16?CE(e,t,r,n,o,i):ao(t,e,o,a,i);n=s?n.projectionNext:n.next}}function Nc(e,t,n,r,o,i){Pf(n,r,e.firstChild,t,o,i,!1)}function CE(e,t,n,r,o,i){let s=n[gt],c=s[mt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];ao(t,e,o,d,i)}else{let l=c,d=s[ke];sy(r)&&(l.flags|=128),Pf(e,t,l,d,o,i,!0)}}function bE(e,t,n,r,o){let i=n[rr],s=Tt(n);i!==s&&ao(t,e,r,i,o);for(let a=Fe;a<n.length;a++){let c=n[a];Nc(c[$],c,e,t,r,i)}}function EE(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:vn.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=vn.Important),e.setStyle(n,r,o,i))}}function hc(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(Tt(i)),on(i)&&IE(i,r);let s=n.type;if(s&8)hc(e,t,n.child,r);else if(s&32){let a=Rf(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=ky(t,n);if(Array.isArray(a))r.push(...a);else{let c=or(t[gt]);hc(c[$],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function IE(e,t){for(let n=Fe;n<e.length;n++){let r=e[n],o=r[$].firstChild;o!==null&&hc(r[$],r,o,t)}e[rr]!==e[rn]&&t.push(e[rr])}function Ly(e){if(e[co]!==null){for(let t of e[co])t.impl.addSequence(t);e[co].length=0}}var Vy=[];function SE(e){return e[it]??ME(e)}function ME(e){let t=Vy.pop()??Object.create(AE);return t.lView=e,t}function xE(e){e.lView[it]!==e&&(e.lView=null,Vy.push(e))}var AE=p(u({},Ii),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Qi(e.lView)},consumerOnSignalRead(){this.lView[it]=this}});function TE(e){let t=e[it]??Object.create(RE);return t.lView=e,t}var RE=p(u({},Ii),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=or(e.lView);for(;t&&!jy(t[$]);)t=or(t);t&&Em(t)},consumerOnSignalRead(){this.lView[it]=this}});function jy(e){return e.type!==2}function By(e){if(e[tc]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[tc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[P]&8192)}}var NE=100;function $y(e,t=!0,n=0){let o=e[nn].rendererFactory,i=!1;i||o.begin?.();try{OE(e,n)}catch(s){throw t&&aE(e,s),s}finally{i||o.end?.()}}function OE(e,t){let n=Rm();try{gg(!0),Td(e,t);let r=0;for(;xc(e);){if(r===NE)throw new S(103,!1);r++,Td(e,1)}}finally{gg(n)}}function PE(e,t,n,r){if(Yi(t))return;let o=t[P],i=!1,s=!1;sf(t);let a=!0,c=null,l=null;i||(jy(e)?(l=SE(t),c=pa(l)):wu()===null?(a=!1,l=TE(t),c=pa(l)):t[it]&&(Iu(t[it]),t[it]=null));try{bm(t),SC(e.bindingStartIndex),n!==null&&Ty(e,t,n,2,r);let d=(o&3)===3;if(!i)if(d){let h=e.preOrderCheckHooks;h!==null&&qa(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Ga(t,h,0,null),Qu(t,0)}if(s||FE(t),By(t),Uy(t,0),e.contentQueries!==null&&yy(e,t),!i)if(d){let h=e.contentCheckHooks;h!==null&&qa(t,h)}else{let h=e.contentHooks;h!==null&&Ga(t,h,1),Qu(t,1)}LE(e,t);let f=e.components;f!==null&&zy(t,f,0);let g=e.viewQuery;if(g!==null&&Md(2,g,r),!i)if(d){let h=e.viewCheckHooks;h!==null&&qa(t,h)}else{let h=e.viewHooks;h!==null&&Ga(t,h,2),Qu(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Yu]){for(let h of t[Yu])h();t[Yu]=null}i||(Ly(t),t[P]&=-73)}catch(d){throw i||Qi(t),d}finally{l!==null&&(bu(l,c),a&&xE(l)),af()}}function Uy(e,t){for(let n=ly(e);n!==null;n=uy(n))for(let r=Fe;r<n.length;r++){let o=n[r];Hy(o,t)}}function FE(e){for(let t=ly(e);t!==null;t=uy(t)){if(!(t[P]&2))continue;let n=t[rc];for(let r=0;r<n.length;r++){let o=n[r];Em(o)}}}function kE(e,t,n){K(18);let r=Rt(t,e);Hy(r,n),K(19,r[ye])}function Hy(e,t){nf(e)&&Td(e,t)}function Td(e,t){let r=e[$],o=e[P],i=e[it],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&Eu(i)),s||=!1,i&&(i.dirty=!1),e[P]&=-9217,s)PE(r,e,r.template,e[ye]);else if(o&8192){By(e),Uy(e,1);let a=r.components;a!==null&&zy(e,a,1),Ly(e)}}function zy(e,t,n){for(let r=0;r<t.length;r++)kE(e,t[r],n)}function LE(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)ir(~o);else{let i=o,s=n[++r],a=n[++r];AC(s,i);let c=t[i];K(24,c),a(2,c),K(25,c)}}}finally{ir(-1)}}function Ff(e,t){let n=Rm()?64:1088;for(e[nn].changeDetectionScheduler?.notify(t);e;){e[P]|=n;let r=or(e);if(oc(e)&&!r)return e;e=r}return null}function qy(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Gy(e,t){let n=Fe+t;if(n<e.length)return e[n]}function Oc(e,t,n,r=!0){let o=t[$];if(VE(o,t,e,n),r){let s=Ad(n,e),a=t[ve],c=a.parentNode(e[rr]);c!==null&&hE(o,e[mt],a,t,c,s)}let i=t[ji];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Wy(e,t){let n=Hi(e,t);return n!==void 0&&Rc(n[$],n),n}function Hi(e,t){if(e.length<=Fe)return;let n=Fe+t,r=e[n];if(r){let o=r[po];o!==null&&o!==e&&Nf(o,r),t>0&&(e[n-1][pt]=r[pt]);let i=Ja(e,Fe+t);fE(r[$],r);let s=i[go];s!==null&&s.detachView(i[$]),r[ke]=null,r[pt]=null,r[P]&=-129}return r}function VE(e,t,n,r){let o=Fe+r,i=n.length;r>0&&(n[o-1][pt]=t),r<i-Fe?(t[pt]=n[o],im(n,Fe+r,t)):(n.push(t),t[pt]=null),t[ke]=n;let s=t[po];s!==null&&n!==s&&Zy(s,t);let a=t[go];a!==null&&a.insertView(e),pd(t),t[P]|=128}function Zy(e,t){let n=e[rc],r=t[ke];if(yn(r))e[P]|=2;else{let o=r[ke][gt];t[gt]!==o&&(e[P]|=2)}n===null?e[rc]=[t]:n.push(t)}var pc=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[$];return hc(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[ye]}set context(t){this._lView[ye]=t}get destroyed(){return Yi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ke];if(on(t)){let n=t[nc],r=n?n.indexOf(this):-1;r>-1&&(Hi(t,r),Ja(n,r))}this._attachedToViewContainer=!1}Rc(this._lView[$],this._lView)}onDestroy(t){Im(this._lView,t)}markForCheck(){Ff(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){pd(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,$y(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=oc(this._lView),n=this._lView[po];n!==null&&!t&&Nf(n,this._lView),Fy(this._lView[$],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=t;let n=oc(this._lView),r=this._lView[po];r!==null&&!n&&Zy(r,this._lView),pd(this._lView)}};function kf(e,t,n,r,o){let i=e.data[t];if(i===null)i=jE(e,t,n,r,o),xC()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=bC();i.injectorIndex=s===null?-1:s.injectorIndex}return Ki(i,!0),i}function jE(e,t,n,r,o){let i=Am(),s=Tm(),a=s?i:i&&i.parent,c=e.data[t]=$E(e,a,n,t,r,o);return BE(e,c,i,s),c}function BE(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function $E(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return _C()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var BF=new RegExp(`^(\\d+)*(${mb}|${gb})*(.*)`);var UE=()=>null;function zi(e,t){return UE(e,t)}var HE=class{},Yy=class{},Rd=class{resolveComponentFactory(t){throw Error(`No component factory found for ${je(t)}.`)}},Pc=class{static NULL=new Rd},vo=class{},dr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>zE()}return e})();function zE(){let e=Q(),t=Ge(),n=Rt(t.index,e);return(yn(n)?n:e)[ve]}var qE=(()=>{class e{static \u0275prov=M({token:e,providedIn:"root",factory:()=>null})}return e})();var Xu={},Nd=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ec(r);let o=this.injector.get(t,Xu,r);return o!==Xu||n===Xu?o:this.parentInjector.get(t,n,r)}};function Ng(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=sg(o,a);else if(i==2){let c=a,l=t[++s];r=sg(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function re(e,t=B.Default){let n=Q();if(n===null)return R(e,t);let r=Ge();return Ym(r,n,Pe(e),t)}function Qy(){let e="invalid";throw new Error(e)}function Ky(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a,c=null,l=null,d=WE(s);d===null?a=s:[a,c,l]=d,QE(e,t,n,a,i,c,l)}i!==null&&r!==null&&GE(n,r,i)}function GE(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new S(-301,!1);r.push(t[o],i)}}function WE(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&At(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,o=null,i=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,ZE(s,r,i,o)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,o,i]):null}function ZE(e,t,n,r){let o=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[o,t.length-1])}function YE(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function QE(e,t,n,r,o,i,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let h=r[g];!c&&At(h)&&(c=!0,YE(e,n,g)),vd(ac(n,t),e,h.type)}nI(n,e.data.length,a);for(let g=0;g<a;g++){let h=r[g];h.providersResolver&&h.providersResolver(h)}let l=!1,d=!1,f=xy(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let h=r[g];if(n.mergedAttrs=$i(n.mergedAttrs,h.hostAttrs),JE(e,n,t,f,h),tI(f,h,o),s!==null&&s.has(h)){let[_,D]=s.get(h);n.directiveToIndex.set(h.type,[f,_+n.directiveStart,D+n.directiveStart])}else(i===null||!i.has(h))&&n.directiveToIndex.set(h.type,f);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let m=h.type.prototype;!l&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!d&&(m.ngOnChanges||m.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),f++}KE(e,n,i)}function KE(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))Og(0,t,o,r),Og(1,t,o,r),Fg(t,r,!1);else{let i=n.get(o);Pg(0,t,i,r),Pg(1,t,i,r),Fg(t,r,!0)}}}function Og(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),Jy(t,i)}}function Pg(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),Jy(t,s)}}function Jy(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Fg(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||bf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let l=o[c];for(let d of l)if(d===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let l=i[c];for(let d=0;d<l.length;d+=2)if(l[d]===t){s??=[],s.push(l[d+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function JE(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=uo(o.type,!0)),s=new sr(i,At(o),re);e.blueprint[r]=s,n[r]=s,XE(e,t,r,xy(e,n,o.hostVars,Cn),o)}function XE(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;eI(s)!=a&&s.push(a),s.push(n,r,i)}}function eI(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function tI(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;At(t)&&(n[""]=e)}}function nI(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Xy(e,t,n,r,o,i,s,a){let c=t.consts,l=mo(c,s),d=kf(t,e,2,r,l);return i&&Ky(t,n,d,mo(c,a),o),d.mergedAttrs=$i(d.mergedAttrs,d.attrs),d.attrs!==null&&Ng(d,d.attrs,!1),d.mergedAttrs!==null&&Ng(d,d.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,d),d}function ev(e,t){Bm(e,t),mm(t)&&e.queries.elementEnd(t)}var gc=class extends Pc{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=nr(t);return new wo(n,this.ngModule)}};function rI(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&Tc.SignalBased)!==0};return o&&(i.transform=o),i})}function oI(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function iI(e,t,n){let r=t instanceof Be?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Nd(n,r):n}function sI(e){let t=e.get(vo,null);if(t===null)throw new S(407,!1);let n=e.get(qE,null),r=e.get(yo,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function aI(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Ey(t,n,n==="svg"?Dm:n==="math"?hC:null)}var wo=class extends Yy{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=rI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=oI(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Bb(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o){K(22);let i=j(null);try{let s=this.componentDef,a=r?["ng-version","19.2.8"]:$b(this.componentDef.selectors[0]),c=Ef(0,null,null,1,0,null,null,null,null,[a],null),l=iI(s,o||this.ngModule,t),d=sI(l),f=d.rendererFactory.createRenderer(null,s),g=r?Qb(f,r,s.encapsulation,l):aI(s,f),h=If(null,c,null,512|My(s),null,null,d,f,l,null,my(g,l,!0));h[st]=g,sf(h);let m=null;try{let _=Xy(st,c,h,"#host",()=>[this.componentDef],!0,0);g&&(Sy(f,g,_),es(g,h)),Mf(c,h,_),vy(c,_,h),ev(c,_),n!==void 0&&cI(_,this.ngContentSelectors,n),m=Rt(_.index,h),h[ye]=m[ye],Af(c,h,null)}catch(_){throw m!==null&&Ed(m),Ed(h),_}finally{K(23),af()}return new Od(this.componentType,h)}finally{j(i)}}},Od=class extends HE{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=tf(n[$],st),this.location=mf(this._tNode,n),this.instance=Rt(this._tNode.index,n)[ye],this.hostView=this.changeDetectorRef=new pc(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=xf(r,o[$],o,t,n);this.previousInputValues.set(t,n);let s=Rt(r.index,o);Ff(s,1)}get injector(){return new er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function cI(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Fc=(()=>{class e{static __NG_ELEMENT_ID__=lI}return e})();function lI(){let e=Ge();return dI(e,Q())}var uI=Fc,tv=class extends uI{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return mf(this._hostTNode,this._hostLView)}get injector(){return new er(this._hostTNode,this._hostLView)}get parentInjector(){let t=df(this._hostTNode,this._hostLView);if(Hm(t)){let n=sc(t,this._hostLView),r=ic(t),o=n[$].data[r+8];return new er(o,n)}else return new er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=kg(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Fe}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=zi(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Ui(this._hostTNode,s)),a}createComponent(t,n,r,o,i){let s=t&&!lC(t),a;if(s)a=n;else{let m=n||{};a=m.index,r=m.injector,o=m.projectableNodes,i=m.environmentInjector||m.ngModuleRef}let c=s?t:new wo(nr(t)),l=r||this.parentInjector;if(!i&&c.ngModule==null){let _=(s?l:this.parentInjector).get(Be,null);_&&(i=_)}let d=nr(c.componentType??{}),f=zi(this._lContainer,d?.id??null),g=f?.firstChild??null,h=c.create(l,o,g,i);return this.insertImpl(h.hostView,a,Ui(this._hostTNode,f)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(pC(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[ke],l=new tv(c,c[mt],c[ke]);l.detach(l.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return Oc(s,o,i,r),t.attachToViewContainerRef(),im(ed(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=kg(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Hi(this._lContainer,n);r&&(Ja(ed(this._lContainer),n),Rc(r[$],r))}detach(t){let n=this._adjustIndex(t,-1),r=Hi(this._lContainer,n);return r&&Ja(ed(this._lContainer),n)!=null?new pc(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function kg(e){return e[nc]}function ed(e){return e[nc]||(e[nc]=[])}function dI(e,t){let n,r=t[e.index];return on(r)?n=r:(n=qy(r,t,null,e),t[e.index]=n,Sf(t,n)),hI(n,t,e,r),new tv(n,e,t)}function fI(e,t){let n=e[ve],r=n.createComment(""),o=Pt(t,e),i=n.parentNode(o);return fc(n,i,r,n.nextSibling(o),!1),r}var hI=mI,pI=()=>!1;function gI(e,t,n){return pI(e,t,n)}function mI(e,t,n,r){if(e[rr])return;let o;n.type&8?o=Tt(r):o=fI(t,n),e[rr]=o}var qi=class{},Lf=class{};var Pd=class extends qi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new gc(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=cm(t);this._bootstrapComponents=Cy(i.bootstrap),this._r3Injector=Jm(t,n,[{provide:qi,useValue:this},{provide:Pc,useValue:this.componentFactoryResolver},...r],je(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Fd=class extends Lf{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Pd(this.moduleType,t,[])}};var mc=class extends qi{injector;componentFactoryResolver=new gc(this);instance=null;constructor(t){super();let n=new Vi([...t.providers,{provide:qi,useValue:this},{provide:Pc,useValue:this.componentFactoryResolver}],t.parent||Xd(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ts(e,t,n=null){return new mc({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var yI=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=lm(!1,n.type),o=r.length>0?ts([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(R(Be))})}return e})();function bn(e){return Dc(()=>{let t=nv(e),n=p(u({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ay.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(yI).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ot.Emulated,styles:e.styles||ot,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Dn("NgStandalone"),rv(n);let r=e.dependencies;return n.directiveDefs=Lg(r,!1),n.pipeDefs=Lg(r,!0),n.id=CI(n),n})}function vI(e){return nr(e)||QD(e)}function wI(e){return e!==null}function En(e){return Dc(()=>({type:e.type,bootstrap:e.bootstrap||ot,declarations:e.declarations||ot,imports:e.imports||ot,exports:e.exports||ot,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function _I(e,t){if(e==null)return tr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=Tc.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function DI(e){if(e==null)return tr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function yt(e){return Dc(()=>{let t=nv(e);return rv(t),t})}function nv(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||tr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ot,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_I(e.inputs,t),outputs:DI(e.outputs),debugInfo:null}}function rv(e){e.features?.forEach(t=>t(e))}function Lg(e,t){if(!e)return null;let n=t?KD:vI;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(wI)}function CI(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function bI(e){return Object.getPrototypeOf(e.prototype).constructor}function Mo(e){let t=bI(e.type),n=!0,r=[e];for(;t;){let o;if(At(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new S(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=td(e.inputs),s.declaredInputs=td(e.declaredInputs),s.outputs=td(e.outputs);let a=o.hostBindings;a&&xI(e,a);let c=o.viewQuery,l=o.contentQueries;if(c&&SI(e,c),l&&MI(e,l),EI(e,o),AD(e.outputs,o.outputs),At(o)&&o.data.animation){let d=e.data;d.animation=(d.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===Mo&&(n=!1)}}t=Object.getPrototypeOf(t)}II(r)}function EI(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function II(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=$i(o.hostAttrs,n=$i(n,o.hostAttrs))}}function td(e){return e===tr?{}:e===ot?[]:e}function SI(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function MI(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function xI(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function AI(e,t,n){return e[t]=n}function TI(e,t){return e[t]}function fr(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function RI(e,t,n,r,o,i,s,a,c){let l=t.consts,d=kf(t,e,4,s||null,a||null);xm()&&Ky(t,n,d,mo(l,c),Oy),d.mergedAttrs=$i(d.mergedAttrs,d.attrs),Bm(t,d);let f=d.tView=Ef(2,d,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,d),f.queries=t.queries.embeddedTView(d)),d}function kd(e,t,n,r,o,i,s,a,c,l){let d=n+st,f=t.firstCreatePass?RI(d,t,e,r,o,i,s,a,c):t.data[d];Ki(f,!1);let g=NI(t,e,f,n);lf()&&Of(t,e,g,f),es(g,e);let h=qy(g,e,g,f);return e[d]=h,Sf(e,h),gI(h,f,e),ef(f)&&Mf(t,e,f),c!=null&&Ry(e,f,l),f}function xo(e,t,n,r,o,i,s,a){let c=Q(),l=$e(),d=mo(l.consts,i);return kd(c,l,e,t,n,r,o,d,s,a),xo}var NI=OI;function OI(e,t,n,r){return uf(!0),t[ve].createComment("")}var ov=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var iv=new b("");var PI=(()=>{class e{static \u0275prov=M({token:e,providedIn:"root",factory:()=>new Ld})}return e})(),Ld=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Ao(e){return!!e&&typeof e.then=="function"}function FI(e){return!!e&&typeof e.subscribe=="function"}var sv=new b("");function Vf(e){return Ic([{provide:sv,multi:!0,useValue:e}])}var av=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=v(sv,{optional:!0})??[];injector=v(at);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=ct(this.injector,o);if(Ao(i))n.push(i);else if(FI(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),kc=new b("");function kI(){Mu(()=>{throw new S(600,!1)})}function LI(e){return e.isBoundToModule}var VI=10;var ar=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=v(ib);afterRenderManager=v(gy);zonelessEnabled=v(hf);rootEffectScheduler=v(PI);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new fe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=v(Eo).hasPendingTasks.pipe(z(n=>!n));constructor(){v(So,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=v(Be);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=at.NULL){K(10);let i=n instanceof Yy;if(!this._injector.get(av).done){let h="";throw new S(405,h)}let a;i?a=n:a=this._injector.get(Pc).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=LI(a)?void 0:this._injector.get(qi),l=r||a.selector,d=a.create(o,[],l,c),f=d.location.nativeElement,g=d.injector.get(iv,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Wa(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),K(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){K(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(_f.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new S(101,!1);let n=j(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,j(n),this.afterTick.next(),K(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(vo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<VI;)K(14),this.synchronizeOnce(),K(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)jI(r,o,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>xc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Wa(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(kc,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Wa(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Wa(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function jI(e,t,n,r){if(!n&&!xc(e))return;$y(e,t,n&&!r?0:1)}function Lc(e,t,n,r){let o=Q(),i=bo();if(fr(o,i,t)){let s=$e(),a=cf();oE(a,o,e,t,n,r)}return Lc}function BI(e,t,n,r){return fr(e,bo(),n)?t+bc(n)+r:Cn}function Ha(e,t){return e<<17|t<<2}function cr(e){return e>>17&32767}function $I(e){return(e&2)==2}function UI(e,t){return e&131071|t<<17}function Vd(e){return e|2}function _o(e){return(e&131068)>>2}function nd(e,t){return e&-131069|t<<2}function HI(e){return(e&1)===1}function jd(e){return e|1}function zI(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=cr(s),c=_o(s);e[r]=n;let l=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||Zi(f,d)>0)&&(l=!0)}else d=n;if(o)if(c!==0){let g=cr(e[a+1]);e[r+1]=Ha(g,a),g!==0&&(e[g+1]=nd(e[g+1],r)),e[a+1]=UI(e[a+1],r)}else e[r+1]=Ha(a,0),a!==0&&(e[a+1]=nd(e[a+1],r)),a=r;else e[r+1]=Ha(c,0),a===0?a=r:e[c+1]=nd(e[c+1],r),c=r;l&&(e[r+1]=Vd(e[r+1])),Vg(e,d,r,!0),Vg(e,d,r,!1),qI(t,d,e,r,i),s=Ha(a,c),i?t.classBindings=s:t.styleBindings=s}function qI(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&Zi(i,t)>=0&&(n[r+1]=jd(n[r+1]))}function Vg(e,t,n,r){let o=e[n+1],i=t===null,s=r?cr(o):_o(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],l=e[s+1];GI(c,t)&&(a=!0,e[s+1]=r?jd(l):Vd(l)),s=r?cr(l):_o(l)}a&&(e[n+1]=r?Vd(o):jd(o))}function GI(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Zi(e,t)>=0:!1}function Vc(e,t,n){let r=Q(),o=bo();if(fr(r,o,t)){let i=$e(),s=cf();Ny(i,s,r,e,t,r[ve],n,!1)}return Vc}function jg(e,t,n,r,o){xf(t,e,n,o?"class":"style",r)}function jf(e,t){return WI(e,t,null,!0),jf}function WI(e,t,n,r){let o=Q(),i=$e(),s=MC(2);if(i.firstUpdatePass&&YI(i,e,s,r),t!==Cn&&fr(o,s,t)){let a=i.data[ur()];e0(i,a,o,o[ve],e,o[s+1]=t0(t,n),r,s)}}function ZI(e,t){return t>=e.expandoStartIndex}function YI(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[ur()],s=ZI(e,n);n0(i,r)&&t===null&&!s&&(t=!1),t=QI(o,i,t,r),zI(o,i,t,n,s,r)}}function QI(e,t,n,r){let o=RC(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=rd(null,e,t,n,r),n=Gi(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=rd(o,e,t,n,r),i===null){let c=KI(e,t,r);c!==void 0&&Array.isArray(c)&&(c=rd(null,e,t,c[1],r),c=Gi(c,t.attrs,r),JI(e,t,r,c))}else i=XI(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function KI(e,t,n){let r=n?t.classBindings:t.styleBindings;if(_o(r)!==0)return e[cr(r)]}function JI(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[cr(o)]=r}function XI(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=Gi(r,s,n)}return Gi(r,t.attrs,n)}function rd(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=Gi(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Gi(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),ZD(e,s,n?!0:t[++i]))}return e===void 0?null:e}function e0(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],d=HI(l)?Bg(c,t,n,o,_o(l),s):void 0;if(!yc(d)){yc(i)||$I(l)&&(i=Bg(c,null,n,o,a,s));let f=Cm(ur(),n);EE(r,s,f,o,i)}}function Bg(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],l=Array.isArray(c),d=l?c[1]:c,f=d===null,g=n[o+1];g===Cn&&(g=f?ot:void 0);let h=f?Wu(g,r):d===r?g:void 0;if(l&&!yc(h)&&(h=Wu(c,r)),yc(h)&&(a=h,s))return a;let m=e[o+1];o=s?cr(m):_o(m)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=Wu(c,r))}return a}function yc(e){return e!==void 0}function t0(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=je(Ac(e)))),e}function n0(e,t){return(e.flags&(t?8:16))!==0}var Bd=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),o=Math.max(t,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(t,n){this.attach(n,this.detach(t))}};function od(e,t,n,r,o){return e===n&&Object.is(t,r)?1:Object.is(o(e,t),o(n,r))?-1:0}function r0(e,t,n){let r,o,i=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;i<=s&&i<=c;){let l=e.at(i),d=t[i],f=od(i,l,i,d,n);if(f!==0){f<0&&e.updateValue(i,d),i++;continue}let g=e.at(s),h=t[c],m=od(s,g,c,h,n);if(m!==0){m<0&&e.updateValue(s,h),s--,c--;continue}let _=n(i,l),D=n(s,g),x=n(i,d);if(Object.is(x,D)){let I=n(c,h);Object.is(I,_)?(e.swap(i,s),e.updateValue(s,h),c--,s--):e.move(s,i),e.updateValue(i,d),i++;continue}if(r??=new vc,o??=Ug(e,i,s,n),$d(e,r,i,x))e.updateValue(i,d),i++,s++;else if(o.has(x))r.set(_,e.detach(i)),s--;else{let I=e.create(i,t[i]);e.attach(i,I),i++,s++}}for(;i<=c;)$g(e,r,n,i,t[i]),i++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&i<=s;){let d=e.at(i),f=l.value,g=od(i,d,i,f,n);if(g!==0)g<0&&e.updateValue(i,f),i++,l=c.next();else{r??=new vc,o??=Ug(e,i,s,n);let h=n(i,f);if($d(e,r,i,h))e.updateValue(i,f),i++,s++,l=c.next();else if(!o.has(h))e.attach(i,e.create(i,f)),i++,s++,l=c.next();else{let m=n(i,d);r.set(m,e.detach(i)),s--}}}for(;!l.done;)$g(e,r,n,e.length,l.value),l=c.next()}for(;i<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function $d(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function $g(e,t,n,r,o){if($d(e,t,r,n(r,o)))e.updateValue(r,o);else{let i=e.create(r,o);e.attach(r,i)}}function Ug(e,t,n,r){let o=new Set;for(let i=t;i<=n;i++)o.add(r(i,e.at(i)));return o}var vc=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),t(r,n)}}};function ns(e,t){Dn("NgControlFlow");let n=Q(),r=bo(),o=n[r]!==Cn?n[r]:-1,i=o!==-1?wc(n,st+o):void 0,s=0;if(fr(n,r,e)){let a=j(null);try{if(i!==void 0&&Wy(i,s),e!==-1){let c=st+e,l=wc(n,c),d=qd(n[$],c),f=zi(l,d.tView.ssrId),g=Tf(n,d,t,{dehydratedView:f});Oc(l,g,s,Ui(d,f))}}finally{j(a)}}else if(i!==void 0){let a=Gy(i,s);a!==void 0&&(a[ye]=t)}}var Ud=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Fe}};function To(e){return e}var Hd=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Ro(e,t,n,r,o,i,s,a,c,l,d,f,g){Dn("NgControlFlow");let h=Q(),m=$e(),_=c!==void 0,D=Q(),x=a?s.bind(D[gt][ye]):s,I=new Hd(_,x);D[st+e]=I,kd(h,m,e+1,t,n,r,o,mo(m.consts,i)),_&&kd(h,m,e+2,c,l,d,f,mo(m.consts,g))}var zd=class extends Bd{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Fe}at(t){return this.getLView(t)[ye].$implicit}attach(t,n){let r=n[ji];this.needsIndexUpdate||=t!==this.length,Oc(this.lContainer,n,t,Ui(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,o0(this.lContainer,t)}create(t,n){let r=zi(this.lContainer,this.templateTNode.tView.ssrId),o=Tf(this.hostLView,this.templateTNode,new Ud(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(t){Rc(t[$],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[ye].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ye].$index=t}getLView(t){return i0(this.lContainer,t)}};function No(e){let t=j(null),n=ur();try{let r=Q(),o=r[$],i=r[n],s=n+1,a=wc(r,s);if(i.liveCollection===void 0){let l=qd(o,s);i.liveCollection=new zd(a,r,l)}else i.liveCollection.reset();let c=i.liveCollection;if(r0(c,e,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){let l=bo(),d=c.length===0;if(fr(r,l,d)){let f=n+2,g=wc(r,f);if(d){let h=qd(o,f),m=zi(g,h.tView.ssrId),_=Tf(r,h,void 0,{dehydratedView:m});Oc(g,_,0,Ui(h,m))}else Wy(g,0)}}}finally{j(t)}}function wc(e,t){return e[t]}function o0(e,t){return Hi(e,t)}function i0(e,t){return Gy(e,t)}function qd(e,t){return tf(e,t)}function F(e,t,n,r){let o=Q(),i=$e(),s=st+e,a=o[ve],c=i.firstCreatePass?Xy(s,i,o,t,Oy,xm(),n,r):i.data[s],l=s0(i,o,c,a,t,e);o[s]=l;let d=ef(c);return Ki(c,!0),Sy(a,l,c),!Py(c)&&lf()&&Of(i,o,l,c),(yC()===0||d)&&es(l,o),vC(),d&&(Mf(i,o,c),vy(i,c,o)),r!==null&&Ry(o,c),F}function k(){let e=Ge();Tm()?EC():(e=e.parent,Ki(e,!1));let t=e;DC(t)&&CC(),wC();let n=$e();return n.firstCreatePass&&ev(n,t),t.classesWithoutHost!=null&&LC(t)&&jg(n,t,Q(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&VC(t)&&jg(n,t,Q(),t.stylesWithoutHost,!1),k}function hr(e,t,n,r){return F(e,t,n,r),k(),hr}var s0=(e,t,n,r,o,i)=>(uf(!0),Ey(r,o,PC()));function Bf(){return Q()}var _c="en-US";var a0=_c;function c0(e){typeof e=="string"&&(a0=e.toLowerCase().replace(/_/g,"-"))}function Hg(e,t,n){return function r(o){if(o===Function)return n;let i=Co(e)?Rt(e.index,t):t;Ff(i,5);let s=t[ye],a=zg(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=zg(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function zg(e,t,n,r){let o=j(null);try{return K(6,t,n),n(r)!==!1}catch(i){return l0(e,i),!1}finally{K(7,t,n),j(o)}}function l0(e,t){let n=e[ho],r=n?n.get(Nt,null):null;r&&r.handleError(t)}function qg(e,t,n,r,o,i){let s=t[n],a=t[$],l=a.data[n].outputs[r],d=s[l],f=a.firstCreatePass?Mm(a):null,g=Sm(t),h=d.subscribe(i),m=g.length;g.push(i,h),f&&f.push(o,e.index,m,-(m+1))}var u0=(e,t,n)=>{};function Ft(e,t,n,r){let o=Q(),i=$e(),s=Ge();return cv(i,o,o[ve],s,e,t,r),Ft}function d0(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[ec],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function cv(e,t,n,r,o,i,s){let a=ef(r),l=e.firstCreatePass?Mm(e):null,d=Sm(t),f=!0;if(r.type&3||s){let g=Pt(r,t),h=s?s(g):g,m=d.length,_=s?x=>s(Tt(x[r.index])):r.index,D=null;if(!s&&a&&(D=d0(e,t,o,r.index)),D!==null){let x=D.__ngLastListenerFn__||D;x.__ngNextListenerFn__=i,D.__ngLastListenerFn__=i,f=!1}else{i=Hg(r,t,i),u0(h,o,i);let x=n.listen(h,o,i);d.push(i,x),l&&l.push(o,_,m,m+1)}}else i=Hg(r,t,i);if(f){let g=r.outputs?.[o],h=r.hostDirectiveOutputs?.[o];if(h&&h.length)for(let m=0;m<h.length;m+=2){let _=h[m],D=h[m+1];qg(r,t,_,D,o,i)}if(g&&g.length)for(let m of g)qg(r,t,m,o,o,i)}}function rs(e=1){return OC(e)}function W(e,t=""){let n=Q(),r=$e(),o=e+st,i=r.firstCreatePass?kf(r,o,1,t,null):r.data[o],s=f0(r,n,i,t,e);n[o]=s,lf()&&Of(r,n,s,i),Ki(i,!1)}var f0=(e,t,n,r,o)=>(uf(!0),Ub(t[ve],r));function In(e){return Sn("",e,""),In}function Sn(e,t,n){let r=Q(),o=BI(r,e,t,n);return o!==Cn&&h0(r,ur(),o),Sn}function h0(e,t,n){let r=Cm(t,e);Hb(e[ve],r,n)}function $f(e,t,n){iy(t)&&(t=t());let r=Q(),o=bo();if(fr(r,o,t)){let i=$e(),s=cf();Ny(i,s,r,e,t,r[ve],n,!1)}return $f}function lv(e,t){let n=iy(e);return n&&e.set(t),n}function Uf(e,t){let n=Q(),r=$e(),o=Ge();return cv(r,n,n[ve],o,e,t),Uf}function p0(e,t,n){let r=$e();if(r.firstCreatePass){let o=At(e);Gd(n,r.data,r.blueprint,o,!0),Gd(t,r.data,r.blueprint,o,!1)}}function Gd(e,t,n,r,o){if(e=Pe(e),Array.isArray(e))for(let i=0;i<e.length;i++)Gd(e[i],t,n,r,o);else{let i=$e(),s=Q(),a=Ge(),c=fo(e)?e:Pe(e.provide),l=fm(e),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(fo(e)||!e.multi){let h=new sr(l,o,re),m=sd(c,t,o?d:d+g,f);m===-1?(vd(ac(a,s),i,c),id(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[m]=h,s[m]=h)}else{let h=sd(c,t,d+g,f),m=sd(c,t,d,d+g),_=h>=0&&n[h],D=m>=0&&n[m];if(o&&!D||!o&&!_){vd(ac(a,s),i,c);let x=y0(o?m0:g0,n.length,o,r,l);!o&&D&&(n[m].providerFactory=x),id(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=uv(n[o?m:h],l,!o&&r);id(i,e,h>-1?h:m,x)}!o&&r&&D&&n[m].componentProviders++}}}function id(e,t,n,r){let o=fo(t),i=nC(t);if(o||i){let c=(i?Pe(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let d=l.indexOf(n);d===-1?l.push(n,[r,c]):l[d+1].push(r,c)}else l.push(n,c)}}}function uv(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function sd(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function g0(e,t,n,r){return Wd(this.multi,[])}function m0(e,t,n,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=cc(n,n[$],this.providerFactory.index,r);i=a.slice(0,s),Wd(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],Wd(o,i);return i}function Wd(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function y0(e,t,n,r,o){let i=new sr(e,n,re);return i.multi=[],i.index=t,i.componentProviders=0,uv(i,o,r&&!n),i}function Hf(e,t=[]){return n=>{n.providersResolver=(r,o)=>p0(r,o?o(e):e,t)}}function dv(e,t,n){let r=IC()+e,o=Q();return o[r]===Cn?AI(o,r,n?t.call(n):t()):TI(o,r)}var Zd=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},fv=(()=>{class e{compileModuleSync(n){return new Fd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=cm(n),i=Cy(o.declarations).reduce((s,a)=>{let c=nr(a);return c&&s.push(new wo(c)),s},[]);return new Zd(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var v0=(()=>{class e{zone=v(ue);changeDetectionScheduler=v(yo);applicationRef=v(ar);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),w0=new b("",{factory:()=>!1});function hv({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ue(p(u({},gv()),{scheduleInRootZone:n})),[{provide:ue,useFactory:e},{provide:Li,multi:!0,useFactory:()=>{let r=v(v0,{optional:!0});return()=>r.initialize()}},{provide:Li,multi:!0,useFactory:()=>{let r=v(_0);return()=>{r.initialize()}}},t===!0?{provide:ey,useValue:!0}:[],{provide:ty,useValue:n??Xm}]}function pv(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=hv({ngZoneFactory:()=>{let o=gv(e);return o.scheduleInRootZone=n,o.shouldCoalesceEventChangeDetection&&Dn("NgZone_CoalesceEvent"),new ue(o)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Ic([{provide:w0,useValue:!0},{provide:hf,useValue:!1},r])}function gv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var _0=(()=>{class e{subscription=new de;initialized=!1;zone=v(ue);pendingTasks=v(Eo);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ue.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ue.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var D0=(()=>{class e{appRef=v(ar);taskService=v(Eo);ngZone=v(ue);zonelessEnabled=v(hf);tracing=v(So,{optional:!0});disableScheduling=v(ey,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new de;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(uc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(ty,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof bd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Cg:ny;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(uc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function C0(){return typeof $localize<"u"&&$localize.locale||_c}var mv=new b("",{providedIn:"root",factory:()=>v(mv,B.Optional|B.SkipSelf)||C0()});var Yd=new b(""),b0=new b("");function Oi(e){return!e.moduleRef}function E0(e){let t=Oi(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ue);return n.run(()=>{Oi(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Nt,null),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),Oi(e)){let i=()=>t.destroy(),s=e.platformInjector.get(Yd);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Yd);s.add(i),e.moduleRef.onDestroy(()=>{Wa(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return S0(r,n,()=>{let i=t.get(av);return i.runInitializers(),i.donePromise.then(()=>{let s=t.get(mv,_c);if(c0(s||_c),!t.get(b0,!0))return Oi(e)?t.get(ar):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Oi(e)){let c=t.get(ar);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return I0(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function I0(e,t){let n=e.injector.get(ar);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new S(-403,!1);t.push(e)}function S0(e,t,n){try{let r=n();return Ao(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Za=null;function M0(e=[],t){return at.create({name:t,providers:[{provide:Sc,useValue:"platform"},{provide:Yd,useValue:new Set([()=>Za=null])},...e]})}function x0(e=[]){if(Za)return Za;let t=M0(e);return Za=t,kI(),A0(t),t}function A0(e){let t=e.get(vf,null);ct(e,()=>{t?.forEach(n=>n())})}var pr=(()=>{class e{static __NG_ELEMENT_ID__=T0}return e})();function T0(e){return R0(Ge(),Q(),(e&16)===16)}function R0(e,t,n){if(Co(e)&&!n){let r=Rt(e.index,t);return new pc(r,r)}else if(e.type&175){let r=t[gt];return new pc(r,t)}return null}function yv(e){K(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,o=x0(r),i=[hv({}),{provide:yo,useExisting:D0},...n||[]],s=new mc({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return E0({r3Injector:s.injector,platformInjector:o,rootComponent:t})}catch(t){return Promise.reject(t)}finally{K(9)}}function gr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function mr(e){return Tu(e)}function jc(e,t){return Su(e,t?.equal)}var Gg=class{[tt];constructor(t){this[tt]=t}destroy(){this[tt].destroy()}};function vv(e){let t=nr(e);if(!t)return null;let n=new wo(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Ee=new b("");var Dv=null;function lt(){return Dv}function zf(e){Dv??=e}var os=class{},is=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>v(Cv),providedIn:"platform"})}return e})(),qf=new b(""),Cv=(()=>{class e extends is{_location;_history;_doc=v(Ee);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lt().getBaseHref(this._doc)}onPopState(n){let r=lt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=lt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Bc(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function wv(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function wt(e){return e&&e[0]!=="?"?`?${e}`:e}var _t=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>v(Uc),providedIn:"root"})}return e})(),$c=new b(""),Uc=(()=>{class e extends _t{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Bc(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+wt(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+wt(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+wt(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(R(is),R($c,8))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Mn=(()=>{class e{_subject=new fe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=P0(wv(_v(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+wt(r))}normalize(n){return e.stripTrailingSlash(O0(this._basePath,_v(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wt(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wt(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=wt;static joinWithSlash=Bc;static stripTrailingSlash=wv;static \u0275fac=function(r){return new(r||e)(R(_t))};static \u0275prov=M({token:e,factory:()=>N0(),providedIn:"root"})}return e})();function N0(){return new Mn(R(_t))}function O0(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function _v(e){return e.replace(/\/index.html$/,"")}function P0(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Gf=(()=>{class e extends _t{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Bc(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+wt(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+wt(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(R(is),R($c,8))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})();function Wf(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var Zf="browser",bv="server";function Hc(e){return e===bv}var ss=class{};var Ev=(()=>{class e{static \u0275prov=M({token:e,providedIn:"root",factory:()=>new Yf(v(Ee),window)})}return e})(),Yf=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=V0(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}};function V0(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}var Gc=new b(""),Xf=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(R(Gc),R(ue))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),as=class{_doc;constructor(t){this._doc=t}manager},zc="ng-app-id";function Iv(e){for(let t of e)t.remove()}function Sv(e,t){let n=t.createElement("style");return n.textContent=e,n}function B0(e,t,n,r){let o=e.head?.querySelectorAll(`style[${zc}="${t}"],link[${zc}="${t}"]`);if(o)for(let i of o)i.removeAttribute(zc),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Kf(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var eh=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,this.isServer=Hc(i),B0(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,Sv);r?.forEach(o=>this.addUsage(o,this.external,Kf))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(Iv(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Iv(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,Sv(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Kf(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(zc,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(R(Ee),R(yf),R(wf,8),R(Io))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),Qf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},th=/%COMP%/g;var xv="%COMP%",$0=`_nghost-${xv}`,U0=`_ngcontent-${xv}`,H0=!0,z0=new b("",{providedIn:"root",factory:()=>H0});function q0(e){return U0.replace(th,e)}function G0(e){return $0.replace(th,e)}function Av(e,t){return t.map(n=>n.replace(th,e))}var nh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,c,l=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=d,this.platformIsServer=Hc(a),this.defaultRenderer=new cs(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ot.ShadowDom&&(r=p(u({},r),{encapsulation:Ot.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof qc?o.applyToHost(n):o instanceof ls&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Ot.Emulated:i=new qc(c,l,r,this.appId,d,s,a,f,g);break;case Ot.ShadowDom:return new Jf(c,l,n,r,s,a,this.nonce,f,g);default:i=new ls(c,l,r,d,s,a,f,g);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(R(Xf),R(eh),R(yf),R(z0),R(Ee),R(Io),R(ue),R(wf),R(So,8))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),cs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Qf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Mv(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Mv(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=Qf[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=Qf[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(vn.DashCase|vn.Important)?t.style.setProperty(n,r,o&vn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&vn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=lt().getGlobalEventTarget(this.doc,t),!t))throw new S(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Mv(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Jf=class extends cs{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,c,l){super(t,i,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=Av(o.id,d);for(let g of d){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=g,this.shadowRoot.appendChild(h)}let f=o.getExternalStyles?.();if(f)for(let g of f){let h=Kf(g,i);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ls=class extends cs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c,l){super(t,i,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let d=r.styles;this.styles=l?Av(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},qc=class extends ls{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c,l){let d=o+"-"+r.id;super(t,n,r,i,s,a,c,l,d),this.contentAttr=q0(d),this.hostAttr=G0(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Wc=class e extends os{supportsDOMEvents=!0;static makeCurrent(){zf(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=W0();return n==null?null:Z0(n)}resetBaseElement(){us=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Wf(document.cookie,t)}},us=null;function W0(){return us=us||document.querySelector("base"),us?us.getAttribute("href"):null}function Z0(e){return new URL(e,document.baseURI).pathname}var Y0=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),Rv=(()=>{class e extends as{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(R(Ee))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),Tv=["alt","control","meta","shift"],Q0={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},K0={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Nv=(()=>{class e extends as{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lt().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Tv.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=Q0[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Tv.forEach(s=>{if(s!==o){let a=K0[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(R(Ee))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})();function rh(e,t){return yv(u({rootComponent:e},J0(t)))}function J0(e){return{appProviders:[...rS,...e?.providers??[]],platformProviders:nS}}function X0(){Wc.makeCurrent()}function eS(){return new Nt}function tS(){return fy(document),document}var nS=[{provide:Io,useValue:Zf},{provide:vf,useValue:X0,multi:!0},{provide:Ee,useFactory:tS}];var rS=[{provide:Sc,useValue:"root"},{provide:Nt,useFactory:eS},{provide:Gc,useClass:Rv,multi:!0,deps:[Ee]},{provide:Gc,useClass:Nv,multi:!0,deps:[Ee]},nh,eh,Xf,{provide:vo,useExisting:nh},{provide:ss,useClass:Y0},[]];var Ov=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(R(Ee))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var L="primary",bs=Symbol("RouteTitle"),ch=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function wr(e){return new ch(e)}function $v(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function iS(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!kt(e[n],t[n]))return!1;return!0}function kt(e,t){let n=e?lh(e):void 0,r=t?lh(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!Uv(e[o],t[o]))return!1;return!0}function lh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Uv(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function Hv(e){return e.length>0?e[e.length-1]:null}function Nn(e){return $u(e)?e:Ao(e)?ne(Promise.resolve(e)):A(e)}var sS={exact:qv,subset:Gv},zv={exact:aS,subset:cS,ignored:()=>!0};function Pv(e,t,n){return sS[n.paths](e.root,t.root,n.matrixParams)&&zv[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function aS(e,t){return kt(e,t)}function qv(e,t,n){if(!yr(e.segments,t.segments)||!Qc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!qv(e.children[r],t.children[r],n))return!1;return!0}function cS(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Uv(e[n],t[n]))}function Gv(e,t,n){return Wv(e,t,t.segments,n)}function Wv(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!yr(o,n)||t.hasChildren()||!Qc(o,n,r))}else if(e.segments.length===n.length){if(!yr(e.segments,n)||!Qc(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!Gv(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!yr(e.segments,o)||!Qc(e.segments,o,r)||!e.children[L]?!1:Wv(e.children[L],t,i,r)}}function Qc(e,t,n){return t.every((r,o)=>zv[n](e[o].parameters,r.parameters))}var Vt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Z([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=wr(this.queryParams),this._queryParamMap}toString(){return dS.serialize(this)}},Z=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kc(this)}},xn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=wr(this.parameters),this._parameterMap}toString(){return Yv(this)}};function lS(e,t){return yr(e,t)&&e.every((n,r)=>kt(n.parameters,t[r].parameters))}function yr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function uS(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===L&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==L&&(n=n.concat(t(o,r)))}),n}var _r=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>new An,providedIn:"root"})}return e})(),An=class{parse(t){let n=new dh(t);return new Vt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ds(t.root,!0)}`,r=pS(t.queryParams),o=typeof t.fragment=="string"?`#${fS(t.fragment)}`:"";return`${n}${r}${o}`}},dS=new An;function Kc(e){return e.segments.map(t=>Yv(t)).join("/")}function ds(e,t){if(!e.hasChildren())return Kc(e);if(t){let n=e.children[L]?ds(e.children[L],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==L&&r.push(`${o}:${ds(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=uS(e,(r,o)=>o===L?[ds(e.children[L],!1)]:[`${o}:${ds(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[L]!=null?`${Kc(e)}/${n[0]}`:`${Kc(e)}/(${n.join("//")})`}}function Zv(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zc(e){return Zv(e).replace(/%3B/gi,";")}function fS(e){return encodeURI(e)}function uh(e){return Zv(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jc(e){return decodeURIComponent(e)}function Fv(e){return Jc(e.replace(/\+/g,"%20"))}function Yv(e){return`${uh(e.path)}${hS(e.parameters)}`}function hS(e){return Object.entries(e).map(([t,n])=>`;${uh(t)}=${uh(n)}`).join("")}function pS(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Zc(n)}=${Zc(o)}`).join("&"):`${Zc(n)}=${Zc(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var gS=/^[^\/()?;#]+/;function oh(e){let t=e.match(gS);return t?t[0]:""}var mS=/^[^\/()?;=#]+/;function yS(e){let t=e.match(mS);return t?t[0]:""}var vS=/^[^=?&#]+/;function wS(e){let t=e.match(vS);return t?t[0]:""}var _S=/^[^&#]+/;function DS(e){let t=e.match(_S);return t?t[0]:""}var dh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Z([],{}):new Z([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[L]=new Z(t,n)),r}parseSegment(){let t=oh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(t),new xn(Jc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=yS(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=oh(this.remaining);o&&(r=o,this.capture(r))}t[Jc(n)]=Jc(r)}parseQueryParam(t){let n=wS(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=DS(this.remaining);s&&(r=s,this.capture(r))}let o=Fv(n),i=Fv(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=oh(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new S(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=L);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[L]:new Z([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new S(4011,!1)}};function Qv(e){return e.segments.length>0?new Z([],{[L]:e}):e}function Kv(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=Kv(o);if(r===L&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new Z(e.segments,t);return CS(n)}function CS(e){if(e.numberOfChildren===1&&e.children[L]){let t=e.children[L];return new Z(e.segments.concat(t.segments),t.children)}return e}function Tn(e){return e instanceof Vt}function Jv(e,t,n=null,r=null){let o=Xv(e);return ew(o,t,n,r)}function Xv(e){let t;function n(i){let s={};for(let c of i.children){let l=n(c);s[c.outlet]=l}let a=new Z(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=Qv(r);return t??o}function ew(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return ih(o,o,o,n,r);let i=bS(t);if(i.toRoot())return ih(o,o,new Z([],{}),n,r);let s=ES(i,o,e),a=s.processChildren?hs(s.segmentGroup,s.index,i.commands):nw(s.segmentGroup,s.index,i.commands);return ih(o,s.segmentGroup,a,n,r)}function el(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function gs(e){return typeof e=="object"&&e!=null&&e.outlets}function ih(e,t,n,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;e===t?s=n:s=tw(e,t,n);let a=Qv(Kv(s));return new Vt(a,i,o)}function tw(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=tw(i,t,n)}),new Z(e.segments,r)}var tl=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&el(r[0]))throw new S(4003,!1);let o=r.find(gs);if(o&&o!==Hv(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function bS(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new tl(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new tl(n,t,r)}var Fo=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function ES(e,t,n){if(e.isAbsolute)return new Fo(t,!0,0);if(!n)return new Fo(t,!1,NaN);if(n.parent===null)return new Fo(n,!0,0);let r=el(e.commands[0])?0:1,o=n.segments.length-1+r;return IS(n,o,e.numberOfDoubleDots)}function IS(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new S(4005,!1);o=r.segments.length}return new Fo(r,!1,o-i)}function SS(e){return gs(e[0])?e[0].outlets:{[L]:e}}function nw(e,t,n){if(e??=new Z([],{}),e.segments.length===0&&e.hasChildren())return hs(e,t,n);let r=MS(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new Z(e.segments.slice(0,r.pathIndex),{});return i.children[L]=new Z(e.segments.slice(r.pathIndex),e.children),hs(i,0,o)}else return r.match&&o.length===0?new Z(e.segments,{}):r.match&&!e.hasChildren()?fh(e,t,n):r.match?hs(e,0,o):fh(e,t,n)}function hs(e,t,n){if(n.length===0)return new Z(e.segments,{});{let r=SS(n),o={};if(Object.keys(r).some(i=>i!==L)&&e.children[L]&&e.numberOfChildren===1&&e.children[L].segments.length===0){let i=hs(e.children[L],t,n);return new Z(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=nw(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new Z(e.segments,o)}}function MS(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(gs(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Lv(c,l,s))return i;r+=2}else{if(!Lv(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function fh(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(gs(i)){let c=xS(i.outlets);return new Z(r,c)}if(o===0&&el(n[0])){let c=e.segments[t];r.push(new xn(c.path,kv(n[0]))),o++;continue}let s=gs(i)?i.outlets[L]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&el(a)?(r.push(new xn(s,kv(a))),o+=2):(r.push(new xn(s,{})),o++)}return new Z(r,{})}function xS(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=fh(new Z([],{}),0,r))}),t}function kv(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Lv(e,t,n){return e==n.path&&kt(t,n.parameters)}var Xc="imperative",we=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(we||{}),Ze=class{id;url;constructor(t,n){this.id=t,this.url=n}},Rn=class extends Ze{type=we.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ut=class extends Ze{urlAfterRedirects;type=we.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ue=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ue||{}),Lo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Lo||{}),Lt=class extends Ze{reason;code;type=we.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},jt=class extends Ze{reason;code;type=we.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},Vo=class extends Ze{error;target;type=we.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ms=class extends Ze{urlAfterRedirects;state;type=we.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nl=class extends Ze{urlAfterRedirects;state;type=we.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rl=class extends Ze{urlAfterRedirects;state;shouldActivate;type=we.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ol=class extends Ze{urlAfterRedirects;state;type=we.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},il=class extends Ze{urlAfterRedirects;state;type=we.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sl=class{route;type=we.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},al=class{route;type=we.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},cl=class{snapshot;type=we.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ll=class{snapshot;type=we.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ul=class{snapshot;type=we.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dl=class{snapshot;type=we.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jo=class{routerEvent;position;anchor;type=we.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ys=class{},Bo=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function AS(e,t){return e.providers&&!e._injector&&(e._injector=ts(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Dt(e){return e.outlet||L}function TS(e,t){let n=e.filter(r=>Dt(r)===t);return n.push(...e.filter(r=>Dt(r)!==t)),n}function Es(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var fl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Es(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Dr(this.rootInjector)}},Dr=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new fl(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(R(Be))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hl=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=hh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=hh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=ph(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return ph(t,this._root).map(n=>n.value)}};function hh(e,t){if(e===t.value)return t;for(let n of t.children){let r=hh(e,n);if(r)return r}return null}function ph(e,t){if(e===t.value)return[t];for(let n of t.children){let r=ph(e,n);if(r.length)return r.unshift(t),r}return[]}var We=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Po(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var vs=class extends hl{snapshot;constructor(t,n){super(t),this.snapshot=n,Ch(this,t)}toString(){return this.snapshot.toString()}};function rw(e){let t=RS(e),n=new Ae([new xn("",{})]),r=new Ae({}),o=new Ae({}),i=new Ae({}),s=new Ae(""),a=new Bt(n,r,i,s,o,L,e,t.root);return a.snapshot=t.root,new vs(new We(a,[]),t)}function RS(e){let t={},n={},r={},o="",i=new vr([],t,r,o,n,L,e,null,{});return new ws("",new We(i,[]))}var Bt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(z(l=>l[bs]))??A(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(z(t=>wr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(z(t=>wr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function pl(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:u(u({},t.params),e.params),data:u(u({},t.data),e.data),resolve:u(u(u(u({},e.data),t.data),o?.data),e._resolvedData)}:r={params:u({},e.params),data:u({},e.data),resolve:u(u({},e.data),e._resolvedData??{})},o&&iw(o)&&(r.resolve[bs]=o.title),r}var vr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[bs]}constructor(t,n,r,o,i,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ws=class extends hl{url;constructor(t,n){super(n),this.url=t,Ch(this,n)}toString(){return ow(this._root)}};function Ch(e,t){t.value._routerState=e,t.children.forEach(n=>Ch(e,n))}function ow(e){let t=e.children.length>0?` { ${e.children.map(ow).join(", ")} } `:"";return`${e.value}${t}`}function sh(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,kt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),kt(t.params,n.params)||e.paramsSubject.next(n.params),iS(t.url,n.url)||e.urlSubject.next(n.url),kt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function gh(e,t){let n=kt(e.params,t.params)&&lS(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||gh(e.parent,t.parent))}function iw(e){return typeof e.title=="string"||e.title===null}var sw=new b(""),Is=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=L;activateEvents=new be;deactivateEvents=new be;attachEvents=new be;detachEvents=new be;routerOutletData=oy(void 0);parentContexts=v(Dr);location=v(Fc);changeDetector=v(pr);inputBinder=v(Ss,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new mh(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=yt({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[lr]})}return e})(),mh=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===Bt?this.route:t===Dr?this.childContexts:t===sw?this.outletData:this.parent.get(t,n)}},Ss=new b(""),bh=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=Ri([r.queryParams,r.params,r.data]).pipe(nt(([i,s,a],c)=>(a=u(u(u({},i),s),a),c===0?A(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=vv(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})();function NS(e,t,n){let r=_s(e,t._root,n?n._root:void 0);return new vs(r,t)}function _s(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=OS(e,t,n);return new We(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>_s(e,a)),s}}let r=PS(t.value),o=t.children.map(i=>_s(e,i));return new We(r,o)}}function OS(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return _s(e,r,o);return _s(e,r)})}function PS(e){return new Bt(new Ae(e.url),new Ae(e.params),new Ae(e.queryParams),new Ae(e.fragment),new Ae(e.data),e.outlet,e.component,e)}var $o=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},aw="ngNavigationCancelingError";function gl(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Tn(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=cw(!1,Ue.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function cw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[aw]=!0,n.cancellationCode=t,n}function FS(e){return lw(e)&&Tn(e.url)}function lw(e){return!!e&&e[aw]}var kS=(e,t,n,r)=>z(o=>(new yh(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),yh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),sh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=Po(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Po(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Po(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=Po(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new dl(i.value.snapshot))}),t.children.length&&this.forwardEvent(new ll(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(sh(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),sh(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},ml=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ko=class{component;route;constructor(t,n){this.component=t,this.route=n}};function LS(e,t,n){let r=e._root,o=t?t._root:null;return fs(r,o,n,[r.value])}function VS(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ho(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Jg(e)?e:t.get(e):r}function fs(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Po(t);return e.children.forEach(s=>{jS(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>ps(a,n.getContext(s),o)),o}function jS(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=BS(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new ml(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?fs(e,t,a?a.children:null,r,o):fs(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ko(a.outlet.component,s))}else s&&ps(t,a,o),o.canActivateChecks.push(new ml(r)),i.component?fs(e,null,a?a.children:null,r,o):fs(e,null,n,r,o);return o}function BS(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!yr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!yr(e.url,t.url)||!kt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gh(e,t)||!kt(e.queryParams,t.queryParams);case"paramsChange":default:return!gh(e,t)}}function ps(e,t,n){let r=Po(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?ps(s,t.children.getContext(i),n):ps(s,null,n):ps(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new ko(t.outlet.component,o)):n.canDeactivateChecks.push(new ko(null,o)):n.canDeactivateChecks.push(new ko(null,o))}function Ms(e){return typeof e=="function"}function $S(e){return typeof e=="boolean"}function US(e){return e&&Ms(e.canLoad)}function HS(e){return e&&Ms(e.canActivate)}function zS(e){return e&&Ms(e.canActivateChild)}function qS(e){return e&&Ms(e.canDeactivate)}function GS(e){return e&&Ms(e.canMatch)}function uw(e){return e instanceof Jt||e?.name==="EmptyError"}var Yc=Symbol("INITIAL_VALUE");function Uo(){return nt(e=>Ri(e.map(t=>t.pipe(en(1),qu(Yc)))).pipe(z(t=>{for(let n of t)if(n!==!0){if(n===Yc)return Yc;if(n===!1||WS(n))return n}return!0}),qe(t=>t!==Yc),en(1)))}function WS(e){return Tn(e)||e instanceof $o}function ZS(e,t){return le(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?A(p(u({},n),{guardsResult:!0})):YS(s,r,o,e).pipe(le(a=>a&&$S(a)?QS(r,i,e,t):A(a)),z(a=>p(u({},n),{guardsResult:a})))})}function YS(e,t,n,r){return ne(e).pipe(le(o=>tM(o.component,o.route,n,t,r)),tn(o=>o!==!0,!0))}function QS(e,t,n,r){return ne(t).pipe(pn(o=>no(JS(o.route.parent,r),KS(o.route,r),eM(e,o.path,n),XS(e,o.route,n))),tn(o=>o!==!0,!0))}function KS(e,t){return e!==null&&t&&t(new ul(e)),A(!0)}function JS(e,t){return e!==null&&t&&t(new cl(e)),A(!0)}function XS(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return A(!0);let o=r.map(i=>Ba(()=>{let s=Es(t)??n,a=Ho(i,s),c=HS(a)?a.canActivate(t,e):ct(s,()=>a(t,e));return Nn(c).pipe(tn())}));return A(o).pipe(Uo())}function eM(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>VS(s)).filter(s=>s!==null).map(s=>Ba(()=>{let a=s.guards.map(c=>{let l=Es(s.node)??n,d=Ho(c,l),f=zS(d)?d.canActivateChild(r,e):ct(l,()=>d(r,e));return Nn(f).pipe(tn())});return A(a).pipe(Uo())}));return A(i).pipe(Uo())}function tM(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return A(!0);let s=i.map(a=>{let c=Es(t)??o,l=Ho(a,c),d=qS(l)?l.canDeactivate(e,t,n,r):ct(c,()=>l(e,t,n,r));return Nn(d).pipe(tn())});return A(s).pipe(Uo())}function nM(e,t,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return A(!0);let i=o.map(s=>{let a=Ho(s,e),c=US(a)?a.canLoad(t,n):ct(e,()=>a(t,n));return Nn(c)});return A(i).pipe(Uo(),dw(r))}function dw(e){return Lu(Te(t=>{if(typeof t!="boolean")throw gl(e,t)}),z(t=>t===!0))}function rM(e,t,n,r){let o=t.canMatch;if(!o||o.length===0)return A(!0);let i=o.map(s=>{let a=Ho(s,e),c=GS(a)?a.canMatch(t,n):ct(e,()=>a(t,n));return Nn(c)});return A(i).pipe(Uo(),dw(r))}var Ds=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Cs=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Oo(e){return eo(new Ds(e))}function oM(e){return eo(new S(4e3,!1))}function iM(e){return eo(cw(!1,Ue.GuardRejected))}var vh=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return A(r);if(o.numberOfChildren>1||!o.children[L])return oM(`${t.redirectTo}`);o=o.children[L]}}applyRedirectCommands(t,n,r,o,i){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:d,url:f,outlet:g,params:h,data:m,title:_}=o,D=ct(i,()=>a({params:h,data:m,queryParams:c,fragment:l,routeConfig:d,url:f,outlet:g,title:_}));if(D instanceof Vt)throw new Cs(D);n=D}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new Cs(s);return s}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new Vt(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new Z(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new S(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}},wh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sM(e,t,n,r,o){let i=fw(e,t,n);return i.matched?(r=AS(t,r),rM(r,t,n,o).pipe(z(s=>s===!0?i:u({},wh)))):A(i)}function fw(e,t,n){if(t.path==="**")return aM(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?u({},wh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||$v)(n,e,t);if(!o)return u({},wh);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?u(u({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function aM(e){return{matched:!0,parameters:e.length>0?Hv(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Vv(e,t,n,r){return n.length>0&&uM(e,n,r)?{segmentGroup:new Z(t,lM(r,new Z(n,e.children))),slicedSegments:[]}:n.length===0&&dM(e,n,r)?{segmentGroup:new Z(e.segments,cM(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Z(e.segments,e.children),slicedSegments:n}}function cM(e,t,n,r){let o={};for(let i of n)if(vl(e,t,i)&&!r[Dt(i)]){let s=new Z([],{});o[Dt(i)]=s}return u(u({},r),o)}function lM(e,t){let n={};n[L]=t;for(let r of e)if(r.path===""&&Dt(r)!==L){let o=new Z([],{});n[Dt(r)]=o}return n}function uM(e,t,n){return n.some(r=>vl(e,t,r)&&Dt(r)!==L)}function dM(e,t,n){return n.some(r=>vl(e,t,r))}function vl(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function fM(e,t,n){return t.length===0&&!e.children[n]}var _h=class{};function hM(e,t,n,r,o,i,s="emptyOnly"){return new Dh(e,t,n,r,o,s,i).recognize()}var pM=31,Dh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new vh(this.urlSerializer,this.urlTree)}noMatchError(t){return new S(4002,`'${t.segmentGroup}'`)}recognize(){let t=Vv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(z(({children:n,rootSnapshot:r})=>{let o=new We(r,n),i=new ws("",o),s=Jv(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){let n=new vr([],Object.freeze({}),Object.freeze(u({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),L,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,L,n).pipe(z(r=>({children:r,rootSnapshot:n})),Xt(r=>{if(r instanceof Cs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ds?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(z(s=>s instanceof We?[s]:[]))}processChildren(t,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ne(i).pipe(pn(s=>{let a=r.children[s],c=TS(n,s);return this.processSegmentGroup(t,c,a,s,o)}),zu((s,a)=>(s.push(...a),s)),gn(null),Hu(),le(s=>{if(s===null)return Oo(r);let a=hw(s);return gM(a),A(a)}))}processSegment(t,n,r,o,i,s,a){return ne(n).pipe(pn(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a).pipe(Xt(l=>{if(l instanceof Ds)return A(null);throw l}))),tn(c=>!!c),Xt(c=>{if(uw(c))return fM(r,o,i)?A(new _h):Oo(r);throw c}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,c){return Dt(r)!==s&&(s===L||!vl(o,i,r))?Oo(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c):Oo(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=fw(n,o,i);if(!c)return Oo(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>pM&&(this.allowRedirects=!1));let h=new vr(i,l,Object.freeze(u({},this.urlTree.queryParams)),this.urlTree.fragment,jv(o),Dt(o),o.component??o._loadedComponent??null,o,Bv(o)),m=pl(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(m.params),h.data=Object.freeze(m.data);let _=this.applyRedirects.applyRedirectCommands(d,o.redirectTo,f,h,t);return this.applyRedirects.lineralizeSegments(o,_).pipe(le(D=>this.processSegment(t,r,n,D.concat(g),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){let a=sM(n,r,o,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(nt(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(nt(({routes:l})=>{let d=r._loadedInjector??t,{parameters:f,consumedSegments:g,remainingSegments:h}=c,m=new vr(g,f,Object.freeze(u({},this.urlTree.queryParams)),this.urlTree.fragment,jv(r),Dt(r),r.component??r._loadedComponent??null,r,Bv(r)),_=pl(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(_.params),m.data=Object.freeze(_.data);let{segmentGroup:D,slicedSegments:x}=Vv(n,g,h,l);if(x.length===0&&D.hasChildren())return this.processChildren(d,l,D,m).pipe(z(te=>new We(m,te)));if(l.length===0&&x.length===0)return A(new We(m,[]));let I=Dt(r)===i;return this.processSegment(d,l,D,x,I?L:i,!0,m).pipe(z(te=>new We(m,te instanceof We?[te]:[])))}))):Oo(n)))}getChildConfig(t,n,r){return n.children?A({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?A({routes:n._loadedRoutes,injector:n._loadedInjector}):nM(t,n,r,this.urlSerializer).pipe(le(o=>o?this.configLoader.loadChildren(t,n).pipe(Te(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):iM(n))):A({routes:[],injector:t})}};function gM(e){e.sort((t,n)=>t.value.outlet===L?-1:n.value.outlet===L?1:t.value.outlet.localeCompare(n.value.outlet))}function mM(e){let t=e.value.routeConfig;return t&&t.path===""}function hw(e){let t=[],n=new Set;for(let r of e){if(!mM(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=hw(r.children);t.push(new We(r.value,o))}return t.filter(r=>!n.has(r))}function jv(e){return e.data||{}}function Bv(e){return e.resolve||{}}function yM(e,t,n,r,o,i){return le(s=>hM(e,t,n,r,s.extractedUrl,o,i).pipe(z(({state:a,tree:c})=>p(u({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function vM(e,t){return le(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return A(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let l of pw(c))s.add(l);let a=0;return ne(s).pipe(pn(c=>i.has(c)?wM(c,r,e,t):(c.data=pl(c,c.parent,e).resolve,A(void 0))),Te(()=>a++),ro(1),le(c=>a===s.size?A(n):Le))})}function pw(e){let t=e.children.map(n=>pw(n)).flat();return[e,...t]}function wM(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!iw(o)&&(i[bs]=o.title),_M(i,e,t,r).pipe(z(s=>(e._resolvedData=s,e.data=pl(e,e.parent,n).resolve,null)))}function _M(e,t,n,r){let o=lh(e);if(o.length===0)return A({});let i={};return ne(o).pipe(le(s=>DM(e[s],t,n,r).pipe(tn(),Te(a=>{if(a instanceof $o)throw gl(new An,a);i[s]=a}))),ro(1),z(()=>i),Xt(s=>uw(s)?Le:eo(s)))}function DM(e,t,n,r){let o=Es(t)??r,i=Ho(e,o),s=i.resolve?i.resolve(t,n):ct(o,()=>i(t,n));return Nn(s)}function ah(e){return nt(t=>{let n=e(t);return n?ne(n).pipe(z(()=>t)):A(t)})}var Eh=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===L);return r}getResolvedTitleForRoute(n){return n.data[bs]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>v(gw),providedIn:"root"})}return e})(),gw=(()=>{class e extends Eh{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(R(Ov))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Cr=new b("",{providedIn:"root",factory:()=>({})}),Ih=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=bn({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&hr(0,"router-outlet")},dependencies:[Is],encapsulation:2})}return e})();function Sh(e){let t=e.children&&e.children.map(Sh),n=t?p(u({},e),{children:t}):u({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==L&&(n.component=Ih),n}var br=new b(""),wl=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(fv);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return A(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Nn(n.loadComponent()).pipe(z(yw),Te(i=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=i}),Ni(()=>{this.componentLoaders.delete(n)})),o=new Xr(r,()=>new fe).pipe(Jr());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return A({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=mw(r,this.compiler,n,this.onLoadEndListener).pipe(Ni(()=>{this.childrenLoaders.delete(r)})),s=new Xr(i,()=>new fe).pipe(Jr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mw(e,t,n,r){return Nn(e.loadChildren()).pipe(z(yw),le(o=>o instanceof Lf||Array.isArray(o)?A(o):ne(t.compileModuleAsync(o))),z(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get(br,[],{optional:!0,self:!0}).flat()),{routes:s.map(Sh),injector:i}}))}function CM(e){return e&&typeof e=="object"&&"default"in e}function yw(e){return CM(e)?e.default:e}var _l=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>v(bM),providedIn:"root"})}return e})(),bM=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Mh=new b(""),xh=new b("");function vw(e,t,n){let r=e.get(xh),o=e.get(Ee);return e.get(ue).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let i,s=new Promise(l=>{i=l}),a=o.startViewTransition(()=>(i(),EM(e))),{onViewTransitionCreated:c}=r;return c&&ct(e,()=>c({transition:a,from:t,to:n})),s})}function EM(e){return new Promise(t=>{Df({read:()=>setTimeout(t)},{injector:e})})}var Ah=new b(""),Dl=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new fe;transitionAbortSubject=new fe;configLoader=v(wl);environmentInjector=v(Be);destroyRef=v(Xi);urlSerializer=v(_r);rootContexts=v(Dr);location=v(Mn);inputBindingEnabled=v(Ss,{optional:!0})!==null;titleStrategy=v(Eh);options=v(Cr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(_l);createViewTransition=v(Mh,{optional:!0});navigationErrorHandler=v(Ah,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>A(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new sl(o)),r=o=>this.events.next(new al(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(p(u({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new Ae(null),this.transitions.pipe(qe(r=>r!==null),nt(r=>{let o=!1,i=!1;return A(r).pipe(nt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ue.SupersededByNewNavigation),Le;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?p(u({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new jt(s.id,this.urlSerializer.serialize(s.rawUrl),l,Lo.IgnoredSameUrlNavigation)),s.resolve(!1),Le}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return A(s).pipe(nt(l=>(this.events.next(new Rn(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Le:Promise.resolve(l))),yM(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Te(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=p(u({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let d=new ms(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:d,source:f,restoredState:g,extras:h}=s,m=new Rn(l,this.urlSerializer.serialize(d),f,g);this.events.next(m);let _=rw(this.rootComponentType).snapshot;return this.currentTransition=r=p(u({},s),{targetSnapshot:_,urlAfterRedirects:d,extras:p(u({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,A(r)}else{let l="";return this.events.next(new jt(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Lo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Le}}),Te(s=>{let a=new nl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),z(s=>(this.currentTransition=r=p(u({},s),{guards:LS(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),ZS(this.environmentInjector,s=>this.events.next(s)),Te(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw gl(this.urlSerializer,s.guardsResult);let a=new rl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),qe(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ue.GuardRejected),!1)),ah(s=>{if(s.guards.canActivateChecks.length!==0)return A(s).pipe(Te(a=>{let c=new ol(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),nt(a=>{let c=!1;return A(a).pipe(vM(this.paramsInheritanceStrategy,this.environmentInjector),Te({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Ue.NoDataFromResolver)}}))}),Te(a=>{let c=new il(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),ah(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Te(d=>{c.component=d}),z(()=>{})));for(let d of c.children)l.push(...a(d));return l};return Ri(a(s.targetSnapshot.root)).pipe(gn(null),en(1))}),ah(()=>this.afterPreactivation()),nt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?ne(c).pipe(z(()=>r)):A(r)}),z(s=>{let a=NS(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=p(u({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Te(()=>{this.events.next(new ys)}),kS(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),en(1),Te({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ut(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Gu(this.transitionAbortSubject.pipe(Te(s=>{throw s}))),Ni(()=>{!o&&!i&&this.cancelNavigationTransition(r,"",Ue.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xt(s=>{if(this.destroyed)return r.resolve(!1),Le;if(i=!0,lw(s))this.events.next(new Lt(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),FS(s)?this.events.next(new Bo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Vo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=ct(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof $o){let{message:l,cancellationCode:d}=gl(this.urlSerializer,c);this.events.next(new Lt(r.id,this.urlSerializer.serialize(r.extractedUrl),l,d)),this.events.next(new Bo(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Le}))}))}cancelNavigationTransition(n,r,o){let i=new Lt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function IM(e){return e!==Xc}var ww=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>v(SM),providedIn:"root"})}return e})(),yl=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},SM=(()=>{class e extends yl{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Ji(e)))(o||e)}})();static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_w=(()=>{class e{urlSerializer=v(_r);options=v(Cr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=v(Mn);urlHandlingStrategy=v(_l);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Vt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof Vt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=rw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>v(MM),providedIn:"root"})}return e})(),MM=(()=>{class e extends _w{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Rn?this.updateStateMemento():n instanceof jt?this.commitTransition(r):n instanceof ms?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ys?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Lt&&(n.code===Ue.GuardRejected||n.code===Ue.NoDataFromResolver)?this.restoreHistory(r):n instanceof Vo?this.restoreHistory(r,!0):n instanceof ut&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=u(u({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=u(u({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Ji(e)))(o||e)}})();static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Cl(e,t){e.events.pipe(qe(n=>n instanceof ut||n instanceof Lt||n instanceof Vo||n instanceof jt),z(n=>n instanceof ut||n instanceof jt?0:(n instanceof Lt?n.code===Ue.Redirect||n.code===Ue.SupersededByNewNavigation:!1)?2:1),qe(n=>n!==2),en(1)).subscribe(()=>{t()})}var xM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$t=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v(ov);stateManager=v(_w);options=v(Cr,{optional:!0})||{};pendingTasks=v(Eo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(Dl);urlSerializer=v(_r);location=v(Mn);urlHandlingStrategy=v(_l);_events=new fe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(ww);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(br,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v(Ss,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new de;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Lt&&r.code!==Ue.Redirect&&r.code!==Ue.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ut)this.navigated=!0;else if(r instanceof Bo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=u({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||IM(o.source)},s);this.scheduleNavigation(a,Xc,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}RM(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=u({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Sh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=u(u({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let g=o?o.snapshot:this.routerState.snapshot.root;f=Xv(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return ew(f,n,d,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Tn(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Xc,null,r)}navigate(n,r={skipLocationChange:!1}){return TM(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=u({},xM):r===!1?o=u({},AM):o=r,Tn(n))return Pv(this.currentUrlTree,n,o);let i=this.parseUrl(n);return Pv(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((f,g)=>{a=f,c=g});let d=this.pendingTasks.add();return Cl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function TM(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new S(4008,!1)}function RM(e){return!(e instanceof ys)&&!(e instanceof Bo)}var bl=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new fe;constructor(n,r,o,i,s,a){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof ut&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Tn(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:_y(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,n,r):o.removeAttribute(i,n)}get urlTree(){return this.routerLinkInput===null?null:Tn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(re($t),re(Bt),ff("tabindex"),re(dr),re(_n),re(_t))};static \u0275dir=yt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&Ft("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Lc("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",gr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",gr],replaceUrl:[2,"replaceUrl","replaceUrl",gr],routerLink:"routerLink"},features:[lr]})}return e})();var xs=class{};var Dw=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(qe(n=>n instanceof ut),pn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=ts(i.providers,n,`Route: ${i.path}`));let s=i._injector??n,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return ne(o).pipe(to())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=A(null);let i=o.pipe(le(s=>s===null?A(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return ne([i,s]).pipe(to())}else return i})}static \u0275fac=function(r){return new(r||e)(R($t),R(Be),R(xs),R(wl))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Cw=new b(""),NM=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Rn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ut?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof jt&&n.code===Lo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof jo&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jo(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Qy()};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})();function Rh(e,...t){return Ic([{provide:br,multi:!0,useValue:e},[],{provide:Bt,useFactory:bw,deps:[$t]},{provide:kc,multi:!0,useFactory:Ew},t.map(n=>n.\u0275providers)])}function bw(e){return e.routerState.root}function As(e,t){return{\u0275kind:e,\u0275providers:t}}function Ew(){let e=v(at);return t=>{let n=e.get(ar);if(t!==n.components[0])return;let r=e.get($t),o=e.get(Iw);e.get(Nh)===1&&r.initialNavigation(),e.get(xw,null,B.Optional)?.setUpPreloading(),e.get(Cw,null,B.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var Iw=new b("",{factory:()=>new fe}),Nh=new b("",{providedIn:"root",factory:()=>1});function Sw(){let e=[{provide:Nh,useValue:0},Vf(()=>{let t=v(at);return t.get(qf,Promise.resolve()).then(()=>new Promise(r=>{let o=t.get($t),i=t.get(Iw);Cl(o,()=>{r(!0)}),t.get(Dl).afterPreactivation=()=>(r(!0),i.closed?A(void 0):i),o.initialNavigation()}))})];return As(2,e)}function Mw(){let e=[Vf(()=>{v($t).setUpLocationChangeListener()}),{provide:Nh,useValue:2}];return As(3,e)}var xw=new b("");function Aw(e){return As(0,[{provide:xw,useExisting:Dw},{provide:xs,useExisting:e}])}function Tw(){return As(8,[bh,{provide:Ss,useExisting:bh}])}function Rw(e){Dn("NgRouterViewTransitions");let t=[{provide:Mh,useValue:vw},{provide:xh,useValue:u({skipNextTransition:!!e?.skipInitialTransition},e)}];return As(9,t)}var Nw=[Mn,{provide:_r,useClass:An},$t,Dr,{provide:Bt,useFactory:bw,deps:[$t]},wl,[]],Oh=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[Nw,[],{provide:br,multi:!0,useValue:n},[],r?.errorHandler?{provide:Ah,useValue:r.errorHandler}:[],{provide:Cr,useValue:r||{}},r?.useHash?PM():FM(),OM(),r?.preloadingStrategy?Aw(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?kM(r):[],r?.bindToComponentInputs?Tw().\u0275providers:[],r?.enableViewTransitions?Rw().\u0275providers:[],LM()]}}static forChild(n){return{ngModule:e,providers:[{provide:br,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=En({type:e});static \u0275inj=wn({})}return e})();function OM(){return{provide:Cw,useFactory:()=>{let e=v(Ev),t=v(ue),n=v(Cr),r=v(Dl),o=v(_r);return n.scrollOffset&&e.setOffset(n.scrollOffset),new NM(o,r,e,t,n)}}}function PM(){return{provide:_t,useClass:Gf}}function FM(){return{provide:_t,useClass:Uc}}function kM(e){return[e.initialNavigation==="disabled"?Mw().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Sw().\u0275providers:[]]}var Th=new b("");function LM(){return[{provide:Th,useFactory:Ew},{provide:kc,multi:!0,useExisting:Th}]}var El={production:!0,aiKey:"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"};var Bw=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(re(dr),re(_n))};static \u0275dir=yt({type:e})}return e})(),jM=(()=>{class e extends Bw{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Ji(e)))(o||e)}})();static \u0275dir=yt({type:e,features:[Mo]})}return e})(),$w=new b("");var BM={provide:$w,useExisting:Wi(()=>Al),multi:!0};function $M(){let e=lt()?lt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var UM=new b(""),Al=(()=>{class e extends Bw{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!$M())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(re(dr),re(_n),re(UM,8))};static \u0275dir=yt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Ft("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Hf([BM]),Mo]})}return e})();var HM=new b(""),zM=new b("");function Uw(e){return e!=null}function Hw(e){return Ao(e)?ne(e):e}function zw(e){let t={};return e.forEach(n=>{t=n!=null?u(u({},t),n):t}),Object.keys(t).length===0?null:t}function qw(e,t){return t.map(n=>n(e))}function qM(e){return!e.validate}function Gw(e){return e.map(t=>qM(t)?t:n=>t.validate(n))}function GM(e){if(!e)return null;let t=e.filter(Uw);return t.length==0?null:function(n){return zw(qw(n,t))}}function Ww(e){return e!=null?GM(Gw(e)):null}function WM(e){if(!e)return null;let t=e.filter(Uw);return t.length==0?null:function(n){let r=qw(n,t).map(Hw);return Uu(r).pipe(z(zw))}}function Zw(e){return e!=null?WM(Gw(e)):null}function Ow(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function ZM(e){return e._rawValidators}function YM(e){return e._rawAsyncValidators}function Ph(e){return e?Array.isArray(e)?e:[e]:[]}function Sl(e,t){return Array.isArray(e)?e.includes(t):e===t}function Pw(e,t){let n=Ph(t);return Ph(e).forEach(o=>{Sl(n,o)||n.push(o)}),n}function Fw(e,t){return Ph(t).filter(n=>!Sl(e,n))}var Ml=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ww(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Zw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Fh=class extends Ml{name;get formDirective(){return null}get path(){return null}},Ps=class extends Ml{_parent=null;name=null;valueAccessor=null},kh=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},QM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},mV=p(u({},QM),{"[class.ng-submitted]":"isSubmitted"}),Yw=(()=>{class e extends kh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(re(Ps,2))};static \u0275dir=yt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&jf("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Mo]})}return e})();var Ts="VALID",Il="INVALID",zo="PENDING",Rs="DISABLED",Go=class{},xl=class extends Go{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Ns=class extends Go{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Os=class extends Go{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},qo=class extends Go{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function KM(e){return(Tl(e)?e.validators:e)||null}function JM(e){return Array.isArray(e)?Ww(e):e||null}function XM(e,t){return(Tl(t)?t.asyncValidators:e)||null}function ex(e){return Array.isArray(e)?Zw(e):e||null}function Tl(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Lh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return mr(this.statusReactive)}set status(t){mr(()=>this.statusReactive.set(t))}_status=jc(()=>this.statusReactive());statusReactive=sn(void 0);get valid(){return this.status===Ts}get invalid(){return this.status===Il}get pending(){return this.status==zo}get disabled(){return this.status===Rs}get enabled(){return this.status!==Rs}errors;get pristine(){return mr(this.pristineReactive)}set pristine(t){mr(()=>this.pristineReactive.set(t))}_pristine=jc(()=>this.pristineReactive());pristineReactive=sn(!0);get dirty(){return!this.pristine}get touched(){return mr(this.touchedReactive)}set touched(t){mr(()=>this.touchedReactive.set(t))}_touched=jc(()=>this.touchedReactive());touchedReactive=sn(!1);get untouched(){return!this.touched}_events=new fe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Pw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Pw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Fw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Fw(t,this._rawAsyncValidators))}hasValidator(t){return Sl(this._rawValidators,t)}hasAsyncValidator(t){return Sl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(p(u({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Os(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Os(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(p(u({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ns(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ns(!0,r))}markAsPending(t={}){this.status=zo;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new qo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(p(u({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Rs,this.errors=null,this._forEachChild(o=>{o.disable(p(u({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new xl(this.value,r)),this._events.next(new qo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(p(u({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ts,this._forEachChild(r=>{r.enable(p(u({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(p(u({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ts||this.status===zo)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new xl(this.value,n)),this._events.next(new qo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(p(u({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rs:Ts}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=zo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Hw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new qo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new be,this.statusChanges=new be}_calculateStatus(){return this._allControlsDisabled()?Rs:this.errors?Il:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zo)?zo:this._anyControlsHaveStatus(Il)?Il:Ts}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new Ns(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Os(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Tl(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=JM(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=ex(this._rawAsyncValidators)}};var Qw=new b("",{providedIn:"root",factory:()=>Vh}),Vh="always";function tx(e,t){return[...t.path,e]}function nx(e,t,n=Vh){ox(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),ix(e,t),ax(e,t),sx(e,t),rx(e,t)}function kw(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function rx(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function ox(e,t){let n=ZM(e);t.validator!==null?e.setValidators(Ow(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=YM(e);t.asyncValidator!==null?e.setAsyncValidators(Ow(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let o=()=>e.updateValueAndValidity();kw(t._rawValidators,o),kw(t._rawAsyncValidators,o)}function ix(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Kw(e,t)})}function sx(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Kw(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function Kw(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ax(e,t){let n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function cx(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function lx(e){return Object.getPrototypeOf(e.constructor)===jM}function ux(e,t){if(!t)return null;Array.isArray(t);let n,r,o;return t.forEach(i=>{i.constructor===Al?n=i:lx(i)?r=i:o=i}),o||r||n||null}function Lw(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Vw(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var dx=class extends Lh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(KM(n),XM(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Vw(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Lw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Lw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Vw(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var fx={provide:Ps,useExisting:Wi(()=>jh)},jw=Promise.resolve(),jh=(()=>{class e extends Ps{_changeDetectorRef;callSetDisabledState;control=new dx;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new be;constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=ux(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),cx(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){jw.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&gr(r);jw.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?tx(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(re(Fh,9),re(HM,10),re(zM,10),re($w,10),re(pr,8),re(Qw,8))};static \u0275dir=yt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Hf([fx]),Mo,lr]})}return e})();var hx=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=En({type:e});static \u0275inj=wn({})}return e})();var Jw=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Qw,useValue:n.callSetDisabledState??Vh}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=En({type:e});static \u0275inj=wn({imports:[hx]})}return e})();var Rl="RFC3986",Nl={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},Xw="RFC1738";var gx=Array.isArray,Ut=(()=>{let e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();var Bh=1024,e_=(e,t,n,r,o)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let s="";for(let a=0;a<i.length;a+=Bh){let c=i.length>=Bh?i.slice(a,a+Bh):i,l=[];for(let d=0;d<c.length;++d){let f=c.charCodeAt(d);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||o===Xw&&(f===40||f===41)){l[l.length]=c.charAt(d);continue}if(f<128){l[l.length]=Ut[f];continue}if(f<2048){l[l.length]=Ut[192|f>>6]+Ut[128|f&63];continue}if(f<55296||f>=57344){l[l.length]=Ut[224|f>>12]+Ut[128|f>>6&63]+Ut[128|f&63];continue}d+=1,f=65536+((f&1023)<<10|c.charCodeAt(d)&1023),l[l.length]=Ut[240|f>>18]+Ut[128|f>>12&63]+Ut[128|f>>6&63]+Ut[128|f&63]}s+=l.join("")}return s};function t_(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function $h(e,t){if(gx(e)){let n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}var mx=Object.prototype.hasOwnProperty,n_={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},Ht=Array.isArray,yx=Array.prototype.push,r_=function(e,t){yx.apply(e,Ht(t)?t:[t])},vx=Date.prototype.toISOString,_e={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e_,encodeValuesOnly:!1,format:Rl,formatter:Nl[Rl],indices:!1,serializeDate(e){return vx.call(e)},skipNulls:!1,strictNullHandling:!1};function wx(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}var Uh={};function o_(e,t,n,r,o,i,s,a,c,l,d,f,g,h,m,_,D,x){let I=e,te=x,Se=0,Me=!1;for(;(te=te.get(Uh))!==void 0&&!Me;){let ee=te.get(e);if(Se+=1,typeof ee<"u"){if(ee===Se)throw new RangeError("Cyclic object value");Me=!0}typeof te.get(Uh)>"u"&&(Se=0)}if(typeof l=="function"?I=l(t,I):I instanceof Date?I=g?.(I):n==="comma"&&Ht(I)&&(I=$h(I,function(ee){return ee instanceof Date?g?.(ee):ee})),I===null){if(i)return c&&!_?c(t,_e.encoder,D,"key",h):t;I=""}if(wx(I)||t_(I)){if(c){let ee=_?t:c(t,_e.encoder,D,"key",h);return[m?.(ee)+"="+m?.(c(I,_e.encoder,D,"value",h))]}return[m?.(t)+"="+m?.(String(I))]}let T=[];if(typeof I>"u")return T;let xe;if(n==="comma"&&Ht(I))_&&c&&(I=$h(I,c)),xe=[{value:I.length>0?I.join(",")||null:void 0}];else if(Ht(l))xe=l;else{let ee=Object.keys(I);xe=d?ee.sort(d):ee}let Oe=a?String(t).replace(/\./g,"%2E"):String(t),se=r&&Ht(I)&&I.length===1?Oe+"[]":Oe;if(o&&Ht(I)&&I.length===0)return se+"[]";for(let ee=0;ee<xe.length;++ee){let Xe=xe[ee],Yn=typeof Xe=="object"&&typeof Xe.value<"u"?Xe.value:I[Xe];if(s&&Yn===null)continue;let et=f&&a?Xe.replace(/\./g,"%2E"):Xe,Et=Ht(I)?typeof n=="function"?n(se,et):se:se+(f?"."+et:"["+et+"]");x.set(e,Se);let It=new WeakMap;It.set(Uh,x),r_(T,o_(Yn,Et,n,r,o,i,s,a,n==="comma"&&_&&Ht(I)?null:c,l,d,f,g,h,m,_,D,It))}return T}function _x(e=_e){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");let t=e.charset||_e.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Rl;if(typeof e.format<"u"){if(!mx.call(Nl,e.format))throw new TypeError("Unknown format option provided.");n=e.format}let r=Nl[n],o=_e.filter;(typeof e.filter=="function"||Ht(e.filter))&&(o=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in n_?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=_e.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");let s=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:_e.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:_e.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:_e.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:_e.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?_e.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:_e.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:_e.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:_e.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:_e.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:_e.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:_e.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:_e.strictNullHandling}}function Hh(e,t={}){let n=e,r=_x(t),o,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):Ht(r.filter)&&(i=r.filter,o=i);let s=[];if(typeof n!="object"||n===null)return"";let a=n_[r.arrayFormat],c=a==="comma"&&r.commaRoundTrip;o||(o=Object.keys(n)),r.sort&&o.sort(r.sort);let l=new WeakMap;for(let g=0;g<o.length;++g){let h=o[g];r.skipNulls&&n[h]===null||r_(s,o_(n[h],h,a,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}let d=s.join(r.delimiter),f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),d.length>0?f+d:""}var Er="4.96.0";var i_=!1,Ir,zh,Cx,bx,Ex,qh,Ix,Ol,Gh,Wh,Zh,Pl,Yh;function s_(e,t={auto:!1}){if(i_)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(Ir)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${Ir}'\``);i_=t.auto,Ir=e.kind,zh=e.fetch,Cx=e.Request,bx=e.Response,Ex=e.Headers,qh=e.FormData,Ix=e.Blob,Ol=e.File,Gh=e.ReadableStream,Wh=e.getMultipartRequestOptions,Zh=e.getDefaultAgent,Pl=e.fileFromPath,Yh=e.isFsReadStream}var Fl=class{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}};function a_({manuallyImported:e}={}){let t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n",n,r,o,i;try{n=fetch,r=Request,o=Response,i=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:o,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:(s,a)=>y(this,null,function*(){return p(u({},a),{body:new Fl(s)})}),getDefaultAgent:s=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:s=>!1}}var Qh=()=>{Ir||s_(a_(),{auto:!0})};Qh();var C=class extends Error{},De=class e extends C{constructor(t,n,r,o){super(`${e.makeMessage(t,n,r)}`),this.status=t,this.headers=o,this.request_id=o?.["x-request-id"],this.error=n;let i=n;this.code=i?.code,this.param=i?.param,this.type=i?.type}static makeMessage(t,n,r){let o=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,r,o){if(!t||!o)return new On({message:r,cause:kl(n)});let i=n?.error;return t===400?new Fs(t,i,r,o):t===401?new ks(t,i,r,o):t===403?new Ls(t,i,r,o):t===404?new Vs(t,i,r,o):t===409?new js(t,i,r,o):t===422?new Bs(t,i,r,o):t===429?new $s(t,i,r,o):t>=500?new Us(t,i,r,o):new e(t,i,r,o)}},pe=class extends De{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}},On=class extends De{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}},Pn=class extends On{constructor({message:t}={}){super({message:t??"Request timed out."})}},Fs=class extends De{},ks=class extends De{},Ls=class extends De{},Vs=class extends De{},js=class extends De{},Bs=class extends De{},$s=class extends De{},Us=class extends De{},Wo=class extends C{constructor(){super("Could not parse response content as the length limit was reached")}},Zo=class extends C{constructor(){super("Could not parse response content as the request was rejected by the content filter")}};var Ll=function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},Sr=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ye,Mr=class{constructor(){Ye.set(this,void 0),this.buffer=new Uint8Array,Ll(this,Ye,null,"f")}decode(t){if(t==null)return[];let n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t,r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;let o=[],i;for(;(i=xx(this.buffer,Sr(this,Ye,"f")))!=null;){if(i.carriage&&Sr(this,Ye,"f")==null){Ll(this,Ye,i.index,"f");continue}if(Sr(this,Ye,"f")!=null&&(i.index!==Sr(this,Ye,"f")+1||i.carriage)){o.push(this.decodeText(this.buffer.slice(0,Sr(this,Ye,"f")-1))),this.buffer=this.buffer.slice(Sr(this,Ye,"f")),Ll(this,Ye,null,"f");continue}let s=Sr(this,Ye,"f")!==null?i.preceding-1:i.preceding,a=this.decodeText(this.buffer.slice(0,s));o.push(a),this.buffer=this.buffer.slice(i.index),Ll(this,Ye,null,"f")}return o}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new C(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new C(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new C("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}};Ye=new WeakMap;Mr.NEWLINE_CHARS=new Set([`
`,"\r"]);Mr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function xx(e,t){for(let o=t??0;o<e.length;o++){if(e[o]===10)return{preceding:o,index:o+1,carriage:!1};if(e[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function c_(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}function Kh(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{next(){return y(this,null,function*(){try{let r=yield t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}})},return(){return y(this,null,function*(){let r=t.cancel();return t.releaseLock(),yield r,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}var zt=class e{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;function o(){return Mt(this,null,function*(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{try{for(var s=ce(Ax(t,n)),a,c,l;a=!(c=yield new ge(s.next())).done;a=!1){let d=c.value;if(!i){if(d.data.startsWith("[DONE]")){i=!0;continue}if(d.event===null||d.event.startsWith("response.")||d.event.startsWith("transcript.")){let f;try{f=JSON.parse(d.data)}catch(g){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),g}if(f&&f.error)throw new De(void 0,f.error,void 0,Xh(t.headers));yield f}else{let f;try{f=JSON.parse(d.data)}catch(g){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),g}if(d.event=="error")throw new De(void 0,f.error,f.message,void 0);yield{event:d.event,data:f}}}}}catch{l=[c]}finally{try{a&&(c=s.return)&&(yield new ge(c.call(s)))}finally{if(l)throw l[0]}}i=!0}catch(d){if(d instanceof Error&&d.name==="AbortError")return;throw d}finally{i||n.abort()}})}return new e(o,n)}static fromReadableStream(t,n){let r=!1;function o(){return Mt(this,null,function*(){let s=new Mr,a=Kh(t);try{for(var c=ce(a),l,d,f;l=!(d=yield new ge(c.next())).done;l=!1){let g=d.value;for(let h of s.decode(g))yield h}}catch{f=[d]}finally{try{l&&(d=c.return)&&(yield new ge(d.call(c)))}finally{if(f)throw f[0]}}for(let g of s.flush())yield g})}function i(){return Mt(this,null,function*(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{try{for(var a=ce(o()),c,l,d;c=!(l=yield new ge(a.next())).done;c=!1){let f=l.value;s||f&&(yield JSON.parse(f))}}catch{d=[l]}finally{try{c&&(l=a.return)&&(yield new ge(l.call(a)))}finally{if(d)throw d[0]}}s=!0}catch(f){if(f instanceof Error&&f.name==="AbortError")return;throw f}finally{s||n.abort()}})}return new e(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){let t=[],n=[],r=this.iterator(),o=i=>({next:()=>{if(i.length===0){let s=r.next();t.push(s),n.push(s)}return i.shift()}});return[new e(()=>o(t),this.controller),new e(()=>o(n),this.controller)]}toReadableStream(){let t=this,n,r=new TextEncoder;return new Gh({start(){return y(this,null,function*(){n=t[Symbol.asyncIterator]()})},pull(i){return y(this,null,function*(){try{let{value:s,done:a}=yield n.next();if(a)return i.close();let c=r.encode(JSON.stringify(s)+`
`);i.enqueue(c)}catch(s){i.error(s)}})},cancel(){return y(this,null,function*(){yield n.return?.()})}})}};function Ax(e,t){return Mt(this,null,function*(){if(!e.body)throw t.abort(),new C("Attempted to iterate over a response with no body");let n=new Jh,r=new Mr,o=Kh(e.body);try{for(var i=ce(Tx(o)),s,a,c;s=!(a=yield new ge(i.next())).done;s=!1){let l=a.value;for(let d of r.decode(l)){let f=n.decode(d);f&&(yield f)}}}catch{c=[a]}finally{try{s&&(a=i.return)&&(yield new ge(a.call(i)))}finally{if(c)throw c[0]}}for(let l of r.flush()){let d=n.decode(l);d&&(yield d)}})}function Tx(e){return Mt(this,null,function*(){let t=new Uint8Array;try{for(var n=ce(e),r,o,i;r=!(o=yield new ge(n.next())).done;r=!1){let s=o.value;if(s==null)continue;let a=s instanceof ArrayBuffer?new Uint8Array(s):typeof s=="string"?new TextEncoder().encode(s):s,c=new Uint8Array(t.length+a.length);c.set(t),c.set(a,t.length),t=c;let l;for(;(l=c_(t))!==-1;)yield t.slice(0,l),t=t.slice(l)}}catch{i=[o]}finally{try{r&&(o=n.return)&&(yield new ge(o.call(n)))}finally{if(i)throw i[0]}}t.length>0&&(yield t)})}var Jh=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,o]=Rx(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}};function Rx(e,t){let n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}var l_=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",u_=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Hs(e),Hs=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Nx=e=>u_(e)||l_(e)||Yh(e);function np(e,t,n){return y(this,null,function*(){if(e=yield e,u_(e))return e;if(l_(e)){let o=yield e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");let i=Hs(o)?[yield o.arrayBuffer()]:[o];return new Ol(i,t,n)}let r=yield Ox(e);if(t||(t=Fx(e)??"unknown_file"),!n?.type){let o=r[0]?.type;typeof o=="string"&&(n=p(u({},n),{type:o}))}return new Ol(r,t,n)})}function Ox(e){return y(this,null,function*(){let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Hs(e))t.push(yield e.arrayBuffer());else if(kx(e))try{for(var n=ce(e),r,o,i;r=!(o=yield n.next()).done;r=!1){let s=o.value;t.push(s)}}catch{i=[o]}finally{try{r&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i[0]}}else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${Px(e)}`);return t})}function Px(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function Fx(e){return ep(e.name)||ep(e.filename)||ep(e.path)?.split(/[\\/]/).pop()}var ep=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},kx=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",rp=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody";var dt=e=>y(void 0,null,function*(){let t=yield d_(e.body);return Wh(t,e)}),d_=e=>y(void 0,null,function*(){let t=new qh;return yield Promise.all(Object.entries(e||{}).map(([n,r])=>tp(t,n,r))),t});var tp=(e,t,n)=>y(void 0,null,function*(){if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(Nx(n)){let r=yield np(n);e.append(t,r)}else if(Array.isArray(n))yield Promise.all(n.map(r=>tp(e,t+"[]",r)));else if(typeof n=="object")yield Promise.all(Object.entries(n).map(([r,o])=>tp(e,`${t}[${r}]`,o)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}});var Vx=function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},jx=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Vl;Qh();function y_(e){return y(this,null,function*(){let{response:t}=e;if(e.options.stream)return an("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):zt.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;let r=t.headers.get("content-type")?.split(";")[0]?.trim();if(r?.includes("application/json")||r?.endsWith("+json")){let s=yield t.json();return an("response",t.status,t.url,t.headers,s),v_(s,t)}let i=yield t.text();return an("response",t.status,t.url,t.headers,i),i})}function v_(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var Bl=class e extends Promise{constructor(t,n=y_){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new e(this.responsePromise,n=>y(this,null,function*(){return v_(t(yield this.parseResponse(n),n),n.response)}))}asResponse(){return this.responsePromise.then(t=>t.response)}withResponse(){return y(this,null,function*(){let[t,n]=yield Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}})}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}},$l=class{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:o,fetch:i}){this.baseURL=t,this.maxRetries=op("maxRetries",n),this.timeout=op("timeout",r),this.httpAgent=o,this.fetch=i??zh}authHeaders(t){return{}}defaultHeaders(t){return u(u({Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent()},Hx()),this.authHeaders(t))}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${Wx()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(o=>y(this,null,function*(){let i=o&&Hs(o?.body)?new DataView(yield o.body.arrayBuffer()):o?.body instanceof DataView?o.body:o?.body instanceof ArrayBuffer?new DataView(o.body):o&&ArrayBuffer.isView(o?.body)?new DataView(o.body.buffer):o?.body;return p(u({method:t,path:n},o),{body:i})})))}getAPIList(t,n,r){return this.requestAPIList(n,u({method:"get",path:t},r))}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){let r=u({},t),{method:o,path:i,query:s,headers:a={}}=r,c=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:rp(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,l=this.calculateContentLength(c),d=this.buildURL(i,s);"timeout"in r&&op("timeout",r.timeout),r.timeout=r.timeout??this.timeout;let f=r.httpAgent??this.httpAgent??Zh(d),g=r.timeout+1e3;typeof f?.options?.timeout=="number"&&g>(f.options.timeout??0)&&(f.options.timeout=g),this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);let h=this.buildHeaders({options:r,headers:a,contentLength:l,retryCount:n});return{req:p(u(p(u({method:o},c&&{body:c}),{headers:h}),f&&{agent:f}),{signal:r.signal??null}),url:d,timeout:r.timeout}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:o}){let i={};r&&(i["content-length"]=r);let s=this.defaultHeaders(t);return g_(i,s),g_(i,n),rp(t.body)&&Ir!=="node"&&delete i["content-type"],jl(s,"x-stainless-retry-count")===void 0&&jl(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(o)),jl(s,"x-stainless-timeout")===void 0&&jl(n,"x-stainless-timeout")===void 0&&t.timeout&&(i["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(i,n),i}prepareOptions(t){return y(this,null,function*(){})}prepareRequest(o,i){return y(this,arguments,function*(t,{url:n,options:r}){})}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):u({},t):{}}makeStatusError(t,n,r,o){return De.generate(t,n,r,o)}request(t,n=null){return new Bl(this.makeRequest(t,n))}makeRequest(t,n){return y(this,null,function*(){let r=yield t,o=r.maxRetries??this.maxRetries;n==null&&(n=o),yield this.prepareOptions(r);let{req:i,url:s,timeout:a}=this.buildRequest(r,{retryCount:o-n});if(yield this.prepareRequest(i,{url:s,options:r}),an("request",s,r,i.headers),r.signal?.aborted)throw new pe;let c=new AbortController,l=yield this.fetchWithTimeout(s,i,a,c).catch(kl);if(l instanceof Error){if(r.signal?.aborted)throw new pe;if(n)return this.retryRequest(r,n);throw l.name==="AbortError"?new Pn:new On({cause:l})}let d=Xh(l.headers);if(!l.ok){if(n&&this.shouldRetry(l)){let D=`retrying, ${n} attempts remaining`;return an(`response (error; ${D})`,l.status,s,d),this.retryRequest(r,n,d)}let f=yield l.text().catch(D=>kl(D).message),g=zx(f),h=g?void 0:f;throw an(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,l.status,s,d,h),this.makeStatusError(l.status,g,h,d)}return{response:l,options:r,controller:c}})}requestAPIList(t,n){let r=this.makeRequest(n,null);return new ip(this,r,t)}buildURL(t,n){let r=Gx(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return w_(o)||(n=u(u({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new C(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}fetchWithTimeout(t,n,r,o){return y(this,null,function*(){let l=n||{},{signal:i}=l,s=ae(l,["signal"]);i&&i.addEventListener("abort",()=>o.abort());let a=setTimeout(()=>o.abort(),r),c=u({signal:o.signal},s);return c.method&&(c.method=c.method.toUpperCase()),this.fetch.call(void 0,t,c).finally(()=>{clearTimeout(a)})})}shouldRetry(t){let n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}retryRequest(t,n,r){return y(this,null,function*(){let o,i=r?.["retry-after-ms"];if(i){let a=parseFloat(i);Number.isNaN(a)||(o=a)}let s=r?.["retry-after"];if(s&&!o){let a=parseFloat(s);Number.isNaN(a)?o=Date.parse(s)-Date.now():o=a*1e3}if(!(o&&0<=o&&o<60*1e3)){let a=t.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,a)}return yield cn(o),this.makeRequest(t,n-1)})}calculateDefaultRetryTimeoutMillis(t,n){let i=n-t,s=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return s*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Er}`}},zs=class{constructor(t,n,r,o){Vl.set(this,void 0),Vx(this,Vl,t,"f"),this.options=o,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}getNextPage(){return y(this,null,function*(){let t=this.nextPageInfo();if(!t)throw new C("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");let n=u({},this.options);if("params"in t&&typeof n.query=="object")n.query=u(u({},n.query),t.params);else if("url"in t){let r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(let[o,i]of r)t.url.searchParams.set(o,i);n.query=void 0,n.path=t.url.toString()}return yield jx(this,Vl,"f").requestAPIList(this.constructor,n)})}iterPages(){return Mt(this,null,function*(){let t=this;for(yield t;t.hasNextPage();)t=yield new ge(t.getNextPage()),yield t})}[(Vl=new WeakMap,Symbol.asyncIterator)](){return Mt(this,null,function*(){try{for(var t=ce(this.iterPages()),n,r,o;n=!(r=yield new ge(t.next())).done;n=!1){let i=r.value;for(let s of i.getPaginatedItems())yield s}}catch{o=[r]}finally{try{n&&(r=t.return)&&(yield new ge(r.call(t)))}finally{if(o)throw o[0]}}})}},ip=class extends Bl{constructor(t,n,r){super(n,o=>y(this,null,function*(){return new r(t,o.response,yield y_(o),o.options)}))}[Symbol.asyncIterator](){return Mt(this,null,function*(){let t=yield new ge(this);try{for(var n=ce(t),r,o,i;r=!(o=yield new ge(n.next())).done;r=!1){let s=o.value;yield s}}catch{i=[o]}finally{try{r&&(o=n.return)&&(yield new ge(o.call(n)))}finally{if(i)throw i[0]}}})}},Xh=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){let r=n.toString();return t[r.toLowerCase()]||t[r]}}),Bx={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},V=e=>typeof e=="object"&&e!==null&&!w_(e)&&Object.keys(e).every(t=>__(Bx,t)),$x=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Er,"X-Stainless-OS":h_(Deno.build.os),"X-Stainless-Arch":f_(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Er,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Er,"X-Stainless-OS":h_(process.platform),"X-Stainless-Arch":f_(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};let e=Ux();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Er,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Er,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Ux(){if(typeof navigator>"u"||!navigator)return null;let e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:t,pattern:n}of e){let r=n.exec(navigator.userAgent);if(r){let o=r[1]||0,i=r[2]||0,s=r[3]||0;return{browser:t,version:`${o}.${i}.${s}`}}}return null}var f_=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",h_=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown"),p_,Hx=()=>p_??(p_=$x()),zx=e=>{try{return JSON.parse(e)}catch{return}},qx=/^[a-z][a-z0-9+.-]*:/i,Gx=e=>qx.test(e),cn=e=>new Promise(t=>setTimeout(t,e)),op=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new C(`${e} must be an integer`);if(t<0)throw new C(`${e} must be a positive integer`);return t},kl=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)};var qs=e=>{if(typeof process<"u")return process.env?.[e]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(e)?.trim()};function w_(e){if(!e)return!0;for(let t in e)return!1;return!0}function __(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function g_(e,t){for(let n in t){if(!__(t,n))continue;let r=n.toLowerCase();if(!r)continue;let o=t[n];o===null?delete e[r]:o!==void 0&&(e[r]=o)}}var m_=new Set(["authorization","api-key"]);function an(e,...t){if(typeof process<"u"&&process?.env?.DEBUG==="true"){let n=t.map(r=>{if(!r)return r;if(r.headers){let i=p(u({},r),{headers:u({},r.headers)});for(let s in r.headers)m_.has(s.toLowerCase())&&(i.headers[s]="REDACTED");return i}let o=null;for(let i in r)m_.has(i.toLowerCase())&&(o??(o=u({},r)),o[i]="REDACTED");return o??r});console.log(`OpenAI:DEBUG:${e}`,...n)}}var Wx=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),D_=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Zx=e=>typeof e?.get=="function";var jl=(e,t)=>{let n=t.toLowerCase();if(Zx(e)){let r=t[0]?.toUpperCase()+t.substring(1).replace(/([^\w])(\w)/g,(o,i,s)=>i+s.toUpperCase());for(let o of[t,n,t.toUpperCase(),r]){let i=e.get(o);if(i)return i}}for(let[r,o]of Object.entries(e))if(r.toLowerCase()===n)return Array.isArray(o)?(o.length<=1||console.warn(`Received ${o.length} entries for the ${t} header, using the first entry.`),o[0]):o};var C_=e=>{if(typeof Buffer<"u"){let t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{let t=atob(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return Array.from(new Float32Array(r.buffer))}};function Gs(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}var qt=class extends zs{constructor(t,n,r,o){super(t,n,r,o),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}},G=class extends zs{constructor(t,n,r,o){super(t,n,r,o),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){let t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;let n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){let t=this.getPaginatedItems();if(!t.length)return null;let n=t[t.length-1]?.id;return n?{params:{after:n}}:null}};var w=class{constructor(t){this._client=t}};var Yo=class extends w{list(t,n={},r){return V(n)?this.list(t,{},n):this._client.getAPIList(`/chat/completions/${t}/messages`,Ul,u({query:n},r))}};var kn=class extends w{constructor(){super(...arguments),this.messages=new Yo(this._client)}create(t,n){return this._client.post("/chat/completions",p(u({body:t},n),{stream:t.stream??!1}))}retrieve(t,n){return this._client.get(`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(`/chat/completions/${t}`,u({body:n},r))}list(t={},n){return V(t)?this.list({},t):this._client.getAPIList("/chat/completions",Ln,u({query:t},n))}del(t,n){return this._client.delete(`/chat/completions/${t}`,n)}},Ln=class extends G{},Ul=class extends G{};kn.ChatCompletionsPage=Ln;kn.Messages=Yo;var Ws=(()=>{class e extends w{constructor(){super(...arguments),this.completions=new kn(this._client)}}return e.Completions=kn,e.ChatCompletionsPage=Ln,e})();var Qo=class extends w{create(t,n){return this._client.post("/audio/speech",p(u({body:t},n),{headers:u({Accept:"application/octet-stream"},n?.headers),__binaryResponse:!0}))}};var Ko=class extends w{create(t,n){return this._client.post("/audio/transcriptions",dt(p(u({body:t},n),{stream:t.stream??!1,__metadata:{model:t.model}})))}};var Jo=class extends w{create(t,n){return this._client.post("/audio/translations",dt(p(u({body:t},n),{__metadata:{model:t.model}})))}};var Zs=(()=>{class e extends w{constructor(){super(...arguments),this.transcriptions=new Ko(this._client),this.translations=new Jo(this._client),this.speech=new Qo(this._client)}}return e.Transcriptions=Ko,e.Translations=Jo,e.Speech=Qo,e})();var Vn=class extends w{create(t,n){return this._client.post("/batches",u({body:t},n))}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return V(t)?this.list({},t):this._client.getAPIList("/batches",xr,u({query:t},n))}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}},xr=class extends G{};Vn.BatchesPage=xr;var Ct=function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},oe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},sp,Hl,zl,Ys,Qs,ql,Ks,ln,Js,Gl,Wl,Xo,b_,jn=class{constructor(){sp.add(this),this.controller=new AbortController,Hl.set(this,void 0),zl.set(this,()=>{}),Ys.set(this,()=>{}),Qs.set(this,void 0),ql.set(this,()=>{}),Ks.set(this,()=>{}),ln.set(this,{}),Js.set(this,!1),Gl.set(this,!1),Wl.set(this,!1),Xo.set(this,!1),Ct(this,Hl,new Promise((t,n)=>{Ct(this,zl,t,"f"),Ct(this,Ys,n,"f")}),"f"),Ct(this,Qs,new Promise((t,n)=>{Ct(this,ql,t,"f"),Ct(this,Ks,n,"f")}),"f"),oe(this,Hl,"f").catch(()=>{}),oe(this,Qs,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},oe(this,sp,"m",b_).bind(this))},0)}_connected(){this.ended||(oe(this,zl,"f").call(this),this._emit("connect"))}get ended(){return oe(this,Js,"f")}get errored(){return oe(this,Gl,"f")}get aborted(){return oe(this,Wl,"f")}abort(){this.controller.abort()}on(t,n){return(oe(this,ln,"f")[t]||(oe(this,ln,"f")[t]=[])).push({listener:n}),this}off(t,n){let r=oe(this,ln,"f")[t];if(!r)return this;let o=r.findIndex(i=>i.listener===n);return o>=0&&r.splice(o,1),this}once(t,n){return(oe(this,ln,"f")[t]||(oe(this,ln,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{Ct(this,Xo,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}done(){return y(this,null,function*(){Ct(this,Xo,!0,"f"),yield oe(this,Qs,"f")})}_emit(t,...n){if(oe(this,Js,"f"))return;t==="end"&&(Ct(this,Js,!0,"f"),oe(this,ql,"f").call(this));let r=oe(this,ln,"f")[t];if(r&&(oe(this,ln,"f")[t]=r.filter(o=>!o.once),r.forEach(({listener:o})=>o(...n))),t==="abort"){let o=n[0];!oe(this,Xo,"f")&&!r?.length&&Promise.reject(o),oe(this,Ys,"f").call(this,o),oe(this,Ks,"f").call(this,o),this._emit("end");return}if(t==="error"){let o=n[0];!oe(this,Xo,"f")&&!r?.length&&Promise.reject(o),oe(this,Ys,"f").call(this,o),oe(this,Ks,"f").call(this,o),this._emit("end")}}_emitFinal(){}};Hl=new WeakMap,zl=new WeakMap,Ys=new WeakMap,Qs=new WeakMap,ql=new WeakMap,Ks=new WeakMap,ln=new WeakMap,Js=new WeakMap,Gl=new WeakMap,Wl=new WeakMap,Xo=new WeakMap,sp=new WeakSet,b_=function(t){if(Ct(this,Gl,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new pe),t instanceof pe)return Ct(this,Wl,!0,"f"),this._emit("abort",t);if(t instanceof C)return this._emit("error",t);if(t instanceof Error){let n=new C(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new C(String(t)))};var E=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Qe=function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},Re,ap,Gt,Zl,bt,Tr,ei,Ar,Kl,Ke,Yl,Ql,ta,Xs,ea,E_,I_,S_,M_,x_,A_,T_,Wt=class e extends jn{constructor(){super(...arguments),Re.add(this),ap.set(this,[]),Gt.set(this,{}),Zl.set(this,{}),bt.set(this,void 0),Tr.set(this,void 0),ei.set(this,void 0),Ar.set(this,void 0),Kl.set(this,void 0),Ke.set(this,void 0),Yl.set(this,void 0),Ql.set(this,void 0),ta.set(this,void 0)}[(ap=new WeakMap,Gt=new WeakMap,Zl=new WeakMap,bt=new WeakMap,Tr=new WeakMap,ei=new WeakMap,Ar=new WeakMap,Kl=new WeakMap,Ke=new WeakMap,Yl=new WeakMap,Ql=new WeakMap,ta=new WeakMap,Re=new WeakSet,Symbol.asyncIterator)](){let t=[],n=[],r=!1;return this.on("event",o=>{let i=n.shift();i?i.resolve(o):t.push(o)}),this.on("end",()=>{r=!0;for(let o of n)o.resolve(void 0);n.length=0}),this.on("abort",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),this.on("error",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),{next:()=>y(this,null,function*(){return t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,s)=>n.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0})}),return:()=>y(this,null,function*(){return this.abort(),{value:void 0,done:!0}})}}static fromReadableStream(t){let n=new e;return n._run(()=>n._fromReadableStream(t)),n}_fromReadableStream(t,n){return y(this,null,function*(){let r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();let o=zt.fromReadableStream(t,this.controller);try{for(var i=ce(o),s,a,c;s=!(a=yield i.next()).done;s=!1){let l=a.value;E(this,Re,"m",Xs).call(this,l)}}catch{c=[a]}finally{try{s&&(a=i.return)&&(yield a.call(i))}finally{if(c)throw c[0]}}if(o.controller.signal?.aborted)throw new pe;return this._addRun(E(this,Re,"m",ea).call(this))})}toReadableStream(){return new zt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,o,i){let s=new e;return s._run(()=>s._runToolAssistantStream(t,n,r,o,p(u({},i),{headers:p(u({},i?.headers),{"X-Stainless-Helper-Method":"stream"})}))),s}_createToolAssistantStream(t,n,r,o,i){return y(this,null,function*(){let s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));let a=p(u({},o),{stream:!0}),c=yield t.submitToolOutputs(n,r,a,p(u({},i),{signal:this.controller.signal}));this._connected();try{for(var l=ce(c),d,f,g;d=!(f=yield l.next()).done;d=!1){let h=f.value;E(this,Re,"m",Xs).call(this,h)}}catch{g=[f]}finally{try{d&&(f=l.return)&&(yield f.call(l))}finally{if(g)throw g[0]}}if(c.controller.signal?.aborted)throw new pe;return this._addRun(E(this,Re,"m",ea).call(this))})}static createThreadAssistantStream(t,n,r){let o=new e;return o._run(()=>o._threadAssistantStream(t,n,p(u({},r),{headers:p(u({},r?.headers),{"X-Stainless-Helper-Method":"stream"})}))),o}static createAssistantStream(t,n,r,o){let i=new e;return i._run(()=>i._runAssistantStream(t,n,r,p(u({},o),{headers:p(u({},o?.headers),{"X-Stainless-Helper-Method":"stream"})}))),i}currentEvent(){return E(this,Yl,"f")}currentRun(){return E(this,Ql,"f")}currentMessageSnapshot(){return E(this,bt,"f")}currentRunStepSnapshot(){return E(this,ta,"f")}finalRunSteps(){return y(this,null,function*(){return yield this.done(),Object.values(E(this,Gt,"f"))})}finalMessages(){return y(this,null,function*(){return yield this.done(),Object.values(E(this,Zl,"f"))})}finalRun(){return y(this,null,function*(){if(yield this.done(),!E(this,Tr,"f"))throw Error("Final run was not received.");return E(this,Tr,"f")})}_createThreadAssistantStream(t,n,r){return y(this,null,function*(){let o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));let i=p(u({},n),{stream:!0}),s=yield t.createAndRun(i,p(u({},r),{signal:this.controller.signal}));this._connected();try{for(var a=ce(s),c,l,d;c=!(l=yield a.next()).done;c=!1){let f=l.value;E(this,Re,"m",Xs).call(this,f)}}catch{d=[l]}finally{try{c&&(l=a.return)&&(yield l.call(a))}finally{if(d)throw d[0]}}if(s.controller.signal?.aborted)throw new pe;return this._addRun(E(this,Re,"m",ea).call(this))})}_createAssistantStream(t,n,r,o){return y(this,null,function*(){let i=o?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));let s=p(u({},r),{stream:!0}),a=yield t.create(n,s,p(u({},o),{signal:this.controller.signal}));this._connected();try{for(var c=ce(a),l,d,f;l=!(d=yield c.next()).done;l=!1){let g=d.value;E(this,Re,"m",Xs).call(this,g)}}catch{f=[d]}finally{try{l&&(d=c.return)&&(yield d.call(c))}finally{if(f)throw f[0]}}if(a.controller.signal?.aborted)throw new pe;return this._addRun(E(this,Re,"m",ea).call(this))})}static accumulateDelta(t,n){for(let[r,o]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=o;continue}let i=t[r];if(i==null){t[r]=o;continue}if(r==="index"||r==="type"){t[r]=o;continue}if(typeof i=="string"&&typeof o=="string")i+=o;else if(typeof i=="number"&&typeof o=="number")i+=o;else if(Gs(i)&&Gs(o))i=this.accumulateDelta(i,o);else if(Array.isArray(i)&&Array.isArray(o)){if(i.every(s=>typeof s=="string"||typeof s=="number")){i.push(...o);continue}for(let s of o){if(!Gs(s))throw new Error(`Expected array delta entry to be an object but got: ${s}`);let a=s.index;if(a==null)throw console.error(s),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);let c=i[a];c==null?i.push(s):i[a]=this.accumulateDelta(c,s)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${o}, accValue: ${i}`);t[r]=i}return t}_addRun(t){return t}_threadAssistantStream(t,n,r){return y(this,null,function*(){return yield this._createThreadAssistantStream(n,t,r)})}_runAssistantStream(t,n,r,o){return y(this,null,function*(){return yield this._createAssistantStream(n,t,r,o)})}_runToolAssistantStream(t,n,r,o,i){return y(this,null,function*(){return yield this._createToolAssistantStream(r,t,n,o,i)})}};Xs=function(t){if(!this.ended)switch(Qe(this,Yl,t,"f"),E(this,Re,"m",S_).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":E(this,Re,"m",T_).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":E(this,Re,"m",I_).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":E(this,Re,"m",E_).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier");default:}},ea=function(){if(this.ended)throw new C("stream has ended, this shouldn't happen");if(!E(this,Tr,"f"))throw Error("Final run has not been received");return E(this,Tr,"f")},E_=function(t){let[n,r]=E(this,Re,"m",x_).call(this,t,E(this,bt,"f"));Qe(this,bt,n,"f"),E(this,Zl,"f")[n.id]=n;for(let o of r){let i=n.content[o.index];i?.type=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(let o of t.data.delta.content){if(o.type=="text"&&o.text){let i=o.text,s=n.content[o.index];if(s&&s.type=="text")this._emit("textDelta",i,s.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(o.index!=E(this,ei,"f")){if(E(this,Ar,"f"))switch(E(this,Ar,"f").type){case"text":this._emit("textDone",E(this,Ar,"f").text,E(this,bt,"f"));break;case"image_file":this._emit("imageFileDone",E(this,Ar,"f").image_file,E(this,bt,"f"));break}Qe(this,ei,o.index,"f")}Qe(this,Ar,n.content[o.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(E(this,ei,"f")!==void 0){let o=t.data.content[E(this,ei,"f")];if(o)switch(o.type){case"image_file":this._emit("imageFileDone",o.image_file,E(this,bt,"f"));break;case"text":this._emit("textDone",o.text,E(this,bt,"f"));break}}E(this,bt,"f")&&this._emit("messageDone",t.data),Qe(this,bt,void 0,"f")}},I_=function(t){let n=E(this,Re,"m",M_).call(this,t);switch(Qe(this,ta,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":let r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(let i of r.step_details.tool_calls)i.index==E(this,Kl,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(E(this,Ke,"f")&&this._emit("toolCallDone",E(this,Ke,"f")),Qe(this,Kl,i.index,"f"),Qe(this,Ke,n.step_details.tool_calls[i.index],"f"),E(this,Ke,"f")&&this._emit("toolCallCreated",E(this,Ke,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Qe(this,ta,void 0,"f"),t.data.step_details.type=="tool_calls"&&E(this,Ke,"f")&&(this._emit("toolCallDone",E(this,Ke,"f")),Qe(this,Ke,void 0,"f")),this._emit("runStepDone",t.data,n);break;case"thread.run.step.in_progress":break}},S_=function(t){E(this,ap,"f").push(t),this._emit("event",t)},M_=function(t){switch(t.event){case"thread.run.step.created":return E(this,Gt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=E(this,Gt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){let o=Wt.accumulateDelta(n,r.delta);E(this,Gt,"f")[t.data.id]=o}return E(this,Gt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":E(this,Gt,"f")[t.data.id]=t.data;break}if(E(this,Gt,"f")[t.data.id])return E(this,Gt,"f")[t.data.id];throw new Error("No snapshot available")},x_=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=t.data;if(o.delta.content)for(let i of o.delta.content)if(i.index in n.content){let s=n.content[i.index];n.content[i.index]=E(this,Re,"m",A_).call(this,i,s)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},A_=function(t,n){return Wt.accumulateDelta(n,t)},T_=function(t){switch(Qe(this,Ql,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Qe(this,Tr,t.data,"f"),E(this,Ke,"f")&&(this._emit("toolCallDone",E(this,Ke,"f")),Qe(this,Ke,void 0,"f"));break;case"thread.run.cancelling":break}};var Rr=class extends w{create(t,n){return this._client.post("/assistants",p(u({body:t},n),{headers:u({"OpenAI-Beta":"assistants=v2"},n?.headers)}))}retrieve(t,n){return this._client.get(`/assistants/${t}`,p(u({},n),{headers:u({"OpenAI-Beta":"assistants=v2"},n?.headers)}))}update(t,n,r){return this._client.post(`/assistants/${t}`,p(u({body:n},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}list(t={},n){return V(t)?this.list({},t):this._client.getAPIList("/assistants",ti,p(u({query:t},n),{headers:u({"OpenAI-Beta":"assistants=v2"},n?.headers)}))}del(t,n){return this._client.delete(`/assistants/${t}`,p(u({},n),{headers:u({"OpenAI-Beta":"assistants=v2"},n?.headers)}))}},ti=class extends G{};Rr.AssistantsPage=ti;function cp(e){return typeof e.parse=="function"}var Bn=e=>e?.role==="assistant",lp=e=>e?.role==="function",up=e=>e?.role==="tool";function na(e){return e?.$brand==="auto-parseable-response-format"}function Nr(e){return e?.$brand==="auto-parseable-tool"}function R_(e,t){return!t||!dp(t)?p(u({},e),{choices:e.choices.map(n=>p(u({},n),{message:u(p(u({},n.message),{parsed:null}),n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0)}))}):ra(e,t)}function ra(e,t){let n=e.choices.map(r=>{if(r.finish_reason==="length")throw new Wo;if(r.finish_reason==="content_filter")throw new Zo;return p(u({},r),{message:p(u(u({},r.message),r.message.tool_calls?{tool_calls:r.message.tool_calls?.map(o=>nA(t,o))??void 0}:void 0),{parsed:r.message.content&&!r.message.refusal?tA(t,r.message.content):null})})});return p(u({},e),{choices:n})}function tA(e,t){return e.response_format?.type!=="json_schema"?null:e.response_format?.type==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function nA(e,t){let n=e.tools?.find(r=>r.function?.name===t.function.name);return p(u({},t),{function:p(u({},t.function),{parsed_arguments:Nr(n)?n.$parseRaw(t.function.arguments):n?.function.strict?JSON.parse(t.function.arguments):null})})}function N_(e,t){if(!e)return!1;let n=e.tools?.find(r=>r.function?.name===t.function.name);return Nr(n)||n?.function.strict||!1}function dp(e){return na(e.response_format)?!0:e.tools?.some(t=>Nr(t)||t.type==="function"&&t.function.strict===!0)??!1}function O_(e){for(let t of e??[]){if(t.type!=="function")throw new C(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new C(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var He=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ne,fp,Jl,hp,pp,gp,F_,mp,P_=10,ni=class extends jn{constructor(){super(...arguments),Ne.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){this._chatCompletions.push(t),this._emit("chatCompletion",t);let n=t.choices[0]?.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(lp(t)||up(t))&&t.content)this._emit("functionCallResult",t.content);else if(Bn(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Bn(t)&&t.tool_calls)for(let r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}finalChatCompletion(){return y(this,null,function*(){yield this.done();let t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new C("stream ended without producing a ChatCompletion");return t})}finalContent(){return y(this,null,function*(){return yield this.done(),He(this,Ne,"m",fp).call(this)})}finalMessage(){return y(this,null,function*(){return yield this.done(),He(this,Ne,"m",Jl).call(this)})}finalFunctionCall(){return y(this,null,function*(){return yield this.done(),He(this,Ne,"m",hp).call(this)})}finalFunctionCallResult(){return y(this,null,function*(){return yield this.done(),He(this,Ne,"m",pp).call(this)})}totalUsage(){return y(this,null,function*(){return yield this.done(),He(this,Ne,"m",gp).call(this)})}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){let t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);let n=He(this,Ne,"m",Jl).call(this);n&&this._emit("finalMessage",n);let r=He(this,Ne,"m",fp).call(this);r&&this._emit("finalContent",r);let o=He(this,Ne,"m",hp).call(this);o&&this._emit("finalFunctionCall",o);let i=He(this,Ne,"m",pp).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(s=>s.usage)&&this._emit("totalUsage",He(this,Ne,"m",gp).call(this))}_createChatCompletion(t,n,r){return y(this,null,function*(){let o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),He(this,Ne,"m",F_).call(this,n);let i=yield t.chat.completions.create(p(u({},n),{stream:!1}),p(u({},r),{signal:this.controller.signal}));return this._connected(),this._addChatCompletion(ra(i,n))})}_runChatCompletion(t,n,r){return y(this,null,function*(){for(let o of n.messages)this._addMessage(o,!1);return yield this._createChatCompletion(t,n,r)})}_runFunctions(t,n,r){return y(this,null,function*(){let o="function",g=n,{function_call:i="auto",stream:s}=g,a=ae(g,["function_call","stream"]),c=typeof i!="string"&&i?.name,{maxChatCompletions:l=P_}=r||{},d={};for(let h of n.functions)d[h.name||h.function.name]=h;let f=n.functions.map(h=>({name:h.name||h.function.name,parameters:h.parameters,description:h.description}));for(let h of n.messages)this._addMessage(h,!1);for(let h=0;h<l;++h){let _=(yield this._createChatCompletion(t,p(u({},a),{function_call:i,functions:f,messages:[...this.messages]}),r)).choices[0]?.message;if(!_)throw new C("missing message in ChatCompletion response");if(!_.function_call)return;let{name:D,arguments:x}=_.function_call,I=d[D];if(I){if(c&&c!==D){let T=`Invalid function_call: ${JSON.stringify(D)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:o,name:D,content:T});continue}}else{let T=`Invalid function_call: ${JSON.stringify(D)}. Available options are: ${f.map(xe=>JSON.stringify(xe.name)).join(", ")}. Please try again`;this._addMessage({role:o,name:D,content:T});continue}let te;try{te=cp(I)?yield I.parse(x):x}catch(T){this._addMessage({role:o,name:D,content:T instanceof Error?T.message:String(T)});continue}let Se=yield I.function(te,this),Me=He(this,Ne,"m",mp).call(this,Se);if(this._addMessage({role:o,name:D,content:Me}),c)return}})}_runTools(t,n,r){return y(this,null,function*(){let o="tool",h=n,{tool_choice:i="auto",stream:s}=h,a=ae(h,["tool_choice","stream"]),c=typeof i!="string"&&i?.function?.name,{maxChatCompletions:l=P_}=r||{},d=n.tools.map(m=>{if(Nr(m)){if(!m.$callback)throw new C("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:m.$callback,name:m.function.name,description:m.function.description||"",parameters:m.function.parameters,parse:m.$parseRaw,strict:!0}}}return m}),f={};for(let m of d)m.type==="function"&&(f[m.function.name||m.function.function.name]=m.function);let g="tools"in n?d.map(m=>m.type==="function"?{type:"function",function:{name:m.function.name||m.function.function.name,parameters:m.function.parameters,description:m.function.description,strict:m.function.strict}}:m):void 0;for(let m of n.messages)this._addMessage(m,!1);for(let m=0;m<l;++m){let D=(yield this._createChatCompletion(t,p(u({},a),{tool_choice:i,tools:g,messages:[...this.messages]}),r)).choices[0]?.message;if(!D)throw new C("missing message in ChatCompletion response");if(!D.tool_calls?.length)return;for(let x of D.tool_calls){if(x.type!=="function")continue;let I=x.id,{name:te,arguments:Se}=x.function,Me=f[te];if(Me){if(c&&c!==te){let se=`Invalid tool_call: ${JSON.stringify(te)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:o,tool_call_id:I,content:se});continue}}else{let se=`Invalid tool_call: ${JSON.stringify(te)}. Available options are: ${Object.keys(f).map(ee=>JSON.stringify(ee)).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:I,content:se});continue}let T;try{T=cp(Me)?yield Me.parse(Se):Se}catch(se){let ee=se instanceof Error?se.message:String(se);this._addMessage({role:o,tool_call_id:I,content:ee});continue}let xe=yield Me.function(T,this),Oe=He(this,Ne,"m",mp).call(this,xe);if(this._addMessage({role:o,tool_call_id:I,content:Oe}),c)return}}})}};Ne=new WeakSet,fp=function(){return He(this,Ne,"m",Jl).call(this).content??null},Jl=function(){let t=this.messages.length;for(;t-- >0;){let r=this.messages[t];if(Bn(r)){let n=r,{function_call:o}=n,i=ae(n,["function_call"]),s=p(u({},i),{content:r.content??null,refusal:r.refusal??null});return o&&(s.function_call=o),s}}throw new C("stream ended without producing a ChatCompletionMessage with role=assistant")},hp=function(){for(let t=this.messages.length-1;t>=0;t--){let n=this.messages[t];if(Bn(n)&&n?.function_call)return n.function_call;if(Bn(n)&&n?.tool_calls?.length)return n.tool_calls.at(-1)?.function}},pp=function(){for(let t=this.messages.length-1;t>=0;t--){let n=this.messages[t];if(lp(n)&&n.content!=null||up(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>r.role==="assistant"&&r.tool_calls?.some(o=>o.type==="function"&&o.id===n.tool_call_id)))return n.content}},gp=function(){let t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},F_=function(t){if(t.n!=null&&t.n>1)throw new C("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},mp=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};var oa=class e extends ni{static runFunctions(t,n,r){let o=new e,i=p(u({},r),{headers:p(u({},r?.headers),{"X-Stainless-Helper-Method":"runFunctions"})});return o._run(()=>o._runFunctions(t,n,i)),o}static runTools(t,n,r){let o=new e,i=p(u({},r),{headers:p(u({},r?.headers),{"X-Stainless-Helper-Method":"runTools"})});return o._run(()=>o._runTools(t,n,i)),o}_addMessage(t,n=!0){super._addMessage(t,n),Bn(t)&&t.content&&this._emit("content",t.content)}};var Ie={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511},yp=class extends Error{},vp=class extends Error{};function rA(e,t=Ie.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return oA(e.trim(),t)}var oA=(e,t)=>{let n=e.length,r=0,o=g=>{throw new yp(`${g} at position ${r}`)},i=g=>{throw new vp(`${g} at position ${r}`)},s=()=>(f(),r>=n&&o("Unexpected end of input"),e[r]==='"'?a():e[r]==="{"?c():e[r]==="["?l():e.substring(r,r+4)==="null"||Ie.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||Ie.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||Ie.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||Ie.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||Ie.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||Ie.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):d()),a=()=>{let g=r,h=!1;for(r++;r<n&&(e[r]!=='"'||h&&e[r-1]==="\\");)h=e[r]==="\\"?!h:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(g,++r-Number(h)))}catch(m){i(String(m))}else if(Ie.STR&t)try{return JSON.parse(e.substring(g,r-Number(h))+'"')}catch{return JSON.parse(e.substring(g,e.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},c=()=>{r++,f();let g={};try{for(;e[r]!=="}";){if(f(),r>=n&&Ie.OBJ&t)return g;let h=a();f(),r++;try{let m=s();Object.defineProperty(g,h,{value:m,writable:!0,enumerable:!0,configurable:!0})}catch(m){if(Ie.OBJ&t)return g;throw m}f(),e[r]===","&&r++}}catch{if(Ie.OBJ&t)return g;o("Expected '}' at end of object")}return r++,g},l=()=>{r++;let g=[];try{for(;e[r]!=="]";)g.push(s()),f(),e[r]===","&&r++}catch{if(Ie.ARR&t)return g;o("Expected ']' at end of array")}return r++,g},d=()=>{if(r===0){e==="-"&&Ie.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e)}catch(h){if(Ie.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(h))}}let g=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(Ie.NUM&t)&&o("Unterminated number literal");try{return JSON.parse(e.substring(g,r))}catch{e.substring(g,r)==="-"&&Ie.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e.substring(g,e.lastIndexOf("e")))}catch(m){i(String(m))}}},f=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return s()},wp=e=>rA(e,Ie.ALL^Ie.NUM);var ri=function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},J=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ce,un,oi,$n,_p,Xl,Dp,Cp,bp,eu,Ep,k_,ii=class e extends ni{constructor(t){super(),Ce.add(this),un.set(this,void 0),oi.set(this,void 0),$n.set(this,void 0),ri(this,un,t,"f"),ri(this,oi,[],"f")}get currentChatCompletionSnapshot(){return J(this,$n,"f")}static fromReadableStream(t){let n=new e(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){let o=new e(n);return o._run(()=>o._runChatCompletion(t,p(u({},n),{stream:!0}),p(u({},r),{headers:p(u({},r?.headers),{"X-Stainless-Helper-Method":"stream"})}))),o}_createChatCompletion(t,n,r){return y(this,null,function*(){hu(e.prototype,this,"_createChatCompletion");let o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),J(this,Ce,"m",_p).call(this);let i=yield t.chat.completions.create(p(u({},n),{stream:!0}),p(u({},r),{signal:this.controller.signal}));this._connected();try{for(var s=ce(i),a,c,l;a=!(c=yield s.next()).done;a=!1){let d=c.value;J(this,Ce,"m",Dp).call(this,d)}}catch{l=[c]}finally{try{a&&(c=s.return)&&(yield c.call(s))}finally{if(l)throw l[0]}}if(i.controller.signal?.aborted)throw new pe;return this._addChatCompletion(J(this,Ce,"m",eu).call(this))})}_fromReadableStream(t,n){return y(this,null,function*(){let r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),J(this,Ce,"m",_p).call(this),this._connected();let o=zt.fromReadableStream(t,this.controller),i;try{for(var s=ce(o),a,c,l;a=!(c=yield s.next()).done;a=!1){let d=c.value;i&&i!==d.id&&this._addChatCompletion(J(this,Ce,"m",eu).call(this)),J(this,Ce,"m",Dp).call(this,d),i=d.id}}catch{l=[c]}finally{try{a&&(c=s.return)&&(yield c.call(s))}finally{if(l)throw l[0]}}if(o.controller.signal?.aborted)throw new pe;return this._addChatCompletion(J(this,Ce,"m",eu).call(this))})}[(un=new WeakMap,oi=new WeakMap,$n=new WeakMap,Ce=new WeakSet,_p=function(){this.ended||ri(this,$n,void 0,"f")},Xl=function(n){let r=J(this,oi,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},J(this,oi,"f")[n.index]=r,r)},Dp=function(n){if(this.ended)return;let r=J(this,Ce,"m",k_).call(this,n);this._emit("chunk",n,r);for(let o of n.choices){let i=r.choices[o.index];o.delta.content!=null&&i.message?.role==="assistant"&&i.message?.content&&(this._emit("content",o.delta.content,i.message.content),this._emit("content.delta",{delta:o.delta.content,snapshot:i.message.content,parsed:i.message.parsed})),o.delta.refusal!=null&&i.message?.role==="assistant"&&i.message?.refusal&&this._emit("refusal.delta",{delta:o.delta.refusal,snapshot:i.message.refusal}),o.logprobs?.content!=null&&i.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:o.logprobs?.content,snapshot:i.logprobs?.content??[]}),o.logprobs?.refusal!=null&&i.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:o.logprobs?.refusal,snapshot:i.logprobs?.refusal??[]});let s=J(this,Ce,"m",Xl).call(this,i);i.finish_reason&&(J(this,Ce,"m",bp).call(this,i),s.current_tool_call_index!=null&&J(this,Ce,"m",Cp).call(this,i,s.current_tool_call_index));for(let a of o.delta.tool_calls??[])s.current_tool_call_index!==a.index&&(J(this,Ce,"m",bp).call(this,i),s.current_tool_call_index!=null&&J(this,Ce,"m",Cp).call(this,i,s.current_tool_call_index)),s.current_tool_call_index=a.index;for(let a of o.delta.tool_calls??[]){let c=i.message.tool_calls?.[a.index];c?.type&&(c?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:c.function?.name,index:a.index,arguments:c.function.arguments,parsed_arguments:c.function.parsed_arguments,arguments_delta:a.function?.arguments??""}):(c?.type,void 0))}}},Cp=function(n,r){if(J(this,Ce,"m",Xl).call(this,n).done_tool_calls.has(r))return;let i=n.message.tool_calls?.[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){let s=J(this,un,"f")?.tools?.find(a=>a.type==="function"&&a.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:Nr(s)?s.$parseRaw(i.function.arguments):s?.function.strict?JSON.parse(i.function.arguments):null})}else i.type},bp=function(n){let r=J(this,Ce,"m",Xl).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;let o=J(this,Ce,"m",Ep).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},eu=function(){if(this.ended)throw new C("stream has ended, this shouldn't happen");let n=J(this,$n,"f");if(!n)throw new C("request ended without sending any chunks");return ri(this,$n,void 0,"f"),ri(this,oi,[],"f"),iA(n,J(this,un,"f"))},Ep=function(){let n=J(this,un,"f")?.response_format;return na(n)?n:null},k_=function(n){var r,o,i,s;let a=J(this,$n,"f"),d=n,{choices:c}=d,l=ae(d,["choices"]);a?Object.assign(a,l):a=ri(this,$n,p(u({},l),{choices:[]}),"f");for(let _ of n.choices){let D=_,{delta:x,finish_reason:I,index:te,logprobs:Se=null}=D,Me=ae(D,["delta","finish_reason","index","logprobs"]);let T=a.choices[te];if(T||(T=a.choices[te]=u({finish_reason:I,index:te,message:{},logprobs:Se},Me)),Se)if(!T.logprobs)T.logprobs=Object.assign({},Se);else{let f=Se,{content:et,refusal:Et}=f,It=ae(f,["content","refusal"]);Object.assign(T.logprobs,It),et&&((r=T.logprobs).content??(r.content=[]),T.logprobs.content.push(...et)),Et&&((o=T.logprobs).refusal??(o.refusal=[]),T.logprobs.refusal.push(...Et))}if(I&&(T.finish_reason=I,J(this,un,"f")&&dp(J(this,un,"f")))){if(I==="length")throw new Wo;if(I==="content_filter")throw new Zo}if(Object.assign(T,Me),!x)continue;let g=x,{content:xe,refusal:Oe,function_call:se,role:ee,tool_calls:Xe}=g,Yn=ae(g,["content","refusal","function_call","role","tool_calls"]);if(Object.assign(T.message,Yn),Oe&&(T.message.refusal=(T.message.refusal||"")+Oe),ee&&(T.message.role=ee),se&&(T.message.function_call?(se.name&&(T.message.function_call.name=se.name),se.arguments&&((i=T.message.function_call).arguments??(i.arguments=""),T.message.function_call.arguments+=se.arguments)):T.message.function_call=se),xe&&(T.message.content=(T.message.content||"")+xe,!T.message.refusal&&J(this,Ce,"m",Ep).call(this)&&(T.message.parsed=wp(T.message.content))),Xe){T.message.tool_calls||(T.message.tool_calls=[]);for(let h of Xe){let m=h,{index:et,id:Et,type:It,function:Qt}=m,ua=ae(m,["index","id","type","function"]);let St=(s=T.message.tool_calls)[et]??(s[et]={});Object.assign(St,ua),Et&&(St.id=Et),It&&(St.type=It),Qt&&(St.function??(St.function={name:Qt.name??"",arguments:""})),Qt?.name&&(St.function.name=Qt.name),Qt?.arguments&&(St.function.arguments+=Qt.arguments,N_(J(this,un,"f"),St)&&(St.function.parsed_arguments=wp(St.function.arguments)))}}}return a},Symbol.asyncIterator)](){let t=[],n=[],r=!1;return this.on("chunk",o=>{let i=n.shift();i?i.resolve(o):t.push(o)}),this.on("end",()=>{r=!0;for(let o of n)o.resolve(void 0);n.length=0}),this.on("abort",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),this.on("error",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),{next:()=>y(this,null,function*(){return t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,s)=>n.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0})}),return:()=>y(this,null,function*(){return this.abort(),{value:void 0,done:!0}})}}toReadableStream(){return new zt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};function iA(e,t){let l=e,{id:n,choices:r,created:o,model:i,system_fingerprint:s}=l,a=ae(l,["id","choices","created","model","system_fingerprint"]),c=u(p(u({},a),{id:n,choices:r.map(_=>{var D=_,{message:d,finish_reason:f,index:g,logprobs:h}=D,m=ae(D,["message","finish_reason","index","logprobs"]);if(!f)throw new C(`missing finish_reason for choice ${g}`);let T=d,{content:x=null,function_call:I,tool_calls:te}=T,Se=ae(T,["content","function_call","tool_calls"]),Me=d.role;if(!Me)throw new C(`missing role for choice ${g}`);if(I){let{arguments:xe,name:Oe}=I;if(xe==null)throw new C(`missing function_call.arguments for choice ${g}`);if(!Oe)throw new C(`missing function_call.name for choice ${g}`);return p(u({},m),{message:{content:x,function_call:{arguments:xe,name:Oe},role:Me,refusal:d.refusal??null},finish_reason:f,index:g,logprobs:h})}return te?p(u({},m),{index:g,finish_reason:f,logprobs:h,message:p(u({},Se),{role:Me,content:x,refusal:d.refusal??null,tool_calls:te.map((xe,Oe)=>{let Qt=xe,{function:se,type:ee,id:Xe}=Qt,Yn=ae(Qt,["function","type","id"]),ua=se||{},{arguments:et,name:Et}=ua,It=ae(ua,["arguments","name"]);if(Xe==null)throw new C(`missing choices[${g}].tool_calls[${Oe}].id
${tu(e)}`);if(ee==null)throw new C(`missing choices[${g}].tool_calls[${Oe}].type
${tu(e)}`);if(Et==null)throw new C(`missing choices[${g}].tool_calls[${Oe}].function.name
${tu(e)}`);if(et==null)throw new C(`missing choices[${g}].tool_calls[${Oe}].function.arguments
${tu(e)}`);return p(u({},Yn),{id:Xe,type:ee,function:p(u({},It),{name:Et,arguments:et})})})})}):p(u({},m),{message:p(u({},Se),{content:x,role:Me,refusal:d.refusal??null}),finish_reason:f,index:g,logprobs:h})}),created:o,model:i,object:"chat.completion"}),s?{system_fingerprint:s}:{});return R_(c,t)}function tu(e){return JSON.stringify(e)}var ia=class e extends ii{static fromReadableStream(t){let n=new e(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){let o=new e(null),i=p(u({},r),{headers:p(u({},r?.headers),{"X-Stainless-Helper-Method":"runFunctions"})});return o._run(()=>o._runFunctions(t,n,i)),o}static runTools(t,n,r){let o=new e(n),i=p(u({},r),{headers:p(u({},r?.headers),{"X-Stainless-Helper-Method":"runTools"})});return o._run(()=>o._runTools(t,n,i)),o}};var sa=class extends w{parse(t,n){return O_(t.tools),this._client.chat.completions.create(t,p(u({},n),{headers:p(u({},n?.headers),{"X-Stainless-Helper-Method":"beta.chat.completions.parse"})}))._thenUnwrap(r=>ra(r,t))}runFunctions(t,n){return t.stream?ia.runFunctions(this._client,t,n):oa.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?ia.runTools(this._client,t,n):oa.runTools(this._client,t,n)}stream(t,n){return ii.createChatCompletion(this._client,t,n)}};var si=class extends w{constructor(){super(...arguments),this.completions=new sa(this._client)}};(function(e){e.Completions=sa})(si||(si={}));var ai=class extends w{create(t,n){return this._client.post("/realtime/sessions",p(u({body:t},n),{headers:u({"OpenAI-Beta":"assistants=v2"},n?.headers)}))}};var ci=class extends w{create(t,n){return this._client.post("/realtime/transcription_sessions",p(u({body:t},n),{headers:u({"OpenAI-Beta":"assistants=v2"},n?.headers)}))}};var nu=(()=>{class e extends w{constructor(){super(...arguments),this.sessions=new ai(this._client),this.transcriptionSessions=new ci(this._client)}}return e.Sessions=ai,e.TranscriptionSessions=ci,e})();var Or=class extends w{create(t,n,r){return this._client.post(`/threads/${t}/messages`,p(u({body:n},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,p(u({},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}update(t,n,r,o){return this._client.post(`/threads/${t}/messages/${n}`,p(u({body:r},o),{headers:u({"OpenAI-Beta":"assistants=v2"},o?.headers)}))}list(t,n={},r){return V(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,li,p(u({query:n},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,p(u({},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}},li=class extends G{};Or.MessagesPage=li;var Pr=class extends w{retrieve(t,n,r,o={},i){return V(o)?this.retrieve(t,n,r,{},o):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,p(u({query:o},i),{headers:u({"OpenAI-Beta":"assistants=v2"},i?.headers)}))}list(t,n,r={},o){return V(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,ui,p(u({query:r},o),{headers:u({"OpenAI-Beta":"assistants=v2"},o?.headers)}))}},ui=class extends G{};Pr.RunStepsPage=ui;var dn=class extends w{constructor(){super(...arguments),this.steps=new Pr(this._client)}create(t,n,r){let s=n,{include:o}=s,i=ae(s,["include"]);return this._client.post(`/threads/${t}/runs`,p(u({query:{include:o},body:i},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers),stream:n.stream??!1}))}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,p(u({},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}update(t,n,r,o){return this._client.post(`/threads/${t}/runs/${n}`,p(u({body:r},o),{headers:u({"OpenAI-Beta":"assistants=v2"},o?.headers)}))}list(t,n={},r){return V(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,di,p(u({query:n},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,p(u({},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}createAndPoll(t,n,r){return y(this,null,function*(){let o=yield this.create(t,n,r);return yield this.poll(t,o.id,r)})}createAndStream(t,n,r){return Wt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}poll(t,n,r){return y(this,null,function*(){let o=p(u({},r?.headers),{"X-Stainless-Poll-Helper":"true"});for(r?.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){let{data:i,response:s}=yield this.retrieve(t,n,p(u({},r),{headers:u(u({},r?.headers),o)})).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(r?.pollIntervalMs)a=r.pollIntervalMs;else{let c=s.headers.get("openai-poll-after-ms");if(c){let l=parseInt(c);isNaN(l)||(a=l)}}yield cn(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}})}stream(t,n,r){return Wt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,o){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,p(u({body:r},o),{headers:u({"OpenAI-Beta":"assistants=v2"},o?.headers),stream:r.stream??!1}))}submitToolOutputsAndPoll(t,n,r,o){return y(this,null,function*(){let i=yield this.submitToolOutputs(t,n,r,o);return yield this.poll(t,i.id,o)})}submitToolOutputsStream(t,n,r,o){return Wt.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,o)}},di=class extends G{};dn.RunsPage=di;dn.Steps=Pr;dn.RunStepsPage=ui;var ru=(()=>{class e extends w{constructor(){super(...arguments),this.runs=new dn(this._client),this.messages=new Or(this._client)}create(n={},r){return V(n)?this.create({},n):this._client.post("/threads",p(u({body:n},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}retrieve(n,r){return this._client.get(`/threads/${n}`,p(u({},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}update(n,r,o){return this._client.post(`/threads/${n}`,p(u({body:r},o),{headers:u({"OpenAI-Beta":"assistants=v2"},o?.headers)}))}del(n,r){return this._client.delete(`/threads/${n}`,p(u({},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}createAndRun(n,r){return this._client.post("/threads/runs",p(u({body:n},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers),stream:n.stream??!1}))}createAndRunPoll(n,r){return y(this,null,function*(){let o=yield this.createAndRun(n,r);return yield this.runs.poll(o.thread_id,o.id,r)})}createAndRunStream(n,r){return Wt.createThreadAssistantStream(n,this._client.beta.threads,r)}}return e.Runs=dn,e.RunsPage=di,e.Messages=Or,e.MessagesPage=li,e})();var aa=(()=>{class e extends w{constructor(){super(...arguments),this.realtime=new nu(this._client),this.chat=new si(this._client),this.assistants=new Rr(this._client),this.threads=new ru(this._client)}}return e.Realtime=nu,e.Assistants=Rr,e.AssistantsPage=ti,e.Threads=ru,e})();var Fr=class extends w{create(t,n){return this._client.post("/completions",p(u({body:t},n),{stream:t.stream??!1}))}};var kr=class extends w{create(t,n){let r=!!t.encoding_format,o=r?t.encoding_format:"base64";r&&an("Request","User defined encoding_format:",t.encoding_format);let i=this._client.post("/embeddings",u({body:p(u({},t),{encoding_format:o})},n));return r?i:(an("response","Decoding base64 embeddings to float32 array"),i._thenUnwrap(s=>(s&&s.data&&s.data.forEach(a=>{let c=a.embedding;a.embedding=C_(c)}),s)))}};var Lr=class extends w{retrieve(t,n,r,o){return this._client.get(`/evals/${t}/runs/${n}/output_items/${r}`,o)}list(t,n,r={},o){return V(r)?this.list(t,n,{},r):this._client.getAPIList(`/evals/${t}/runs/${n}/output_items`,fi,u({query:r},o))}},fi=class extends G{};Lr.OutputItemListResponsesPage=fi;var fn=class extends w{constructor(){super(...arguments),this.outputItems=new Lr(this._client)}create(t,n,r){return this._client.post(`/evals/${t}/runs`,u({body:n},r))}retrieve(t,n,r){return this._client.get(`/evals/${t}/runs/${n}`,r)}list(t,n={},r){return V(n)?this.list(t,{},n):this._client.getAPIList(`/evals/${t}/runs`,hi,u({query:n},r))}del(t,n,r){return this._client.delete(`/evals/${t}/runs/${n}`,r)}cancel(t,n,r){return this._client.post(`/evals/${t}/runs/${n}`,r)}},hi=class extends G{};fn.RunListResponsesPage=hi;fn.OutputItems=Lr;fn.OutputItemListResponsesPage=fi;var Zt=class extends w{constructor(){super(...arguments),this.runs=new fn(this._client)}create(t,n){return this._client.post("/evals",u({body:t},n))}retrieve(t,n){return this._client.get(`/evals/${t}`,n)}update(t,n,r){return this._client.post(`/evals/${t}`,u({body:n},r))}list(t={},n){return V(t)?this.list({},t):this._client.getAPIList("/evals",Vr,u({query:t},n))}del(t,n){return this._client.delete(`/evals/${t}`,n)}},Vr=class extends G{};Zt.EvalListResponsesPage=Vr;Zt.Runs=fn;Zt.RunListResponsesPage=hi;var Un=class extends w{create(t,n){return this._client.post("/files",dt(u({body:t},n)))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return V(t)?this.list({},t):this._client.getAPIList("/files",jr,u({query:t},n))}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,p(u({},n),{headers:u({Accept:"application/binary"},n?.headers),__binaryResponse:!0}))}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,n)}waitForProcessing(o){return y(this,arguments,function*(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){let i=new Set(["processed","error","deleted"]),s=Date.now(),a=yield this.retrieve(t);for(;!a.status||!i.has(a.status);)if(yield cn(n),a=yield this.retrieve(t),Date.now()-s>r)throw new Pn({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return a})}},jr=class extends G{};Un.FileObjectsPage=jr;var Br=class extends w{create(t,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,pi,u({body:n,method:"post"},r))}retrieve(t,n={},r){return V(n)?this.retrieve(t,{},n):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,u({query:n},r))}del(t,n,r){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${n}`,r)}},pi=class extends qt{};Br.PermissionCreateResponsesPage=pi;var ou=(()=>{class e extends w{constructor(){super(...arguments),this.permissions=new Br(this._client)}}return e.Permissions=Br,e.PermissionCreateResponsesPage=pi,e})();var $r=class extends w{list(t,n={},r){return V(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,gi,u({query:n},r))}},gi=class extends G{};$r.FineTuningJobCheckpointsPage=gi;var Yt=class extends w{constructor(){super(...arguments),this.checkpoints=new $r(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",u({body:t},n))}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return V(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",mi,u({query:t},n))}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return V(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,yi,u({query:n},r))}},mi=class extends G{},yi=class extends G{};Yt.FineTuningJobsPage=mi;Yt.FineTuningJobEventsPage=yi;Yt.Checkpoints=$r;Yt.FineTuningJobCheckpointsPage=gi;var ca=(()=>{class e extends w{constructor(){super(...arguments),this.jobs=new Yt(this._client),this.checkpoints=new ou(this._client)}}return e.Jobs=Yt,e.FineTuningJobsPage=mi,e.FineTuningJobEventsPage=yi,e.Checkpoints=ou,e})();var Ur=class extends w{createVariation(t,n){return this._client.post("/images/variations",dt(u({body:t},n)))}edit(t,n){return this._client.post("/images/edits",dt(u({body:t},n)))}generate(t,n){return this._client.post("/images/generations",u({body:t},n))}};var Hn=class extends w{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",Hr,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}},Hr=class extends qt{};Hn.ModelsPage=Hr;var zr=class extends w{create(t,n){return this._client.post("/moderations",u({body:t},n))}};function L_(e,t){return!t||!CA(t)?p(u({},e),{output_parsed:null,output:e.output.map(n=>n.type==="function_call"?p(u({},n),{parsed_arguments:null}):n.type==="message"?p(u({},n),{content:n.content.map(r=>p(u({},r),{parsed:null}))}):n)}):Ip(e,t)}function Ip(e,t){let n=e.output.map(o=>{if(o.type==="function_call")return p(u({},o),{parsed_arguments:IA(t,o)});if(o.type==="message"){let i=o.content.map(s=>s.type==="output_text"?p(u({},s),{parsed:DA(t,s.text)}):s);return p(u({},o),{content:i})}return o}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||Sp(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(let o of r.output)if(o.type==="message"){for(let i of o.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function DA(e,t){return e.text?.format?.type!=="json_schema"?null:"$parseRaw"in e.text?.format?(e.text?.format).$parseRaw(t):JSON.parse(t)}function CA(e){return!!na(e.text?.format)}function bA(e){return e?.$brand==="auto-parseable-tool"}function EA(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function IA(e,t){let n=EA(e.tools??[],t.name);return p(u(u({},t),t),{parsed_arguments:bA(n)?n.$parseRaw(t.arguments):n?.strict?JSON.parse(t.arguments):null})}function Sp(e){let t=[];for(let n of e.output)if(n.type==="message")for(let r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}var vi=class extends w{list(t,n={},r){return V(n)?this.list(t,{},n):this._client.getAPIList(`/responses/${t}/input_items`,iu,u({query:n},r))}};var wi=function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},zn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},_i,su,qn,au,V_,j_,B_,$_,cu=class e extends jn{constructor(t){super(),_i.add(this),su.set(this,void 0),qn.set(this,void 0),au.set(this,void 0),wi(this,su,t,"f")}static createResponse(t,n,r){let o=new e(n);return o._run(()=>o._createResponse(t,n,p(u({},r),{headers:p(u({},r?.headers),{"X-Stainless-Helper-Method":"stream"})}))),o}_createResponse(t,n,r){return y(this,null,function*(){let o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),zn(this,_i,"m",V_).call(this);let i=yield t.responses.create(p(u({},n),{stream:!0}),p(u({},r),{signal:this.controller.signal}));this._connected();try{for(var s=ce(i),a,c,l;a=!(c=yield s.next()).done;a=!1){let d=c.value;zn(this,_i,"m",j_).call(this,d)}}catch{l=[c]}finally{try{a&&(c=s.return)&&(yield c.call(s))}finally{if(l)throw l[0]}}if(i.controller.signal?.aborted)throw new pe;return zn(this,_i,"m",B_).call(this)})}[(su=new WeakMap,qn=new WeakMap,au=new WeakMap,_i=new WeakSet,V_=function(){this.ended||wi(this,qn,void 0,"f")},j_=function(n){if(this.ended)return;let r=zn(this,_i,"m",$_).call(this,n);switch(this._emit("event",n),n.type){case"response.output_text.delta":{let o=r.output[n.output_index];if(!o)throw new C(`missing output at index ${n.output_index}`);if(o.type==="message"){let i=o.content[n.content_index];if(!i)throw new C(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new C(`expected content to be 'output_text', got ${i.type}`);this._emit("response.output_text.delta",p(u({},n),{snapshot:i.text}))}break}case"response.function_call_arguments.delta":{let o=r.output[n.output_index];if(!o)throw new C(`missing output at index ${n.output_index}`);o.type==="function_call"&&this._emit("response.function_call_arguments.delta",p(u({},n),{snapshot:o.arguments}));break}default:this._emit(n.type,n);break}},B_=function(){if(this.ended)throw new C("stream has ended, this shouldn't happen");let n=zn(this,qn,"f");if(!n)throw new C("request ended without sending any events");wi(this,qn,void 0,"f");let r=MA(n,zn(this,su,"f"));return wi(this,au,r,"f"),r},$_=function(n){let r=zn(this,qn,"f");if(!r){if(n.type!=="response.created")throw new C(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=wi(this,qn,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{let o=r.output[n.output_index];if(!o)throw new C(`missing output at index ${n.output_index}`);o.type==="message"&&o.content.push(n.part);break}case"response.output_text.delta":{let o=r.output[n.output_index];if(!o)throw new C(`missing output at index ${n.output_index}`);if(o.type==="message"){let i=o.content[n.content_index];if(!i)throw new C(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new C(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{let o=r.output[n.output_index];if(!o)throw new C(`missing output at index ${n.output_index}`);o.type==="function_call"&&(o.arguments+=n.delta);break}case"response.completed":{wi(this,qn,n.response,"f");break}}return r},Symbol.asyncIterator)](){let t=[],n=[],r=!1;return this.on("event",o=>{let i=n.shift();i?i.resolve(o):t.push(o)}),this.on("end",()=>{r=!0;for(let o of n)o.resolve(void 0);n.length=0}),this.on("abort",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),this.on("error",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),{next:()=>y(this,null,function*(){return t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,s)=>n.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0})}),return:()=>y(this,null,function*(){return this.abort(),{value:void 0,done:!0}})}}finalResponse(){return y(this,null,function*(){yield this.done();let t=zn(this,au,"f");if(!t)throw new C("stream ended without producing a ChatCompletion");return t})}};function MA(e,t){return L_(e,t)}var Gn=class extends w{constructor(){super(...arguments),this.inputItems=new vi(this._client)}create(t,n){return this._client.post("/responses",p(u({body:t},n),{stream:t.stream??!1}))._thenUnwrap(r=>("object"in r&&r.object==="response"&&Sp(r),r))}retrieve(t,n={},r){return V(n)?this.retrieve(t,{},n):this._client.get(`/responses/${t}`,u({query:n},r))}del(t,n){return this._client.delete(`/responses/${t}`,p(u({},n),{headers:u({Accept:"*/*"},n?.headers)}))}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>Ip(r,t))}stream(t,n){return cu.createResponse(this._client,t,n)}},iu=class extends G{};Gn.InputItems=vi;var Di=class extends w{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,dt(u({body:n},r)))}};var la=(()=>{class e extends w{constructor(){super(...arguments),this.parts=new Di(this._client)}create(n,r){return this._client.post("/uploads",u({body:n},r))}cancel(n,r){return this._client.post(`/uploads/${n}/cancel`,r)}complete(n,r,o){return this._client.post(`/uploads/${n}/complete`,u({body:r},o))}}return e.Parts=Di,e})();var U_=e=>y(void 0,null,function*(){let t=yield Promise.allSettled(e),n=t.filter(o=>o.status==="rejected");if(n.length){for(let o of n)console.error(o.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}let r=[];for(let o of t)o.status==="fulfilled"&&r.push(o.value);return r});var Wn=class extends w{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,p(u({body:n},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,p(u({},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}update(t,n,r,o){return this._client.post(`/vector_stores/${t}/files/${n}`,p(u({body:r},o),{headers:u({"OpenAI-Beta":"assistants=v2"},o?.headers)}))}list(t,n={},r){return V(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,Zn,p(u({query:n},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,p(u({},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}createAndPoll(t,n,r){return y(this,null,function*(){let o=yield this.create(t,n,r);return yield this.poll(t,o.id,r)})}poll(t,n,r){return y(this,null,function*(){let o=p(u({},r?.headers),{"X-Stainless-Poll-Helper":"true"});for(r?.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){let i=yield this.retrieve(t,n,p(u({},r),{headers:o})).withResponse(),s=i.data;switch(s.status){case"in_progress":let a=5e3;if(r?.pollIntervalMs)a=r.pollIntervalMs;else{let c=i.response.headers.get("openai-poll-after-ms");if(c){let l=parseInt(c);isNaN(l)||(a=l)}}yield cn(a);break;case"failed":case"completed":return s}}})}upload(t,n,r){return y(this,null,function*(){let o=yield this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:o.id},r)})}uploadAndPoll(t,n,r){return y(this,null,function*(){let o=yield this.upload(t,n,r);return yield this.poll(t,o.id,r)})}content(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/files/${n}/content`,Ci,p(u({},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}},Zn=class extends G{},Ci=class extends qt{};Wn.VectorStoreFilesPage=Zn;Wn.FileContentResponsesPage=Ci;var bi=class extends w{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,p(u({body:n},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,p(u({},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,p(u({},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}createAndPoll(t,n,r){return y(this,null,function*(){let o=yield this.create(t,n);return yield this.poll(t,o.id,r)})}listFiles(t,n,r={},o){return V(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,Zn,p(u({query:r},o),{headers:u({"OpenAI-Beta":"assistants=v2"},o?.headers)}))}poll(t,n,r){return y(this,null,function*(){let o=p(u({},r?.headers),{"X-Stainless-Poll-Helper":"true"});for(r?.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){let{data:i,response:s}=yield this.retrieve(t,n,p(u({},r),{headers:o})).withResponse();switch(i.status){case"in_progress":let a=5e3;if(r?.pollIntervalMs)a=r.pollIntervalMs;else{let c=s.headers.get("openai-poll-after-ms");if(c){let l=parseInt(c);isNaN(l)||(a=l)}}yield cn(a);break;case"failed":case"cancelled":case"completed":return i}}})}uploadAndPoll(i,s,a){return y(this,arguments,function*(t,{files:n,fileIds:r=[]},o){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");let c=o?.maxConcurrency??5,l=Math.min(c,n.length),d=this._client,f=n.values(),g=[...r];function h(_){return y(this,null,function*(){for(let D of _){let x=yield d.files.create({file:D,purpose:"assistants"},o);g.push(x.id)}})}let m=Array(l).fill(f).map(h);return yield U_(m),yield this.createAndPoll(t,{file_ids:g})})}};var Je=class extends w{constructor(){super(...arguments),this.files=new Wn(this._client),this.fileBatches=new bi(this._client)}create(t,n){return this._client.post("/vector_stores",p(u({body:t},n),{headers:u({"OpenAI-Beta":"assistants=v2"},n?.headers)}))}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,p(u({},n),{headers:u({"OpenAI-Beta":"assistants=v2"},n?.headers)}))}update(t,n,r){return this._client.post(`/vector_stores/${t}`,p(u({body:n},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}list(t={},n){return V(t)?this.list({},t):this._client.getAPIList("/vector_stores",qr,p(u({query:t},n),{headers:u({"OpenAI-Beta":"assistants=v2"},n?.headers)}))}del(t,n){return this._client.delete(`/vector_stores/${t}`,p(u({},n),{headers:u({"OpenAI-Beta":"assistants=v2"},n?.headers)}))}search(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/search`,Gr,p(u({body:n,method:"post"},r),{headers:u({"OpenAI-Beta":"assistants=v2"},r?.headers)}))}},qr=class extends G{},Gr=class extends qt{};Je.VectorStoresPage=qr;Je.VectorStoreSearchResponsesPage=Gr;Je.Files=Wn;Je.VectorStoreFilesPage=Zn;Je.FileContentResponsesPage=Ci;Je.FileBatches=bi;var H_,N=class extends $l{constructor(s={}){var a=s,{baseURL:t=qs("OPENAI_BASE_URL"),apiKey:n=qs("OPENAI_API_KEY"),organization:r=qs("OPENAI_ORG_ID")??null,project:o=qs("OPENAI_PROJECT_ID")??null}=a,i=ae(a,["baseURL","apiKey","organization","project"]);if(n===void 0)throw new C("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");let c=p(u({apiKey:n,organization:r,project:o},i),{baseURL:t||"https://api.openai.com/v1"});if(!c.dangerouslyAllowBrowser&&D_())throw new C(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:c.baseURL,timeout:c.timeout??6e5,httpAgent:c.httpAgent,maxRetries:c.maxRetries,fetch:c.fetch}),this.completions=new Fr(this),this.chat=new Ws(this),this.embeddings=new kr(this),this.files=new Un(this),this.images=new Ur(this),this.audio=new Zs(this),this.moderations=new zr(this),this.models=new Hn(this),this.fineTuning=new ca(this),this.vectorStores=new Je(this),this.beta=new aa(this),this.batches=new Vn(this),this.uploads=new la(this),this.responses=new Gn(this),this.evals=new Zt(this),this._options=c,this.apiKey=n,this.organization=r,this.project=o}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return u(p(u({},super.defaultHeaders(t)),{"OpenAI-Organization":this.organization,"OpenAI-Project":this.project}),this._options.defaultHeaders)}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return Hh(t,{arrayFormat:"brackets"})}};H_=N;N.OpenAI=H_;N.DEFAULT_TIMEOUT=6e5;N.OpenAIError=C;N.APIError=De;N.APIConnectionError=On;N.APIConnectionTimeoutError=Pn;N.APIUserAbortError=pe;N.NotFoundError=Vs;N.ConflictError=js;N.RateLimitError=$s;N.BadRequestError=Fs;N.AuthenticationError=ks;N.InternalServerError=Us;N.PermissionDeniedError=Ls;N.UnprocessableEntityError=Bs;N.toFile=np;N.fileFromPath=Pl;N.Completions=Fr;N.Chat=Ws;N.ChatCompletionsPage=Ln;N.Embeddings=kr;N.Files=Un;N.FileObjectsPage=jr;N.Images=Ur;N.Audio=Zs;N.Moderations=zr;N.Models=Hn;N.ModelsPage=Hr;N.FineTuning=ca;N.VectorStores=Je;N.VectorStoresPage=qr;N.VectorStoreSearchResponsesPage=Gr;N.Beta=aa;N.Batches=Vn;N.BatchesPage=xr;N.Uploads=la;N.Responses=Gn;N.Evals=Zt;N.EvalListResponsesPage=Vr;var NA=()=>["/what-to-improve"];function OA(e,t){e&1&&(F(0,"div",12),W(1," No ingredients added yet! "),k())}function PA(e,t){if(e&1){let n=Bf();F(0,"div",22)(1,"span"),W(2),k(),F(3,"button",23),Ft("click",function(){let o=rf(n).$index,i=rs(2);return of(i.removeIngredient(o))}),F(4,"span",24),W(5,"Remove"),k(),W(6," \xD7 "),k()()}if(e&2){let n=t.$implicit;ie(2),In(n)}}function FA(e,t){if(e&1&&(F(0,"div",13),Ro(1,PA,7,1,"div",22,To),k()),e&2){let n=rs();ie(),No(n.ingredients())}}function kA(e,t){e&1&&(F(0,"div",12),W(1," Add ONE more ingredient to suggest a great recipe. "),k())}function LA(e,t){e&1&&(F(0,"div",17),Vm(),F(1,"svg",25),hr(2,"circle",26)(3,"path",27),k()())}function VA(e,t){if(e&1&&(F(0,"div",35)(1,"span"),W(2),k()()),e&2){let n=t.$implicit;ie(2),In(n)}}function jA(e,t){if(e&1&&(F(0,"li"),W(1),k()),e&2){let n=t.$implicit;ie(),In(n)}}function BA(e,t){if(e&1){let n=Bf();F(0,"div",28)(1,"h3",29),W(2,"Suggested Recipe:"),k(),F(3,"div",30)(4,"h4",31),W(5),F(6,"span",32),W(7),k(),W(8,")"),k(),F(9,"div",33),W(10),k(),F(11,"p",34),W(12,"Ingredients:"),k(),F(13,"div",13),Ro(14,VA,3,1,"div",35,To),k(),F(16,"p",34),W(17,"Instructions:"),k(),F(18,"ul",36),Ro(19,jA,2,1,"li",null,To),k()()(),F(21,"div",14)(22,"button",37),Ft("click",function(){rf(n);let o=rs();return of(o.reset())}),W(23," New Entry "),k()()}if(e&2){let n,r,o,i,s,a=rs();ie(5),Sn("",(n=a.recipe())==null?null:n.name," ("),ie(2),Sn("",(r=a.recipe())==null?null:r.country," Cuisine"),ie(3),Sn("Preparation Time: ",(o=a.recipe())==null?null:o.cookingTime,""),ie(4),No((i=a.recipe())==null?null:i.ingredients),ie(5),No((s=a.recipe())==null?null:s.instructions)}}var lu=class e{ingredients=sn([]);ingredient=sn("");loading=sn(!1);recipe=sn(null);addIngredient(){this.ingredient()&&(this.ingredients.update(t=>[...t,this.ingredient()]),this.ingredient.set(""))}removeIngredient(t){console.log("Removing ingredient at index:",t),this.ingredients.update(n=>n.filter(r=>r!==n.at(t)))}suggestRecipe(){return y(this,null,function*(){console.log(this.ingredients());let t=new N({baseURL:"https://openrouter.ai/api/v1",apiKey:El.aiKey,dangerouslyAllowBrowser:!0,defaultHeaders:{"HTTP-Referer":"masterchef.ai","X-Title":"MasterChef AI"}});this.loading.set(!0),this.recipe.set(null);let n=`You are a professional chef specializing in traditional cuisines from various cultures.
Using the following ingredients: ${this.ingredients().join(", ")}, create a traditional recipe. 
You may suggest a few culturally appropriate additional ingredients if needed.

The dish must be authentic and culturally recognized in the world.

Return the result strictly as a **valid JSON object** in the following format:

{
  "name": "string",               // Recipe name
  "country": "string",            // Country of origin (e.g., "Jordan", "Turkey", "India", "Saudi Arabia", "Germany", "Italy")
  "ingredients": ["string", ...], // List of ingredients
  "instructions": ["string", ...],// Step-by-step instructions
  "cookingTime": "string"         // Total cooking time (e.g., "45 minutes")
}

Do not include any extra explanation or commentary. Only return the JSON.`,r=yield t.chat.completions.create({messages:[{role:"system",content:"You are a professional chef specialized in Middle Eastern cuisine."},{role:"user",content:n}],model:"qwen/qwen2.5-vl-72b-instruct:free",temperature:.7,max_tokens:3e3});this.loading.set(!1),console.log("Completed");let o=r.choices[0]?.message?.content||"";try{let i=JSON.parse(o);this.recipe.set(i),console.log("Parsed recipe:",i)}catch(i){console.error("Failed to parse recipe JSON:",i)}})}reset(){this.ingredients.set([]),this.ingredient.set(""),this.recipe.set(null),this.loading.set(!1)}parseRecipeResponse(t){let n=t.match(/Recipe Name:\s*(.+)/i),r=t.match(/Ingredients:\s*([\s\S]*?)\n\n|Instructions:/i),o=t.match(/Instructions:\s*([\s\S]*?)\n\n|Cooking Time:/i),i=t.match(/Cooking Time:\s*(.+)/i),s=n?n[1].trim():"Unknown Recipe",a=r?r[1].split(`
`).map(d=>d.replace(/^-/,"").trim()).filter(d=>d):[],c=o?o[1].split(`
`).map(d=>d.replace(/^\d+\.\s*/,"").trim()).filter(d=>d):[],l=i?i[1].trim():"Unknown";return{name:s,country:"Unknown",ingredients:a,instructions:c,cookingTime:l}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=bn({type:e,selectors:[["app-home"]],decls:32,vars:8,consts:[[1,"flex","flex-col","min-h-screen","bg-gray-900","text-white"],[1,"py-6","px-8","bg-gray-800","shadow-lg"],[1,"container","mx-auto","flex","justify-between","items-center"],[1,"text-3xl","font-bold","bg-gradient-to-r","from-amber-500","to-red-600","bg-clip-text","text-transparent"],[3,"routerLink"],[1,"flex-1","flex","items-center","justify-center","px-4"],[1,"max-w-2xl","mx-auto"],[1,"text-2xl","text-center","md:text-3xl","mb-8","font-semibold"],[1,"flex","w-full","max-w-md","mx-auto","mb-8"],["type","text","placeholder","Write your ingredients",1,"w-full","px-4","py-3","rounded-l-lg","bg-gray-800","border","border-gray-700","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"bg-amber-500","hover:bg-amber-600","text-gray-900","font-bold","px-5","py-3","rounded-r-lg","transition",3,"click"],[1,"mb-8"],[1,"text-gray-400","italic","text-center"],[1,"flex","flex-wrap","justify-center","gap-2"],[1,"flex","justify-center","mt-2"],[1,"px-8","py-3","rounded-lg","font-bold","cursor-pointer","bg-gradient-to-r","from-amber-500","to-red-600","hover:from-amber-600","hover:to-red-700","transform","hover:-translate-y-1","transition","duration-300","shadow-lg","disabled:cursor-not-allowed","disabled:opacity-50",3,"click","disabled"],[1,"mt-8"],[1,"flex","items-center","justify-center"],[1,"py-6","px-8","bg-gray-800"],[1,"container","mx-auto","text-center","text-gray-400"],[1,"text-center"],[1,"text-sm","text-gray-500"],[1,"bg-gray-800","px-3","py-1","rounded-full","flex","items-center"],[1,"ml-2","text-red-400","hover:text-red-300",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-amber-500"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 1 1 16 0A8 8 0 0 1 4 12zm2.5 0a5.5 5.5 0 1 0 11 0A5.5 5.5 0 0 0 6.5 12z",1,"opacity-75"],[1,"my-5"],[1,"text-xl","font-semibold","mb-2"],[1,"bg-gray-800","p-4","rounded-lg","shadow-md"],[1,"text-lg","font-bold"],[1,"font-normal"],[1,"text-gray-400","mt-0"],[1,"text-gray-400","mt-2"],[1,"bg-purple-950","px-3","py-1","rounded-full","flex","items-center"],[1,"list-decimal","list-inside","mt-2"],[1,"px-8","py-3","rounded-lg","font-bold","cursor-pointer","bg-gradient-to-r","from-amber-500","to-red-600","hover:from-amber-600","hover:to-red-700","transform","hover:-translate-y-1","transition","duration-300","shadow-lg","disabled:cursor-not-allowed","disabled:opacity-50",3,"click"]],template:function(n,r){n&1&&(F(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1",3),W(4," Master Chef "),k(),F(5,"a",4),W(6,"Future plans"),k()()(),F(7,"main",5)(8,"div",6)(9,"h2",7),W(10,"Create a recipe with your ingredients"),k(),F(11,"div",8)(12,"input",9),Uf("ngModelChange",function(i){return lv(r.ingredient,i)||(r.ingredient=i),i}),k(),F(13,"button",10),Ft("click",function(){return r.addIngredient()}),W(14," Add "),k()(),F(15,"div",11),xo(16,OA,2,0,"div",12)(17,FA,3,0,"div",13),k(),xo(18,kA,2,0,"div",12),F(19,"div",14)(20,"button",15),Ft("click",function(){return r.suggestRecipe()}),W(21," Suggest a recipe "),k()(),F(22,"div",16),xo(23,LA,4,0,"div",17),k(),xo(24,BA,24,3),k()(),F(25,"footer",18)(26,"div",19)(27,"p"),W(28,"\xA9 2025 Master Chef. All rights reserved."),k()(),F(29,"div",20)(30,"p",21),W(31,"Made with \u2764\uFE0F by Samer Hijazi"),k()()()()),n&2&&(ie(5),Vc("routerLink",dv(7,NA)),ie(7),$f("ngModel",r.ingredient),ie(4),ns(r.ingredients().length===0?16:17),ie(2),ns(r.ingredients().length==4?18:-1),ie(2),Vc("disabled",r.ingredients().length<5||r.loading()),ie(3),ns(r.loading()?23:-1),ie(),ns(r.recipe()&&!r.loading()?24:-1))},dependencies:[Jw,Al,Yw,jh,Oh,bl],encapsulation:2})};function $A(e,t){if(e&1&&(F(0,"div",7)(1,"div",12)(2,"h5",15),W(3),k(),F(4,"p",16),W(5),k()(),F(6,"div",17)(7,"span",18),W(8),k()()()),e&2){let n=t.$implicit;ie(3),In(n.title),ie(2),In(n.description),ie(3),Sn("Priority: ",n.priority,"")}}var uu=class e{improvementItems=[{title:"Generate an image of the dish",description:"The AI should generate an image of the dish based on the recipe provided.",priority:"High"},{title:"Enhance recipe instructions",description:"The AI should provide clearer and more detailed step-by-step instructions for each recipe.",priority:"Medium"},{title:"Add nutritional information",description:"Include nutritional information for each recipe, such as calories, protein, and fat content.",priority:"Low"}];static \u0275fac=function(n){return new(n||e)};static \u0275cmp=bn({type:e,selectors:[["app-what-to-improve"]],decls:21,vars:0,consts:[[1,"flex","flex-col","min-h-screen","bg-gray-900","text-white"],[1,"py-6","px-8","bg-gray-800","shadow-lg"],[1,"container","mx-auto","flex","justify-between","items-center"],[1,"text-3xl","font-bold","bg-gradient-to-r","from-amber-500","to-red-600","bg-clip-text","text-transparent"],[1,"text-sm"],[1,"container","mx-auto","px-4","py-8"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"bg-gray-800","rounded-lg","shadow-lg","overflow-hidden","border","border-gray-700","transition-transform","hover:scale-105"],[1,"mt-10"],[1,"bg-gray-800","rounded-lg","shadow-lg","overflow-hidden","border","border-gray-700"],[1,"px-6","py-4","bg-gradient-to-r","from-gray-800","to-gray-700","border-b","border-gray-700"],[1,"text-xl","font-bold","text-amber-400"],[1,"p-6"],[1,"text-gray-300","mb-4"],[1,"px-4","py-2","bg-gradient-to-r","from-amber-500","to-red-600","text-white","font-medium","rounded-md","shadow-md","hover:shadow-lg","transition-all","duration-300","hover:from-amber-600","hover:to-red-700"],[1,"text-xl","font-semibold","mb-3","bg-gradient-to-r","from-amber-500","to-red-600","bg-clip-text","text-transparent"],[1,"text-gray-300"],[1,"px-6","py-3","bg-gray-700","bg-opacity-50"],[1,"text-sm","text-amber-400"]],template:function(n,r){n&1&&(F(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1",3),W(4," Master Chef "),k(),F(5,"div",4),W(6," Future enhancements "),k()()(),F(7,"div",5)(8,"div",6),Ro(9,$A,9,3,"div",7,To),k(),F(11,"div",8)(12,"div",9)(13,"div",10)(14,"h4",11),W(15,"Have Suggestions?"),k()(),F(16,"div",12)(17,"p",13),W(18,"We're always looking to improve our application. If you have any suggestions, please feel free to submit them."),k(),F(19,"button",14),W(20,"Submit Feedback"),k()()()()()()),n&2&&(ie(9),No(r.improvementItems))},encapsulation:2})};var q_=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:lu},{path:"what-to-improve",component:uu}];var G_={providers:[pv({eventCoalescing:!0}),Rh(q_),{provide:"environment",useValue:El}]};var du=class e{title="angular-masterchef";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=bn({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&hr(0,"router-outlet")},dependencies:[Is],encapsulation:2})};rh(du,G_).catch(e=>console.error(e));
